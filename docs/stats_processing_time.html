<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 4 Statistical Analysis: Processing Time | SfM Processing Software Comparison</title>
  <meta name="description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 4 Statistical Analysis: Processing Time | SfM Processing Software Comparison" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 4 Statistical Analysis: Processing Time | SfM Processing Software Comparison" />
  
  <meta name="twitter:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="George Woolsey" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ptcld_analysis.html"/>
<link rel="next" href="field_valid.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/canopy ht. (m)_d795be-1/data_stars_canopyhtm7603e9.txt"></script>
<script src="libs/joda-0.0.1/joda.js"></script>
<script src="libs/joda-0.0.1/addImageQuery-bindings.js"></script>
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Code") elem.value = "Show Code";
    else elem.value = "Hide Code";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Code" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="sfm_data.html"><a href="sfm_data.html"><i class="fa fa-check"></i><b>2</b> SfM Image Processing Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="sfm_data.html"><a href="sfm_data.html#udp"><i class="fa fa-check"></i><b>2.1</b> User-Defined Parameters</a></li>
<li class="chapter" data-level="2.2" data-path="sfm_data.html"><a href="sfm_data.html#metashape-image-processing"><i class="fa fa-check"></i><b>2.2</b> Metashape Image Processing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="sfm_data.html"><a href="sfm_data.html#metashape-report-pdf-data-extraction"><i class="fa fa-check"></i><b>2.2.1</b> Metashape Report PDF Data Extraction</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="sfm_data.html"><a href="sfm_data.html#metashape-report-data-exploration"><i class="fa fa-check"></i><b>2.3</b> Metashape Report Data Exploration</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="sfm_data.html"><a href="sfm_data.html#preliminaries"><i class="fa fa-check"></i><b>2.3.1</b> Preliminaries</a></li>
<li class="chapter" data-level="2.3.2" data-path="sfm_data.html"><a href="sfm_data.html#metashape-processing-time-summary"><i class="fa fa-check"></i><b>2.3.2</b> Metashape Processing Time Summary</a></li>
<li class="chapter" data-level="2.3.3" data-path="sfm_data.html"><a href="sfm_data.html#flight-and-sparse-cloud-metrics"><i class="fa fa-check"></i><b>2.3.3</b> Flight and Sparse Cloud Metrics</a></li>
<li class="chapter" data-level="2.3.4" data-path="sfm_data.html"><a href="sfm_data.html#metashape-dense-point-cloud-summary"><i class="fa fa-check"></i><b>2.3.4</b> Metashape Dense Point Cloud Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html"><i class="fa fa-check"></i><b>3</b> <strong>R</strong> Point Cloud Processing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#number-of-files-summary"><i class="fa fa-check"></i><b>3.1</b> Number of files summary</a></li>
<li class="chapter" data-level="3.2" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#processing-time-summary"><i class="fa fa-check"></i><b>3.2</b> Processing Time Summary</a></li>
<li class="chapter" data-level="3.3" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#processing-time-vs-points"><i class="fa fa-check"></i><b>3.3</b> Processing Time vs # Points</a></li>
<li class="chapter" data-level="3.4" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#processing-section-timing"><i class="fa fa-check"></i><b>3.4</b> Processing Section Timing</a></li>
<li class="chapter" data-level="3.5" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#summary-of-point-cloud-data"><i class="fa fa-check"></i><b>3.5</b> Summary of point cloud data</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#table"><i class="fa fa-check"></i><b>3.5.1</b> Table</a></li>
<li class="chapter" data-level="3.5.2" data-path="ptcld_analysis.html"><a href="ptcld_analysis.html#plot-summary"><i class="fa fa-check"></i><b>3.5.2</b> Plot summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="stats_processing_time.html"><a href="stats_processing_time.html"><i class="fa fa-check"></i><b>4</b> Statistical Analysis: Processing Time</a>
<ul>
<li class="chapter" data-level="4.1" data-path="stats_processing_time.html"><a href="stats_processing_time.html#one_pred_mod"><i class="fa fa-check"></i><b>4.1</b> One Nominal Predictor</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="stats_processing_time.html"><a href="stats_processing_time.html#summary-statistics"><i class="fa fa-check"></i><b>4.1.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.1.2" data-path="stats_processing_time.html"><a href="stats_processing_time.html#linear-model"><i class="fa fa-check"></i><b>4.1.2</b> Linear Model</a></li>
<li class="chapter" data-level="4.1.3" data-path="stats_processing_time.html"><a href="stats_processing_time.html#anova"><i class="fa fa-check"></i><b>4.1.3</b> ANOVA</a></li>
<li class="chapter" data-level="4.1.4" data-path="stats_processing_time.html"><a href="stats_processing_time.html#one_pred_mod_bays"><i class="fa fa-check"></i><b>4.1.4</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="stats_processing_time.html"><a href="stats_processing_time.html#two_pred_mod"><i class="fa fa-check"></i><b>4.2</b> Two Nominal Predictors</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="stats_processing_time.html"><a href="stats_processing_time.html#summary-statistics-1"><i class="fa fa-check"></i><b>4.2.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.2.2" data-path="stats_processing_time.html"><a href="stats_processing_time.html#linear-model-1"><i class="fa fa-check"></i><b>4.2.2</b> Linear Model</a></li>
<li class="chapter" data-level="4.2.3" data-path="stats_processing_time.html"><a href="stats_processing_time.html#anova-1"><i class="fa fa-check"></i><b>4.2.3</b> ANOVA</a></li>
<li class="chapter" data-level="4.2.4" data-path="stats_processing_time.html"><a href="stats_processing_time.html#two_pred_mod_bays"><i class="fa fa-check"></i><b>4.2.4</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="stats_processing_time.html"><a href="stats_processing_time.html#two-nominal-predictors-site-effects"><i class="fa fa-check"></i><b>4.3</b> Two Nominal Predictors + site effects</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="stats_processing_time.html"><a href="stats_processing_time.html#summary-statistics-2"><i class="fa fa-check"></i><b>4.3.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.3.2" data-path="stats_processing_time.html"><a href="stats_processing_time.html#id_3_pred_mod_bays"><i class="fa fa-check"></i><b>4.3.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="stats_processing_time.html"><a href="stats_processing_time.html#gamma-two-nominal-predictors-site-effects"><i class="fa fa-check"></i><b>4.4</b> Gamma: Two Nominal Predictors + site effects</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="stats_processing_time.html"><a href="stats_processing_time.html#summary-statistics-3"><i class="fa fa-check"></i><b>4.4.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="4.4.2" data-path="stats_processing_time.html"><a href="stats_processing_time.html#id_4_pred_mod_bays"><i class="fa fa-check"></i><b>4.4.2</b> Bayesian</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="field_valid.html"><a href="field_valid.html"><i class="fa fa-check"></i><b>5</b> Field Validation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="field_valid.html"><a href="field_valid.html#setup"><i class="fa fa-check"></i><b>5.1</b> Setup</a></li>
<li class="chapter" data-level="5.2" data-path="field_valid.html"><a href="field_valid.html#data-load-functions"><i class="fa fa-check"></i><b>5.2</b> Data Load Functions</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="field_valid.html"><a href="field_valid.html#summary-of-field-validation-plot-data"><i class="fa fa-check"></i><b>5.2.1</b> Summary of field validation plot data</a></li>
<li class="chapter" data-level="5.2.2" data-path="field_valid.html"><a href="field_valid.html#load-uas-data-function"><i class="fa fa-check"></i><b>5.2.2</b> Load UAS data function</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="field_valid.html"><a href="field_valid.html#validation-data-functions"><i class="fa fa-check"></i><b>5.3</b> Validation Data Functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="field_valid.html"><a href="field_valid.html#true-positive-identification"><i class="fa fa-check"></i><b>5.3.1</b> True Positive Identification</a></li>
<li class="chapter" data-level="5.3.2" data-path="field_valid.html"><a href="field_valid.html#combine-with-commission-and-omission"><i class="fa fa-check"></i><b>5.3.2</b> Combine with Commission and Omission</a></li>
<li class="chapter" data-level="5.3.3" data-path="field_valid.html"><a href="field_valid.html#full-validation-function"><i class="fa fa-check"></i><b>5.3.3</b> Full validation function</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="field_valid.html"><a href="field_valid.html#full-pipeline-function"><i class="fa fa-check"></i><b>5.4</b> Full pipeline function</a></li>
<li class="chapter" data-level="5.5" data-path="field_valid.html"><a href="field_valid.html#apply-validation-for-all"><i class="fa fa-check"></i><b>5.5</b> Apply validation for all</a></li>
<li class="chapter" data-level="5.6" data-path="field_valid.html"><a href="field_valid.html#full-validation-summary-data"><i class="fa fa-check"></i><b>5.6</b> Full Validation Summary Data</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="field_valid.html"><a href="field_valid.html#true-positive-commission-ommission"><i class="fa fa-check"></i><b>5.6.1</b> True Positive, Commission, Ommission</a></li>
<li class="chapter" data-level="5.6.2" data-path="field_valid.html"><a href="field_valid.html#f-score"><i class="fa fa-check"></i><b>5.6.2</b> F-score</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="field_valid.html"><a href="field_valid.html#valid_ex"><i class="fa fa-check"></i><b>5.7</b> Example Validation Process</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="field_valid.html"><a href="field_valid.html#data-load"><i class="fa fa-check"></i><b>5.7.1</b> Data Load</a></li>
<li class="chapter" data-level="5.7.2" data-path="field_valid.html"><a href="field_valid.html#orthomosaic-data"><i class="fa fa-check"></i><b>5.7.2</b> Orthomosaic Data</a></li>
<li class="chapter" data-level="5.7.3" data-path="field_valid.html"><a href="field_valid.html#field-data"><i class="fa fa-check"></i><b>5.7.3</b> Field Data</a></li>
<li class="chapter" data-level="5.7.4" data-path="field_valid.html"><a href="field_valid.html#uas-data"><i class="fa fa-check"></i><b>5.7.4</b> UAS Data</a></li>
<li class="chapter" data-level="5.7.5" data-path="field_valid.html"><a href="field_valid.html#true-positives"><i class="fa fa-check"></i><b>5.7.5</b> True Positives</a></li>
<li class="chapter" data-level="5.7.6" data-path="field_valid.html"><a href="field_valid.html#field-uas-comparison"><i class="fa fa-check"></i><b>5.7.6</b> Field &amp; UAS Comparison</a></li>
<li class="chapter" data-level="5.7.7" data-path="field_valid.html"><a href="field_valid.html#combine-plots"><i class="fa fa-check"></i><b>5.7.7</b> Combine Plots</a></li>
<li class="chapter" data-level="5.7.8" data-path="field_valid.html"><a href="field_valid.html#height-vs.-dbh-of-tp-co-om"><i class="fa fa-check"></i><b>5.7.8</b> Height vs. DBH of <span class="math inline">\(Tp\)</span>, <span class="math inline">\(Co\)</span>, <span class="math inline">\(Om\)</span></a></li>
<li class="chapter" data-level="5.7.9" data-path="field_valid.html"><a href="field_valid.html#height-and-dbh-distribution-tp-co-om"><i class="fa fa-check"></i><b>5.7.9</b> Height and DBH Distribution <span class="math inline">\(Tp\)</span>, <span class="math inline">\(Co\)</span>, <span class="math inline">\(Om\)</span></a></li>
<li class="chapter" data-level="5.7.10" data-path="field_valid.html"><a href="field_valid.html#detected-overstory-tp-height-difference"><i class="fa fa-check"></i><b>5.7.10</b> Detected Overstory (<span class="math inline">\(TP\)</span>) Height Difference</a></li>
<li class="chapter" data-level="5.7.11" data-path="field_valid.html"><a href="field_valid.html#detected-overstory-tp-dbh-difference"><i class="fa fa-check"></i><b>5.7.11</b> Detected Overstory (<span class="math inline">\(TP\)</span>) DBH Difference</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="field_valid.html"><a href="field_valid.html#mapped-validation-for-all-sites"><i class="fa fa-check"></i><b>5.8</b> Mapped validation for all sites</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="field_valid.html"><a href="field_valid.html#plotting-function"><i class="fa fa-check"></i><b>5.8.1</b> Plotting Function</a></li>
<li class="chapter" data-level="5.8.2" data-path="field_valid.html"><a href="field_valid.html#validation-maps"><i class="fa fa-check"></i><b>5.8.2</b> Validation Maps</a></li>
<li class="chapter" data-level="5.8.3" data-path="field_valid.html"><a href="field_valid.html#validation-maps-combined"><i class="fa fa-check"></i><b>5.8.3</b> Validation Maps Combined</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="field_valid.html"><a href="field_valid.html#field-data-descriptive-statistics"><i class="fa fa-check"></i><b>5.9</b> Field Data Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="field_valid.html"><a href="field_valid.html#table-of-height-summary-statistics"><i class="fa fa-check"></i><b>5.9.1</b> Table of Height Summary Statistics</a></li>
<li class="chapter" data-level="5.9.2" data-path="field_valid.html"><a href="field_valid.html#table-of-dbh-summary-statistics"><i class="fa fa-check"></i><b>5.9.2</b> Table of DBH Summary Statistics</a></li>
<li class="chapter" data-level="5.9.3" data-path="field_valid.html"><a href="field_valid.html#height-and-dbh-distribution"><i class="fa fa-check"></i><b>5.9.3</b> Height and DBH Distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="stats_validation.html"><a href="stats_validation.html"><i class="fa fa-check"></i><b>6</b> Statistical Analysis: Validation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="stats_validation.html"><a href="stats_validation.html#setup-1"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-4"><i class="fa fa-check"></i><b>6.2</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.3" data-path="stats_validation.html"><a href="stats_validation.html#f_one_pred_mod"><i class="fa fa-check"></i><b>6.3</b> One Nominal Predictor</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-5"><i class="fa fa-check"></i><b>6.3.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.3.2" data-path="stats_validation.html"><a href="stats_validation.html#f_one_pred_mod_bays"><i class="fa fa-check"></i><b>6.3.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="stats_validation.html"><a href="stats_validation.html#f_two_pred_mod"><i class="fa fa-check"></i><b>6.4</b> Two Nominal Predictors</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-6"><i class="fa fa-check"></i><b>6.4.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.4.2" data-path="stats_validation.html"><a href="stats_validation.html#f_two_pred_mod_bays"><i class="fa fa-check"></i><b>6.4.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="stats_validation.html"><a href="stats_validation.html#f_three_pred_mod"><i class="fa fa-check"></i><b>6.5</b> Three Nominal Predictors</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-7"><i class="fa fa-check"></i><b>6.5.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.5.2" data-path="stats_validation.html"><a href="stats_validation.html#f_three_pred_mod_bays"><i class="fa fa-check"></i><b>6.5.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="stats_validation.html"><a href="stats_validation.html#three-nominal-predictors-site-effects"><i class="fa fa-check"></i><b>6.6</b> Three Nominal Predictors + site effects</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-8"><i class="fa fa-check"></i><b>6.6.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.6.2" data-path="stats_validation.html"><a href="stats_validation.html#f_4_pred_mod_bays"><i class="fa fa-check"></i><b>6.6.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="stats_validation.html"><a href="stats_validation.html#beta_mod"><i class="fa fa-check"></i><b>6.7</b> The beta: Three Nominal Predictors + site effects</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-9"><i class="fa fa-check"></i><b>6.7.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.7.2" data-path="stats_validation.html"><a href="stats_validation.html#f_5_pred_mod_bays"><i class="fa fa-check"></i><b>6.7.2</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="stats_validation.html"><a href="stats_validation.html#heterogeneous-variances-and-robustness-against-outliers"><i class="fa fa-check"></i><b>6.8</b> Heterogeneous variances and robustness against outliers</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="stats_validation.html"><a href="stats_validation.html#f_5_5_pred_mod_bays"><i class="fa fa-check"></i><b>6.8.1</b> Bayesian</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="stats_validation.html"><a href="stats_validation.html#overstory-and-understory-validation"><i class="fa fa-check"></i><b>6.9</b> Overstory and Understory Validation</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="stats_validation.html"><a href="stats_validation.html#summary-statistics-10"><i class="fa fa-check"></i><b>6.9.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="6.9.2" data-path="stats_validation.html"><a href="stats_validation.html#f_6_pred_mod_bays"><i class="fa fa-check"></i><b>6.9.2</b> Bayesian</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stats_detected.html"><a href="stats_detected.html"><i class="fa fa-check"></i><b>7</b> Statistical Analysis: Detected Tree Reliability</a>
<ul>
<li class="chapter" data-level="7.1" data-path="stats_detected.html"><a href="stats_detected.html#model-definition"><i class="fa fa-check"></i><b>7.1</b> Model Definition</a></li>
<li class="chapter" data-level="7.2" data-path="stats_detected.html"><a href="stats_detected.html#setup-2"><i class="fa fa-check"></i><b>7.2</b> Setup</a></li>
<li class="chapter" data-level="7.3" data-path="stats_detected.html"><a href="stats_detected.html#tree-height"><i class="fa fa-check"></i><b>7.3</b> Tree Height</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="stats_detected.html"><a href="stats_detected.html#summary-statistics-11"><i class="fa fa-check"></i><b>7.3.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="7.3.2" data-path="stats_detected.html"><a href="stats_detected.html#model-height-mean-error-bias"><i class="fa fa-check"></i><b>7.3.2</b> Model: Height Mean Error (bias)</a></li>
<li class="chapter" data-level="7.3.3" data-path="stats_detected.html"><a href="stats_detected.html#model-height-rmse-precision"><i class="fa fa-check"></i><b>7.3.3</b> Model: Height RMSE (precision)</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="stats_detected.html"><a href="stats_detected.html#tree-dbh"><i class="fa fa-check"></i><b>7.4</b> Tree DBH</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="stats_detected.html"><a href="stats_detected.html#summary-statistics-12"><i class="fa fa-check"></i><b>7.4.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="7.4.2" data-path="stats_detected.html"><a href="stats_detected.html#model-dbh-mean-error-bias"><i class="fa fa-check"></i><b>7.4.2</b> Model: DBH Mean Error (bias)</a></li>
<li class="chapter" data-level="7.4.3" data-path="stats_detected.html"><a href="stats_detected.html#model-dbh-rmse-precision"><i class="fa fa-check"></i><b>7.4.3</b> Model: DBH RMSE (precision)</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="stats_detected.html"><a href="stats_detected.html#posterior-predictive-checks-1"><i class="fa fa-check"></i><b>7.5</b> Posterior Predictive Checks</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="stats_detected.html"><a href="stats_detected.html#trace-plots"><i class="fa fa-check"></i><b>7.5.1</b> Trace-plots</a></li>
<li class="chapter" data-level="7.5.2" data-path="stats_detected.html"><a href="stats_detected.html#hatr-values"><i class="fa fa-check"></i><b>7.5.2</b> <span class="math inline">\(\hat{R}\)</span> values</a></li>
<li class="chapter" data-level="7.5.3" data-path="stats_detected.html"><a href="stats_detected.html#mean-and-sd"><i class="fa fa-check"></i><b>7.5.3</b> Mean and SD</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SfM Processing Software Comparison</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="stats_processing_time" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Section 4</span> Statistical Analysis: Processing Time<a href="stats_processing_time.html#stats_processing_time" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section, we’ll evaluate the influence of the processing parameters on point cloud processing time. This data was described in <a href="ptcld_analysis.html#ptcld_analysis">this section</a>.</p>
<p>The objective of this study is to determine the influence of different structure from motion (SfM) software (e.g. Agisoft Metashap, OpenDroneMap, Pix4D) and processing parameters on processing time needed to create the data required for quantifying forest structure from UAS imagery. The data required includes: i) SfM-derived point cloud(s) in <code>.laz</code> or <code>.las</code> format, and ii) data extracted from these point clouds such as canopy height models (CHM), tree locations, and tree measurements (height and diameter).</p>
<p>All of the predictor variables of interest in this study are categorical (a.k.a. factor or nominal) while the predicted variables are metric and include processing time (continuous &gt; 0) and F-score (ranges from 0-1). This type of statistical analysis is described in the second edition of Kruschke’s <a href="https://sites.google.com/site/doingbayesiandataanalysis/"><em>Doing Bayesian data analysis</em> (2015)</a>:</p>
<blockquote>
<p>This chapter considers data structures that consist of a metric predicted variable and two (or more) nominal predictors….Data structures of the type considered in this chapter are often encountered in real research. For example, we might want to predict monetary income from political party affiliation and religious affiliation, or we might want to predict galvanic skin response to different combinations of categories of visual stimulus and categories of auditory stimulus. As mentioned in the previous chapter, this type of data structure can arise from experiments or from observational studies. In experiments, the researcher assigns the categories (at random) to the experimental subjects. In observational studies, both the nominal predictor values and the metric predicted value are generated by processes outside the direct control of the researcher.</p>
<p>The traditional treatment of this sort of data structure is called multifactor analysis of variance (ANOVA). Our Bayesian approach will be a hierarchical generalization of the traditional ANOVA model. The chapter also considers generalizations of the traditional models, because it is straight forward in Bayesian software to implement heavy-tailed distributions to accommodate outliers, along with hierarchical structure to accommodate heterogeneous variances in the different groups. <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015, pp.583–584)</a></p>
</blockquote>
<p>The following analysis will expand the traditional mixed ANOVA approach following the methods outlined by Kassambara in the <a href="https://www.datanovia.com/en/courses/comparing-multiple-means-in-r/"><em>Comparing Multiple Means in R</em></a> online course to build a Bayesian approach based on <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a>. This analysis was greatly enhanced by <a href="https://solomonkurz.netlify.app/book/">A. Solomon Kurz’s ebook supplement</a> to <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a>.</p>
<p><strong>For this example we’ll use data from Agisoft Metashape only</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="stats_processing_time.html#cb34-1" tabindex="-1"></a>ptime_data <span class="ot">=</span> ptcld_processing_data <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="stats_processing_time.html#cb34-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">tolower</span>(software)<span class="sc">==</span><span class="st">&quot;metashape&quot;</span>)</span></code></pre></div>
<div id="one_pred_mod" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> One Nominal Predictor<a href="stats_processing_time.html#one_pred_mod" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We’ll start by exploring the influence of the depth map generation quality parameter on the point cloud processing time.</p>
<div id="summary-statistics" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Summary Statistics<a href="stats_processing_time.html#summary-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Summary statistics by group:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="stats_processing_time.html#cb35-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="stats_processing_time.html#cb35-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="stats_processing_time.html#cb35-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb35-4"><a href="stats_processing_time.html#cb35-4" tabindex="-1"></a>    <span class="at">mean_processing_mins =</span> <span class="fu">mean</span>(timer_total_time_mins, <span class="at">na.rm =</span> T)</span>
<span id="cb35-5"><a href="stats_processing_time.html#cb35-5" tabindex="-1"></a>    <span class="co"># , med_processing_mins = median(timer_total_time_mins, na.rm = T)</span></span>
<span id="cb35-6"><a href="stats_processing_time.html#cb35-6" tabindex="-1"></a>    , <span class="at">sd_processing_mins =</span> <span class="fu">sd</span>(timer_total_time_mins, <span class="at">na.rm =</span> T)</span>
<span id="cb35-7"><a href="stats_processing_time.html#cb35-7" tabindex="-1"></a>    , <span class="at">n =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb35-8"><a href="stats_processing_time.html#cb35-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb35-9"><a href="stats_processing_time.html#cb35-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">caption =</span> <span class="st">&quot;summary statistics: point cloud processing time by depth map quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-10"><a href="stats_processing_time.html#cb35-10" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:one-sum-stats">Table 4.1: </span>summary statistics: point cloud processing time by depth map quality
</caption>
<thead>
<tr>
<th style="text-align:left;">
depth_maps_generation_quality
</th>
<th style="text-align:right;">
mean_processing_mins
</th>
<th style="text-align:right;">
sd_processing_mins
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:right;">
83.5
</td>
<td style="text-align:right;">
27.5
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
20.2
</td>
<td style="text-align:right;">
6.1
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:right;">
6.7
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:right;">
2.2
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
20
</td>
</tr>
</tbody>
</table>
</div>
<div id="linear-model" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Linear Model<a href="stats_processing_time.html#linear-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use a linear model to obtain means by group:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="stats_processing_time.html#cb36-1" tabindex="-1"></a>lm1_temp <span class="ot">=</span> <span class="fu">lm</span>(</span>
<span id="cb36-2"><a href="stats_processing_time.html#cb36-2" tabindex="-1"></a>  timer_total_time_mins <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> depth_maps_generation_quality</span>
<span id="cb36-3"><a href="stats_processing_time.html#cb36-3" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb36-4"><a href="stats_processing_time.html#cb36-4" tabindex="-1"></a>)</span>
<span id="cb36-5"><a href="stats_processing_time.html#cb36-5" tabindex="-1"></a><span class="co"># summary</span></span>
<span id="cb36-6"><a href="stats_processing_time.html#cb36-6" tabindex="-1"></a>lm1_temp <span class="sc">%&gt;%</span> </span>
<span id="cb36-7"><a href="stats_processing_time.html#cb36-7" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-8"><a href="stats_processing_time.html#cb36-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">term =</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(term, <span class="st">&quot;depth_maps_generation_quality&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-9"><a href="stats_processing_time.html#cb36-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;linear model: point cloud processing time by depth map quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-10"><a href="stats_processing_time.html#cb36-10" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:one-sum-lm">Table 4.2: </span>linear model: point cloud processing time by depth map quality
</caption>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:right;">
83.49
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
29.61
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
20.22
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
7.17
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:right;">
6.70
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
2.38
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:right;">
2.18
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
0.77
</td>
<td style="text-align:right;">
0.44
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:right;">
1.04
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
0.37
</td>
<td style="text-align:right;">
0.71
</td>
</tr>
</tbody>
</table>
<p>and plot these means with 95% confidence interval</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="stats_processing_time.html#cb37-1" tabindex="-1"></a>lm1_temp <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="stats_processing_time.html#cb37-2" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="stats_processing_time.html#cb37-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(</span>
<span id="cb37-4"><a href="stats_processing_time.html#cb37-4" tabindex="-1"></a>    lm1_temp <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="stats_processing_time.html#cb37-5" tabindex="-1"></a>      <span class="fu">confint</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="stats_processing_time.html#cb37-6" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="stats_processing_time.html#cb37-7" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">lower =</span> <span class="dv">1</span>, <span class="at">upper =</span> <span class="dv">2</span>)</span>
<span id="cb37-8"><a href="stats_processing_time.html#cb37-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb37-9"><a href="stats_processing_time.html#cb37-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-10"><a href="stats_processing_time.html#cb37-10" tabindex="-1"></a>    <span class="at">term =</span> term <span class="sc">%&gt;%</span> </span>
<span id="cb37-11"><a href="stats_processing_time.html#cb37-11" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-12"><a href="stats_processing_time.html#cb37-12" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb37-13"><a href="stats_processing_time.html#cb37-13" tabindex="-1"></a>          <span class="at">ordered =</span> <span class="cn">TRUE</span></span>
<span id="cb37-14"><a href="stats_processing_time.html#cb37-14" tabindex="-1"></a>          , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb37-15"><a href="stats_processing_time.html#cb37-15" tabindex="-1"></a>            <span class="st">&quot;lowest&quot;</span></span>
<span id="cb37-16"><a href="stats_processing_time.html#cb37-16" tabindex="-1"></a>            , <span class="st">&quot;low&quot;</span></span>
<span id="cb37-17"><a href="stats_processing_time.html#cb37-17" tabindex="-1"></a>            , <span class="st">&quot;medium&quot;</span></span>
<span id="cb37-18"><a href="stats_processing_time.html#cb37-18" tabindex="-1"></a>            , <span class="st">&quot;high&quot;</span></span>
<span id="cb37-19"><a href="stats_processing_time.html#cb37-19" tabindex="-1"></a>            , <span class="st">&quot;ultra high&quot;</span></span>
<span id="cb37-20"><a href="stats_processing_time.html#cb37-20" tabindex="-1"></a>          )</span>
<span id="cb37-21"><a href="stats_processing_time.html#cb37-21" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()</span>
<span id="cb37-22"><a href="stats_processing_time.html#cb37-22" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-23"><a href="stats_processing_time.html#cb37-23" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb37-24"><a href="stats_processing_time.html#cb37-24" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> estimate, <span class="at">fill =</span> term)</span>
<span id="cb37-25"><a href="stats_processing_time.html#cb37-25" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-26"><a href="stats_processing_time.html#cb37-26" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<span id="cb37-27"><a href="stats_processing_time.html#cb37-27" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> lower, <span class="at">ymax =</span> upper), <span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">&quot;gray66&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-28"><a href="stats_processing_time.html#cb37-28" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;inferno&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb37-29"><a href="stats_processing_time.html#cb37-29" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb37-30"><a href="stats_processing_time.html#cb37-30" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;depth map quality&quot;</span>, <span class="at">y =</span> <span class="st">&quot;point cloud processing mins.&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-31"><a href="stats_processing_time.html#cb37-31" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb37-32"><a href="stats_processing_time.html#cb37-32" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>, <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-15-1.png" width="1008" /></p>
</div>
<div id="anova" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> ANOVA<a href="stats_processing_time.html#anova" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One-way ANOVA to test for differences in group means</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="stats_processing_time.html#cb38-1" tabindex="-1"></a>aov1_temp <span class="ot">=</span> <span class="fu">aov</span>(</span>
<span id="cb38-2"><a href="stats_processing_time.html#cb38-2" tabindex="-1"></a>  timer_total_time_mins <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> depth_maps_generation_quality</span>
<span id="cb38-3"><a href="stats_processing_time.html#cb38-3" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb38-4"><a href="stats_processing_time.html#cb38-4" tabindex="-1"></a>) </span>
<span id="cb38-5"><a href="stats_processing_time.html#cb38-5" tabindex="-1"></a><span class="co"># summary</span></span>
<span id="cb38-6"><a href="stats_processing_time.html#cb38-6" tabindex="-1"></a>aov1_temp <span class="sc">%&gt;%</span> </span>
<span id="cb38-7"><a href="stats_processing_time.html#cb38-7" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb38-8"><a href="stats_processing_time.html#cb38-8" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;one-way ANOVA: point cloud processing time by depth map quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-9"><a href="stats_processing_time.html#cb38-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:one-sum-aov">Table 4.3: </span>one-way ANOVA: point cloud processing time by depth map quality
</caption>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
sumsq
</th>
<th style="text-align:right;">
meansq
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
148594.20
</td>
<td style="text-align:right;">
29718.84
</td>
<td style="text-align:right;">
186.85
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Residuals
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
15109.77
</td>
<td style="text-align:right;">
159.05
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>The sum of squared residuals is the same between the linear model and the ANOVA model</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="stats_processing_time.html#cb39-1" tabindex="-1"></a><span class="co"># RSS</span></span>
<span id="cb39-2"><a href="stats_processing_time.html#cb39-2" tabindex="-1"></a><span class="fu">identical</span>(</span>
<span id="cb39-3"><a href="stats_processing_time.html#cb39-3" tabindex="-1"></a>  <span class="co"># linear model</span></span>
<span id="cb39-4"><a href="stats_processing_time.html#cb39-4" tabindex="-1"></a>  lm1_temp<span class="sc">$</span>residuals <span class="sc">%&gt;%</span> </span>
<span id="cb39-5"><a href="stats_processing_time.html#cb39-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb39-6"><a href="stats_processing_time.html#cb39-6" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">value=</span>value<span class="sc">^</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-7"><a href="stats_processing_time.html#cb39-7" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">pull</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb39-8"><a href="stats_processing_time.html#cb39-8" tabindex="-1"></a>    <span class="fu">sum</span>()</span>
<span id="cb39-9"><a href="stats_processing_time.html#cb39-9" tabindex="-1"></a>  <span class="co"># anova</span></span>
<span id="cb39-10"><a href="stats_processing_time.html#cb39-10" tabindex="-1"></a>  , <span class="fu">summary</span>(aov1_temp)[[<span class="dv">1</span>]][[<span class="st">&quot;Sum Sq&quot;</span>]][[<span class="dv">2</span>]]</span>
<span id="cb39-11"><a href="stats_processing_time.html#cb39-11" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="stats_processing_time.html#cb41-1" tabindex="-1"></a><span class="co"># F value</span></span>
<span id="cb41-2"><a href="stats_processing_time.html#cb41-2" tabindex="-1"></a><span class="fu">identical</span>(</span>
<span id="cb41-3"><a href="stats_processing_time.html#cb41-3" tabindex="-1"></a>  <span class="co"># linear model</span></span>
<span id="cb41-4"><a href="stats_processing_time.html#cb41-4" tabindex="-1"></a>  <span class="fu">summary</span>(lm1_temp)<span class="sc">$</span>fstatistic[<span class="st">&quot;value&quot;</span>] <span class="sc">%&gt;%</span> <span class="fu">unname</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">6</span>)</span>
<span id="cb41-5"><a href="stats_processing_time.html#cb41-5" tabindex="-1"></a>  <span class="co"># anova</span></span>
<span id="cb41-6"><a href="stats_processing_time.html#cb41-6" tabindex="-1"></a>  , <span class="fu">summary</span>(aov1_temp)[[<span class="dv">1</span>]][[<span class="st">&quot;F value&quot;</span>]][[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">unname</span>() <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">6</span>)</span>
<span id="cb41-7"><a href="stats_processing_time.html#cb41-7" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>we can use the <code>marginaleffects</code> package to <a href="https://marginaleffects.com/vignettes/comparisons.html">compare and contrast</a> the mean estimates by group.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="stats_processing_time.html#cb43-1" tabindex="-1"></a><span class="co"># calculate average group effects </span></span>
<span id="cb43-2"><a href="stats_processing_time.html#cb43-2" tabindex="-1"></a>contrast_temp <span class="ot">=</span></span>
<span id="cb43-3"><a href="stats_processing_time.html#cb43-3" tabindex="-1"></a>  marginaleffects<span class="sc">::</span><span class="fu">avg_comparisons</span>(</span>
<span id="cb43-4"><a href="stats_processing_time.html#cb43-4" tabindex="-1"></a>    <span class="at">model =</span> lm1_temp</span>
<span id="cb43-5"><a href="stats_processing_time.html#cb43-5" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="fu">list</span>(<span class="at">depth_maps_generation_quality =</span> <span class="st">&quot;revpairwise&quot;</span>)</span>
<span id="cb43-6"><a href="stats_processing_time.html#cb43-6" tabindex="-1"></a>    , <span class="at">comparison =</span> <span class="st">&quot;difference&quot;</span></span>
<span id="cb43-7"><a href="stats_processing_time.html#cb43-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="stats_processing_time.html#cb43-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb43-9"><a href="stats_processing_time.html#cb43-9" tabindex="-1"></a>    <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span></span>
<span id="cb43-10"><a href="stats_processing_time.html#cb43-10" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;mean</span><span class="sc">\\</span><span class="st">(&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-11"><a href="stats_processing_time.html#cb43-11" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span>) </span>
<span id="cb43-12"><a href="stats_processing_time.html#cb43-12" tabindex="-1"></a>  )</span>
<span id="cb43-13"><a href="stats_processing_time.html#cb43-13" tabindex="-1"></a></span>
<span id="cb43-14"><a href="stats_processing_time.html#cb43-14" tabindex="-1"></a><span class="co"># separate contrast</span></span>
<span id="cb43-15"><a href="stats_processing_time.html#cb43-15" tabindex="-1"></a>contrast_temp <span class="ot">=</span> </span>
<span id="cb43-16"><a href="stats_processing_time.html#cb43-16" tabindex="-1"></a>  contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb43-17"><a href="stats_processing_time.html#cb43-17" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(</span>
<span id="cb43-18"><a href="stats_processing_time.html#cb43-18" tabindex="-1"></a>    <span class="at">cols =</span> contrast</span>
<span id="cb43-19"><a href="stats_processing_time.html#cb43-19" tabindex="-1"></a>    , <span class="at">delim =</span> <span class="st">&quot; - &quot;</span></span>
<span id="cb43-20"><a href="stats_processing_time.html#cb43-20" tabindex="-1"></a>    , <span class="at">names =</span> <span class="fu">paste0</span>(</span>
<span id="cb43-21"><a href="stats_processing_time.html#cb43-21" tabindex="-1"></a>        <span class="st">&quot;sorter&quot;</span></span>
<span id="cb43-22"><a href="stats_processing_time.html#cb43-22" tabindex="-1"></a>        , <span class="dv">1</span><span class="sc">:</span>(<span class="fu">max</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(contrast_temp<span class="sc">$</span>contrast, <span class="st">&quot;-&quot;</span>))<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb43-23"><a href="stats_processing_time.html#cb43-23" tabindex="-1"></a>      )</span>
<span id="cb43-24"><a href="stats_processing_time.html#cb43-24" tabindex="-1"></a>    , <span class="at">too_few =</span> <span class="st">&quot;align_start&quot;</span></span>
<span id="cb43-25"><a href="stats_processing_time.html#cb43-25" tabindex="-1"></a>    , <span class="at">cols_remove =</span> F</span>
<span id="cb43-26"><a href="stats_processing_time.html#cb43-26" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-27"><a href="stats_processing_time.html#cb43-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(sorter1<span class="sc">!=</span>sorter2) <span class="sc">%&gt;%</span> </span>
<span id="cb43-28"><a href="stats_processing_time.html#cb43-28" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb43-29"><a href="stats_processing_time.html#cb43-29" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb43-30"><a href="stats_processing_time.html#cb43-30" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sorter&quot;</span>)</span>
<span id="cb43-31"><a href="stats_processing_time.html#cb43-31" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="cf">function</span>(x){<span class="fu">factor</span>(</span>
<span id="cb43-32"><a href="stats_processing_time.html#cb43-32" tabindex="-1"></a>        x, <span class="at">ordered =</span> T</span>
<span id="cb43-33"><a href="stats_processing_time.html#cb43-33" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb43-34"><a href="stats_processing_time.html#cb43-34" tabindex="-1"></a>      )}</span>
<span id="cb43-35"><a href="stats_processing_time.html#cb43-35" tabindex="-1"></a>    )</span>
<span id="cb43-36"><a href="stats_processing_time.html#cb43-36" tabindex="-1"></a>    , <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(</span>
<span id="cb43-37"><a href="stats_processing_time.html#cb43-37" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(sorter1), <span class="fu">as.numeric</span>(sorter2)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-38"><a href="stats_processing_time.html#cb43-38" tabindex="-1"></a>        <span class="fu">as.numeric</span>()</span>
<span id="cb43-39"><a href="stats_processing_time.html#cb43-39" tabindex="-1"></a>      )</span>
<span id="cb43-40"><a href="stats_processing_time.html#cb43-40" tabindex="-1"></a>    , <span class="at">sig_lvl =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb43-41"><a href="stats_processing_time.html#cb43-41" tabindex="-1"></a>        p.value <span class="sc">&lt;=</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="st">&quot;0.01&quot;</span></span>
<span id="cb43-42"><a href="stats_processing_time.html#cb43-42" tabindex="-1"></a>        , p.value <span class="sc">&lt;=</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">&quot;0.05&quot;</span></span>
<span id="cb43-43"><a href="stats_processing_time.html#cb43-43" tabindex="-1"></a>        , p.value <span class="sc">&lt;=</span> <span class="fl">0.1</span> <span class="sc">~</span> <span class="st">&quot;0.10&quot;</span></span>
<span id="cb43-44"><a href="stats_processing_time.html#cb43-44" tabindex="-1"></a>        , T <span class="sc">~</span> <span class="st">&quot;not significant&quot;</span></span>
<span id="cb43-45"><a href="stats_processing_time.html#cb43-45" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-46"><a href="stats_processing_time.html#cb43-46" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb43-47"><a href="stats_processing_time.html#cb43-47" tabindex="-1"></a>        <span class="at">ordered =</span> T</span>
<span id="cb43-48"><a href="stats_processing_time.html#cb43-48" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb43-49"><a href="stats_processing_time.html#cb43-49" tabindex="-1"></a>          <span class="st">&quot;0.01&quot;</span></span>
<span id="cb43-50"><a href="stats_processing_time.html#cb43-50" tabindex="-1"></a>          , <span class="st">&quot;0.05&quot;</span></span>
<span id="cb43-51"><a href="stats_processing_time.html#cb43-51" tabindex="-1"></a>          , <span class="st">&quot;0.10&quot;</span></span>
<span id="cb43-52"><a href="stats_processing_time.html#cb43-52" tabindex="-1"></a>          , <span class="st">&quot;not significant&quot;</span></span>
<span id="cb43-53"><a href="stats_processing_time.html#cb43-53" tabindex="-1"></a>        )</span>
<span id="cb43-54"><a href="stats_processing_time.html#cb43-54" tabindex="-1"></a>      )</span>
<span id="cb43-55"><a href="stats_processing_time.html#cb43-55" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-56"><a href="stats_processing_time.html#cb43-56" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast)</span>
<span id="cb43-57"><a href="stats_processing_time.html#cb43-57" tabindex="-1"></a></span>
<span id="cb43-58"><a href="stats_processing_time.html#cb43-58" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb43-59"><a href="stats_processing_time.html#cb43-59" tabindex="-1"></a>contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb43-60"><a href="stats_processing_time.html#cb43-60" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb43-61"><a href="stats_processing_time.html#cb43-61" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> contrast)) <span class="sc">+</span></span>
<span id="cb43-62"><a href="stats_processing_time.html#cb43-62" tabindex="-1"></a>    <span class="fu">geom_linerange</span>(</span>
<span id="cb43-63"><a href="stats_processing_time.html#cb43-63" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">xmin =</span> conf.low, <span class="at">xmax =</span> conf.high, <span class="at">color =</span> sig_lvl)</span>
<span id="cb43-64"><a href="stats_processing_time.html#cb43-64" tabindex="-1"></a>      , <span class="at">linewidth =</span> <span class="dv">5</span></span>
<span id="cb43-65"><a href="stats_processing_time.html#cb43-65" tabindex="-1"></a>      , <span class="at">alpha =</span> <span class="fl">0.9</span></span>
<span id="cb43-66"><a href="stats_processing_time.html#cb43-66" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb43-67"><a href="stats_processing_time.html#cb43-67" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> estimate)) <span class="sc">+</span></span>
<span id="cb43-68"><a href="stats_processing_time.html#cb43-68" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb43-69"><a href="stats_processing_time.html#cb43-69" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb43-70"><a href="stats_processing_time.html#cb43-70" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb43-71"><a href="stats_processing_time.html#cb43-71" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb43-72"><a href="stats_processing_time.html#cb43-72" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb43-73"><a href="stats_processing_time.html#cb43-73" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb43-74"><a href="stats_processing_time.html#cb43-74" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;Mean group constrasts&quot;</span></span>
<span id="cb43-75"><a href="stats_processing_time.html#cb43-75" tabindex="-1"></a>      , <span class="at">color =</span> <span class="st">&quot;sig. level&quot;</span></span>
<span id="cb43-76"><a href="stats_processing_time.html#cb43-76" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb43-77"><a href="stats_processing_time.html#cb43-77" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb43-78"><a href="stats_processing_time.html#cb43-78" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb43-79"><a href="stats_processing_time.html#cb43-79" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb43-80"><a href="stats_processing_time.html#cb43-80" tabindex="-1"></a>      , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb43-81"><a href="stats_processing_time.html#cb43-81" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-16-1.png" width="1008" /></p>
<p>and view the contrasts in a table</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="stats_processing_time.html#cb44-1" tabindex="-1"></a>contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="stats_processing_time.html#cb44-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="stats_processing_time.html#cb44-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, estimate, conf.low, conf.high, p.value) <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="stats_processing_time.html#cb44-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>estimate) <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="stats_processing_time.html#cb44-5" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb44-6"><a href="stats_processing_time.html#cb44-6" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Mean group effects: depth map quality processing time constrasts&quot;</span></span>
<span id="cb44-7"><a href="stats_processing_time.html#cb44-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb44-8"><a href="stats_processing_time.html#cb44-8" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-9"><a href="stats_processing_time.html#cb44-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-17">Table 4.4: </span>Mean group effects: depth map quality processing time constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
contrast
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
difference
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.low
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.high
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:right;">
63.27
</td>
<td style="text-align:right;">
55.46
</td>
<td style="text-align:right;">
71.09
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:right;">
76.78
</td>
<td style="text-align:right;">
68.97
</td>
<td style="text-align:right;">
84.60
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:right;">
81.31
</td>
<td style="text-align:right;">
73.50
</td>
<td style="text-align:right;">
89.13
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:right;">
82.45
</td>
<td style="text-align:right;">
74.63
</td>
<td style="text-align:right;">
90.26
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:right;">
13.51
</td>
<td style="text-align:right;">
5.70
</td>
<td style="text-align:right;">
21.33
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:right;">
18.04
</td>
<td style="text-align:right;">
10.22
</td>
<td style="text-align:right;">
25.86
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:right;">
19.18
</td>
<td style="text-align:right;">
11.36
</td>
<td style="text-align:right;">
26.99
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:right;">
4.53
</td>
<td style="text-align:right;">
-3.29
</td>
<td style="text-align:right;">
12.35
</td>
<td style="text-align:right;">
0.26
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:right;">
5.66
</td>
<td style="text-align:right;">
-2.15
</td>
<td style="text-align:right;">
13.48
</td>
<td style="text-align:right;">
0.16
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:right;">
1.14
</td>
<td style="text-align:right;">
-6.68
</td>
<td style="text-align:right;">
8.95
</td>
<td style="text-align:right;">
0.78
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="one_pred_mod_bays" class="section level3 hasAnchor" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Bayesian<a href="stats_processing_time.html#one_pred_mod_bays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> notes:</p>
<blockquote>
<p>The terminology, “analysis of variance,” comes from a decomposition of overall data variance into within-group variance and between-group variance (Fisher, 1925). Algebraically, the sum of squared deviations of the scores from their overall mean equals the sum of squared deviations of the scores from their respective group means plus the sum of squared deviations of the group means from the overall mean. In other words, the total variance can be partitioned into within-group variance plus between-group variance. Because one definition of the word “analysis” is separation into constituent parts, the term ANOVA accurately describes the underlying algebra in the traditional methods. That algebraic relation is not used in the hierarchical Bayesian approach presented here. The Bayesian method can estimate component variances, however. Therefore, the Bayesian approach is not ANOVA, but is analogous to ANOVA. (p. 556)</p>
</blockquote>
<p>and see section 19 from <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-one-nominal-predictor.html">Kurz’s ebook supplement</a></p>
<p>The metric predicted variable with one nominal predictor variable model has the form:</p>
<p><span class="math display">\[\begin{align*}
y_{i}  &amp;\sim {\sf Normal} \bigl(\mu_{i}, \sigma_{y} \bigr) \\
\mu_{i} &amp;= \beta_0 + \sum_{j=1}^{J} \beta_{1[j]} x_{1[j]} \bigl(i\bigr) \\
\beta_{0}  &amp;\sim {\sf Normal} (0,10) \\
\beta_{1[j]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{1}}) \\
\sigma_{\beta_{1}} &amp;\sim {\sf uniform} (0,100) \\
\sigma_{y} &amp;\sim {\sf uniform} (0,100) \\
\end{align*}\]</span></p>
<p>, where <span class="math inline">\(j\)</span> is the depth map generation quality setting corresponding to observation <span class="math inline">\(i\)</span></p>
<p><em>to start, we’ll use the default <code>brms::brm</code> prior settings which may not match those described in the model specification above</em></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="stats_processing_time.html#cb45-1" tabindex="-1"></a>brms1_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb45-2"><a href="stats_processing_time.html#cb45-2" tabindex="-1"></a>  <span class="at">formula =</span> timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb45-3"><a href="stats_processing_time.html#cb45-3" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb45-4"><a href="stats_processing_time.html#cb45-4" tabindex="-1"></a>  , <span class="at">family =</span> brms<span class="sc">::</span><span class="fu">brmsfamily</span>(<span class="at">family =</span> <span class="st">&quot;gaussian&quot;</span>)</span>
<span id="cb45-5"><a href="stats_processing_time.html#cb45-5" tabindex="-1"></a>  , <span class="at">iter =</span> <span class="dv">3000</span>, <span class="at">warmup =</span> <span class="dv">1000</span>, <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb45-6"><a href="stats_processing_time.html#cb45-6" tabindex="-1"></a>  , <span class="at">cores =</span> <span class="fu">round</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>()<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb45-7"><a href="stats_processing_time.html#cb45-7" tabindex="-1"></a>  , <span class="at">file =</span> <span class="fu">paste0</span>(rootdir, <span class="st">&quot;/fits/brms1_mod&quot;</span>)</span>
<span id="cb45-8"><a href="stats_processing_time.html#cb45-8" tabindex="-1"></a>)</span></code></pre></div>
<p>check the trace plots for problems with convergence of the Markov chains</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="stats_processing_time.html#cb46-1" tabindex="-1"></a><span class="fu">plot</span>(brms1_mod)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-18-1.png" width="1008" /></p>
<p>check the prior distributions</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="stats_processing_time.html#cb47-1" tabindex="-1"></a><span class="co"># check priors</span></span>
<span id="cb47-2"><a href="stats_processing_time.html#cb47-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">prior_summary</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="stats_processing_time.html#cb47-3" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="stats_processing_time.html#cb47-4" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
prior
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
coef
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
resp
</th>
<th style="text-align:left;">
dpar
</th>
<th style="text-align:left;">
nlpar
</th>
<th style="text-align:left;">
lb
</th>
<th style="text-align:left;">
ub
</th>
<th style="text-align:left;">
source
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
student_t(3, 6.6, 8.2)
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
student_t(3, 0, 8.2)
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
student_t(3, 0, 8.2)
</td>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
</tbody>
</table>
<p>The <code>brms::brm</code> model summary</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="stats_processing_time.html#cb48-1" tabindex="-1"></a>brms1_mod <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="stats_processing_time.html#cb48-2" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">posterior_summary</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="stats_processing_time.html#cb48-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="stats_processing_time.html#cb48-4" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;parameter&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="stats_processing_time.html#cb48-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="stats_processing_time.html#cb48-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb48-7"><a href="stats_processing_time.html#cb48-7" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;b_&quot;</span>) </span>
<span id="cb48-8"><a href="stats_processing_time.html#cb48-8" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;r_&quot;</span>) </span>
<span id="cb48-9"><a href="stats_processing_time.html#cb48-9" tabindex="-1"></a>    <span class="sc">|</span> parameter <span class="sc">==</span> <span class="st">&quot;sigma&quot;</span></span>
<span id="cb48-10"><a href="stats_processing_time.html#cb48-10" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-11"><a href="stats_processing_time.html#cb48-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb48-12"><a href="stats_processing_time.html#cb48-12" tabindex="-1"></a>    <span class="at">parameter =</span> parameter <span class="sc">%&gt;%</span> </span>
<span id="cb48-13"><a href="stats_processing_time.html#cb48-13" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;b_depth_maps_generation_quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-14"><a href="stats_processing_time.html#cb48-14" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;r_depth_maps_generation_quality&quot;</span>)</span>
<span id="cb48-15"><a href="stats_processing_time.html#cb48-15" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-16"><a href="stats_processing_time.html#cb48-16" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Bayesian one nominal predictor: point cloud processing time by depth map quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-17"><a href="stats_processing_time.html#cb48-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:one-sum-brms-rslt1">Table 4.5: </span>Bayesian one nominal predictor: point cloud processing time by depth map quality
</caption>
<thead>
<tr>
<th style="text-align:left;">
parameter
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
est.error
</th>
<th style="text-align:right;">
q2.5
</th>
<th style="text-align:right;">
q97.5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
b_Intercept
</td>
<td style="text-align:right;">
12.09
</td>
<td style="text-align:right;">
8.69
</td>
<td style="text-align:right;">
-3.91
</td>
<td style="text-align:right;">
30.55
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:right;">
12.67
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
11.00
</td>
<td style="text-align:right;">
14.65
</td>
</tr>
<tr>
<td style="text-align:left;">
[ultra.high,Intercept]
</td>
<td style="text-align:right;">
70.66
</td>
<td style="text-align:right;">
9.13
</td>
<td style="text-align:right;">
51.67
</td>
<td style="text-align:right;">
87.34
</td>
</tr>
<tr>
<td style="text-align:left;">
[high,Intercept]
</td>
<td style="text-align:right;">
8.10
</td>
<td style="text-align:right;">
9.15
</td>
<td style="text-align:right;">
-10.79
</td>
<td style="text-align:right;">
25.05
</td>
</tr>
<tr>
<td style="text-align:left;">
[medium,Intercept]
</td>
<td style="text-align:right;">
-5.33
</td>
<td style="text-align:right;">
9.00
</td>
<td style="text-align:right;">
-24.25
</td>
<td style="text-align:right;">
11.58
</td>
</tr>
<tr>
<td style="text-align:left;">
[low,Intercept]
</td>
<td style="text-align:right;">
-9.81
</td>
<td style="text-align:right;">
9.09
</td>
<td style="text-align:right;">
-28.62
</td>
<td style="text-align:right;">
7.16
</td>
</tr>
<tr>
<td style="text-align:left;">
[lowest,Intercept]
</td>
<td style="text-align:right;">
-10.87
</td>
<td style="text-align:right;">
9.10
</td>
<td style="text-align:right;">
-29.81
</td>
<td style="text-align:right;">
5.89
</td>
</tr>
</tbody>
</table>
<p>With the <code>stats::coef</code> function, we can get the group-level summaries in a “non-deflection” metric. In the model, the group means represented by <span class="math inline">\(\beta_{1[j]}\)</span> are deflections from overall baseline, such that the deflections sum to zero (see <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015, p.554)</a>). Summaries of the group-specific deflections are available via the <code>brms::ranef</code> function.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="stats_processing_time.html#cb49-1" tabindex="-1"></a>stats<span class="sc">::</span><span class="fu">coef</span>(brms1_mod) <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="stats_processing_time.html#cb49-2" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="stats_processing_time.html#cb49-3" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;group&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="stats_processing_time.html#cb49-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(</span>
<span id="cb49-5"><a href="stats_processing_time.html#cb49-5" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">&quot;group&quot;</span>)</span>
<span id="cb49-6"><a href="stats_processing_time.html#cb49-6" tabindex="-1"></a>    , <span class="at">.fn =</span> <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(.x, <span class="st">&quot;depth_maps_generation_quality.&quot;</span>)</span>
<span id="cb49-7"><a href="stats_processing_time.html#cb49-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="stats_processing_time.html#cb49-8" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;brms::brm model: point cloud processing time by depth map quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-9"><a href="stats_processing_time.html#cb49-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:one-sum-brms-rslt2">Table 4.6: </span>brms::brm model: point cloud processing time by depth map quality
</caption>
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:right;">
Estimate.Intercept
</th>
<th style="text-align:right;">
Est.Error.Intercept
</th>
<th style="text-align:right;">
Q2.5.Intercept
</th>
<th style="text-align:right;">
Q97.5.Intercept
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:right;">
82.75
</td>
<td style="text-align:right;">
2.90
</td>
<td style="text-align:right;">
76.96
</td>
<td style="text-align:right;">
88.42
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:right;">
20.19
</td>
<td style="text-align:right;">
2.85
</td>
<td style="text-align:right;">
14.58
</td>
<td style="text-align:right;">
25.77
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:right;">
6.76
</td>
<td style="text-align:right;">
2.88
</td>
<td style="text-align:right;">
1.02
</td>
<td style="text-align:right;">
12.36
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:right;">
2.28
</td>
<td style="text-align:right;">
2.90
</td>
<td style="text-align:right;">
-3.45
</td>
<td style="text-align:right;">
7.92
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:right;">
1.21
</td>
<td style="text-align:right;">
2.85
</td>
<td style="text-align:right;">
-4.33
</td>
<td style="text-align:right;">
6.81
</td>
</tr>
</tbody>
</table>
<p>We can look at the model noise standard deviation <span class="math inline">\(\sigma_y\)</span></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="stats_processing_time.html#cb50-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb50-2"><a href="stats_processing_time.html#cb50-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="stats_processing_time.html#cb50-3" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb50-4"><a href="stats_processing_time.html#cb50-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sigma, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb50-5"><a href="stats_processing_time.html#cb50-5" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb50-6"><a href="stats_processing_time.html#cb50-6" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb50-7"><a href="stats_processing_time.html#cb50-7" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb50-8"><a href="stats_processing_time.html#cb50-8" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_size =</span> <span class="dv">3</span></span>
<span id="cb50-9"><a href="stats_processing_time.html#cb50-9" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb50-10"><a href="stats_processing_time.html#cb50-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb50-11"><a href="stats_processing_time.html#cb50-11" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb50-12"><a href="stats_processing_time.html#cb50-12" tabindex="-1"></a>  <span class="fu">xlab</span>(latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">sigma_y$&quot;</span>)) <span class="sc">+</span></span>
<span id="cb50-13"><a href="stats_processing_time.html#cb50-13" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-19-1.png" width="1008" /></p>
<p>plot the posterior distributions of the conditional means with the median processing time and the 95% highest posterior density interval (HDI)</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="stats_processing_time.html#cb51-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="stats_processing_time.html#cb51-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="stats_processing_time.html#cb51-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb51-4"><a href="stats_processing_time.html#cb51-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb51-5"><a href="stats_processing_time.html#cb51-5" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb51-6"><a href="stats_processing_time.html#cb51-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb51-7"><a href="stats_processing_time.html#cb51-7" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb51-8"><a href="stats_processing_time.html#cb51-8" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_quality</span>
<span id="cb51-9"><a href="stats_processing_time.html#cb51-9" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_quality</span>
<span id="cb51-10"><a href="stats_processing_time.html#cb51-10" tabindex="-1"></a>    )</span>
<span id="cb51-11"><a href="stats_processing_time.html#cb51-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb51-12"><a href="stats_processing_time.html#cb51-12" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb51-13"><a href="stats_processing_time.html#cb51-13" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb51-14"><a href="stats_processing_time.html#cb51-14" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb51-15"><a href="stats_processing_time.html#cb51-15" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_color =</span> <span class="st">&quot;gray66&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb51-16"><a href="stats_processing_time.html#cb51-16" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb51-17"><a href="stats_processing_time.html#cb51-17" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb51-18"><a href="stats_processing_time.html#cb51-18" tabindex="-1"></a>    <span class="co"># tidybayes::stat_dotsinterval(</span></span>
<span id="cb51-19"><a href="stats_processing_time.html#cb51-19" tabindex="-1"></a>    <span class="co">#   point_interval = median_hdi, .width = .95</span></span>
<span id="cb51-20"><a href="stats_processing_time.html#cb51-20" tabindex="-1"></a>    <span class="co">#   , shape = 21, point_fill = &quot;gray&quot;, justification = -0.04</span></span>
<span id="cb51-21"><a href="stats_processing_time.html#cb51-21" tabindex="-1"></a>    <span class="co">#   , quantiles = 100</span></span>
<span id="cb51-22"><a href="stats_processing_time.html#cb51-22" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb51-23"><a href="stats_processing_time.html#cb51-23" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;inferno&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb51-24"><a href="stats_processing_time.html#cb51-24" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb51-25"><a href="stats_processing_time.html#cb51-25" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb51-26"><a href="stats_processing_time.html#cb51-26" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb51-27"><a href="stats_processing_time.html#cb51-27" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb51-28"><a href="stats_processing_time.html#cb51-28" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb51-29"><a href="stats_processing_time.html#cb51-29" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb51-30"><a href="stats_processing_time.html#cb51-30" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-20-1.png" width="1008" /></p>
<p>we can also make pairwise comparisons</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="stats_processing_time.html#cb52-1" tabindex="-1"></a><span class="co"># define comparisons to make</span></span>
<span id="cb52-2"><a href="stats_processing_time.html#cb52-2" tabindex="-1"></a>contrast_temp <span class="ot">=</span> contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast)</span>
<span id="cb52-3"><a href="stats_processing_time.html#cb52-3" tabindex="-1"></a>contrast_list <span class="ot">=</span></span>
<span id="cb52-4"><a href="stats_processing_time.html#cb52-4" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(contrast_temp) <span class="sc">%&gt;%</span> </span>
<span id="cb52-5"><a href="stats_processing_time.html#cb52-5" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="cf">function</span>(x){</span>
<span id="cb52-6"><a href="stats_processing_time.html#cb52-6" tabindex="-1"></a>    <span class="fu">c</span>(contrast_temp<span class="sc">$</span>sorter1[x],contrast_temp<span class="sc">$</span>sorter2[x])    </span>
<span id="cb52-7"><a href="stats_processing_time.html#cb52-7" tabindex="-1"></a>  }) <span class="sc">%&gt;%</span> </span>
<span id="cb52-8"><a href="stats_processing_time.html#cb52-8" tabindex="-1"></a>  <span class="fu">list</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-9"><a href="stats_processing_time.html#cb52-9" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">list_flatten</span>()</span>
<span id="cb52-10"><a href="stats_processing_time.html#cb52-10" tabindex="-1"></a></span>
<span id="cb52-11"><a href="stats_processing_time.html#cb52-11" tabindex="-1"></a><span class="co"># obtain posterior draws and calculate contrasts using tidybayes::compare_levels</span></span>
<span id="cb52-12"><a href="stats_processing_time.html#cb52-12" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span> </span>
<span id="cb52-13"><a href="stats_processing_time.html#cb52-13" tabindex="-1"></a>  brms1_mod <span class="sc">%&gt;%</span> </span>
<span id="cb52-14"><a href="stats_processing_time.html#cb52-14" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">spread_draws</span>(r_depth_maps_generation_quality[depth_maps_generation_quality]) <span class="sc">%&gt;%</span> </span>
<span id="cb52-15"><a href="stats_processing_time.html#cb52-15" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb52-16"><a href="stats_processing_time.html#cb52-16" tabindex="-1"></a>      <span class="at">depth_maps_generation_quality =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> </span>
<span id="cb52-17"><a href="stats_processing_time.html#cb52-17" tabindex="-1"></a>        stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-18"><a href="stats_processing_time.html#cb52-18" tabindex="-1"></a>        <span class="fu">factor</span>(</span>
<span id="cb52-19"><a href="stats_processing_time.html#cb52-19" tabindex="-1"></a>          <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb52-20"><a href="stats_processing_time.html#cb52-20" tabindex="-1"></a>          , <span class="at">ordered =</span> T</span>
<span id="cb52-21"><a href="stats_processing_time.html#cb52-21" tabindex="-1"></a>        )</span>
<span id="cb52-22"><a href="stats_processing_time.html#cb52-22" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-23"><a href="stats_processing_time.html#cb52-23" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> r_depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb52-24"><a href="stats_processing_time.html#cb52-24" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">compare_levels</span>(</span>
<span id="cb52-25"><a href="stats_processing_time.html#cb52-25" tabindex="-1"></a>      value</span>
<span id="cb52-26"><a href="stats_processing_time.html#cb52-26" tabindex="-1"></a>      , <span class="at">by =</span> depth_maps_generation_quality</span>
<span id="cb52-27"><a href="stats_processing_time.html#cb52-27" tabindex="-1"></a>      , <span class="at">comparison =</span> </span>
<span id="cb52-28"><a href="stats_processing_time.html#cb52-28" tabindex="-1"></a>        contrast_list</span>
<span id="cb52-29"><a href="stats_processing_time.html#cb52-29" tabindex="-1"></a>        <span class="co"># tidybayes::emmeans_comparison(&quot;revpairwise&quot;) </span></span>
<span id="cb52-30"><a href="stats_processing_time.html#cb52-30" tabindex="-1"></a>        <span class="co">#&quot;pairwise&quot;</span></span>
<span id="cb52-31"><a href="stats_processing_time.html#cb52-31" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb52-32"><a href="stats_processing_time.html#cb52-32" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb52-33"><a href="stats_processing_time.html#cb52-33" tabindex="-1"></a>      <span class="at">contrast =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> </span>
<span id="cb52-34"><a href="stats_processing_time.html#cb52-34" tabindex="-1"></a>        <span class="fu">factor</span>(</span>
<span id="cb52-35"><a href="stats_processing_time.html#cb52-35" tabindex="-1"></a>          <span class="at">levels =</span> <span class="fu">levels</span>(contrast_temp<span class="sc">$</span>contrast)</span>
<span id="cb52-36"><a href="stats_processing_time.html#cb52-36" tabindex="-1"></a>          , <span class="at">ordered =</span> T</span>
<span id="cb52-37"><a href="stats_processing_time.html#cb52-37" tabindex="-1"></a>        )</span>
<span id="cb52-38"><a href="stats_processing_time.html#cb52-38" tabindex="-1"></a>    ) </span>
<span id="cb52-39"><a href="stats_processing_time.html#cb52-39" tabindex="-1"></a></span>
<span id="cb52-40"><a href="stats_processing_time.html#cb52-40" tabindex="-1"></a><span class="co"># median_hdi summary for coloring </span></span>
<span id="cb52-41"><a href="stats_processing_time.html#cb52-41" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span> brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb52-42"><a href="stats_processing_time.html#cb52-42" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb52-43"><a href="stats_processing_time.html#cb52-43" tabindex="-1"></a>    brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb52-44"><a href="stats_processing_time.html#cb52-44" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast) <span class="sc">%&gt;%</span> </span>
<span id="cb52-45"><a href="stats_processing_time.html#cb52-45" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(value, <span class="at">.width =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.95</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-46"><a href="stats_processing_time.html#cb52-46" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb52-47"><a href="stats_processing_time.html#cb52-47" tabindex="-1"></a>        <span class="at">sig_level =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb52-48"><a href="stats_processing_time.html#cb52-48" tabindex="-1"></a>          .lower<span class="sc">&lt;</span><span class="dv">0</span> <span class="sc">&amp;</span> .upper<span class="sc">&gt;</span><span class="dv">0</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb52-49"><a href="stats_processing_time.html#cb52-49" tabindex="-1"></a>          , T <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb52-50"><a href="stats_processing_time.html#cb52-50" tabindex="-1"></a>        )</span>
<span id="cb52-51"><a href="stats_processing_time.html#cb52-51" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-52"><a href="stats_processing_time.html#cb52-52" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(.width,sig_level,contrast) <span class="sc">%&gt;%</span> </span>
<span id="cb52-53"><a href="stats_processing_time.html#cb52-53" tabindex="-1"></a>      tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> .width, <span class="at">values_from =</span> sig_level) <span class="sc">%&gt;%</span> </span>
<span id="cb52-54"><a href="stats_processing_time.html#cb52-54" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb52-55"><a href="stats_processing_time.html#cb52-55" tabindex="-1"></a>        <span class="at">sig_level =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb52-56"><a href="stats_processing_time.html#cb52-56" tabindex="-1"></a>          <span class="st">`</span><span class="at">0.5</span><span class="st">`</span> <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb52-57"><a href="stats_processing_time.html#cb52-57" tabindex="-1"></a>          , <span class="st">`</span><span class="at">0.95</span><span class="st">`</span> <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb52-58"><a href="stats_processing_time.html#cb52-58" tabindex="-1"></a>          , T <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb52-59"><a href="stats_processing_time.html#cb52-59" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-60"><a href="stats_processing_time.html#cb52-60" tabindex="-1"></a>        <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;50%&quot;</span>,<span class="st">&quot;5%&quot;</span>,<span class="st">&quot;0%&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-61"><a href="stats_processing_time.html#cb52-61" tabindex="-1"></a>        forcats<span class="sc">::</span><span class="fu">fct_rev</span>()</span>
<span id="cb52-62"><a href="stats_processing_time.html#cb52-62" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-63"><a href="stats_processing_time.html#cb52-63" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, sig_level)</span>
<span id="cb52-64"><a href="stats_processing_time.html#cb52-64" tabindex="-1"></a>    , <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(contrast)</span>
<span id="cb52-65"><a href="stats_processing_time.html#cb52-65" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-66"><a href="stats_processing_time.html#cb52-66" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast) <span class="sc">%&gt;%</span> </span>
<span id="cb52-67"><a href="stats_processing_time.html#cb52-67" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb52-68"><a href="stats_processing_time.html#cb52-68" tabindex="-1"></a>    <span class="at">is_gt_zero =</span> value <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb52-69"><a href="stats_processing_time.html#cb52-69" tabindex="-1"></a>    , <span class="at">pct_gt_zero =</span> <span class="fu">sum</span>(is_gt_zero)<span class="sc">/</span>dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb52-70"><a href="stats_processing_time.html#cb52-70" tabindex="-1"></a>    , <span class="at">sig_level2 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb52-71"><a href="stats_processing_time.html#cb52-71" tabindex="-1"></a>      pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.99</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb52-72"><a href="stats_processing_time.html#cb52-72" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.95</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb52-73"><a href="stats_processing_time.html#cb52-73" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.9</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb52-74"><a href="stats_processing_time.html#cb52-74" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb52-75"><a href="stats_processing_time.html#cb52-75" tabindex="-1"></a>      , T <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb52-76"><a href="stats_processing_time.html#cb52-76" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb52-77"><a href="stats_processing_time.html#cb52-77" tabindex="-1"></a>    <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&gt;99%&quot;</span>,<span class="st">&quot;95%&quot;</span>,<span class="st">&quot;90%&quot;</span>,<span class="st">&quot;80%&quot;</span>,<span class="st">&quot;&lt;80%&quot;</span>), <span class="at">ordered =</span> T)</span>
<span id="cb52-78"><a href="stats_processing_time.html#cb52-78" tabindex="-1"></a>  )</span>
<span id="cb52-79"><a href="stats_processing_time.html#cb52-79" tabindex="-1"></a><span class="co"># what?</span></span>
<span id="cb52-80"><a href="stats_processing_time.html#cb52-80" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 80,000
## Columns: 10
## Groups: contrast [10]
## $ .chain                        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ .iteration                    &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1…
## $ .draw                         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1…
## $ depth_maps_generation_quality &lt;chr&gt; &quot;ultra high - high&quot;, &quot;ultra high - high&quot;…
## $ value                         &lt;dbl&gt; 58.31630, 69.37204, 54.19820, 60.82334, …
## $ contrast                      &lt;ord&gt; ultra high - high, ultra high - high, ul…
## $ sig_level                     &lt;fct&gt; 0%, 0%, 0%, 0%, 0%, 0%, 0%, 0%, 0%, 0%, …
## $ is_gt_zero                    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…
## $ pct_gt_zero                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ sig_level2                    &lt;ord&gt; &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%…</code></pre>
<p>plot it</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="stats_processing_time.html#cb54-1" tabindex="-1"></a><span class="co"># plot, finally</span></span>
<span id="cb54-2"><a href="stats_processing_time.html#cb54-2" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="stats_processing_time.html#cb54-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> contrast, <span class="at">fill =</span> sig_level2)) <span class="sc">+</span></span>
<span id="cb54-4"><a href="stats_processing_time.html#cb54-4" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb54-5"><a href="stats_processing_time.html#cb54-5" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.95</span>)</span>
<span id="cb54-6"><a href="stats_processing_time.html#cb54-6" tabindex="-1"></a>      <span class="co"># , slab_fill = &quot;gray22&quot;, slab_alpha = 1</span></span>
<span id="cb54-7"><a href="stats_processing_time.html#cb54-7" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb54-8"><a href="stats_processing_time.html#cb54-8" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb54-9"><a href="stats_processing_time.html#cb54-9" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb54-10"><a href="stats_processing_time.html#cb54-10" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-11"><a href="stats_processing_time.html#cb54-11" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb54-12"><a href="stats_processing_time.html#cb54-12" tabindex="-1"></a>      <span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span></span>
<span id="cb54-13"><a href="stats_processing_time.html#cb54-13" tabindex="-1"></a>      , <span class="at">drop =</span> F</span>
<span id="cb54-14"><a href="stats_processing_time.html#cb54-14" tabindex="-1"></a>      <span class="co"># , labels = scales::percent</span></span>
<span id="cb54-15"><a href="stats_processing_time.html#cb54-15" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb54-16"><a href="stats_processing_time.html#cb54-16" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb54-17"><a href="stats_processing_time.html#cb54-17" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb54-18"><a href="stats_processing_time.html#cb54-18" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb54-19"><a href="stats_processing_time.html#cb54-19" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb54-20"><a href="stats_processing_time.html#cb54-20" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Pr(contrast &gt; 0)&quot;</span></span>
<span id="cb54-21"><a href="stats_processing_time.html#cb54-21" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;95% &amp; 50% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb54-22"><a href="stats_processing_time.html#cb54-22" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb54-23"><a href="stats_processing_time.html#cb54-23" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb54-24"><a href="stats_processing_time.html#cb54-24" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-25"><a href="stats_processing_time.html#cb54-25" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb54-26"><a href="stats_processing_time.html#cb54-26" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="cn">NA</span>, <span class="at">shape =</span> <span class="cn">NA</span>, <span class="at">lwd =</span> <span class="cn">NA</span>))</span>
<span id="cb54-27"><a href="stats_processing_time.html#cb54-27" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-22-1.png" width="1008" /></p>
<p>and summarize these contrasts</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="stats_processing_time.html#cb55-1" tabindex="-1"></a><span class="co"># # can also use the following as substitute for the &quot;tidybayes::spread_draws&quot; used above to get same result</span></span>
<span id="cb55-2"><a href="stats_processing_time.html#cb55-2" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="stats_processing_time.html#cb55-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="stats_processing_time.html#cb55-4" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="stats_processing_time.html#cb55-5" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(.point,.interval)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-6"><a href="stats_processing_time.html#cb55-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(contrast)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-7"><a href="stats_processing_time.html#cb55-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb55-8"><a href="stats_processing_time.html#cb55-8" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">caption =</span> <span class="st">&quot;brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb55-9"><a href="stats_processing_time.html#cb55-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-23">Table 4.7: </span>brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;">
contrast
</th>
<th style="text-align:right;">
difference
</th>
<th style="text-align:right;">
.lower
</th>
<th style="text-align:right;">
.upper
</th>
<th style="text-align:right;">
.width
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-6.8
</td>
<td style="text-align:right;">
8.9
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
-2.0
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:right;">
4.5
</td>
<td style="text-align:right;">
-3.9
</td>
<td style="text-align:right;">
12.3
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:right;">
19.0
</td>
<td style="text-align:right;">
11.1
</td>
<td style="text-align:right;">
26.7
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:right;">
17.9
</td>
<td style="text-align:right;">
10.1
</td>
<td style="text-align:right;">
25.8
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:right;">
13.4
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:right;">
81.6
</td>
<td style="text-align:right;">
73.6
</td>
<td style="text-align:right;">
89.5
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:right;">
80.5
</td>
<td style="text-align:right;">
72.1
</td>
<td style="text-align:right;">
88.2
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:right;">
76.0
</td>
<td style="text-align:right;">
68.2
</td>
<td style="text-align:right;">
84.1
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:right;">
62.6
</td>
<td style="text-align:right;">
54.5
</td>
<td style="text-align:right;">
70.4
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="two_pred_mod" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Two Nominal Predictors<a href="stats_processing_time.html#two_pred_mod" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, we’ll determine the combined influence of the depth map generation quality and the depth map filtering parameters on the point cloud processing time.</p>
<div id="summary-statistics-1" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Summary Statistics<a href="stats_processing_time.html#summary-statistics-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Summary statistics by group:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="stats_processing_time.html#cb56-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="stats_processing_time.html#cb56-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="stats_processing_time.html#cb56-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb56-4"><a href="stats_processing_time.html#cb56-4" tabindex="-1"></a>    <span class="at">mean_processing_mins =</span> <span class="fu">mean</span>(timer_total_time_mins, <span class="at">na.rm =</span> T)</span>
<span id="cb56-5"><a href="stats_processing_time.html#cb56-5" tabindex="-1"></a>    <span class="co"># , med_processing_mins = median(timer_total_time_mins, na.rm = T)</span></span>
<span id="cb56-6"><a href="stats_processing_time.html#cb56-6" tabindex="-1"></a>    , <span class="at">sd_processing_mins =</span> <span class="fu">sd</span>(timer_total_time_mins, <span class="at">na.rm =</span> T)</span>
<span id="cb56-7"><a href="stats_processing_time.html#cb56-7" tabindex="-1"></a>    , <span class="at">n =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb56-8"><a href="stats_processing_time.html#cb56-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb56-9"><a href="stats_processing_time.html#cb56-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb56-10"><a href="stats_processing_time.html#cb56-10" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb56-11"><a href="stats_processing_time.html#cb56-11" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;summary statistics: point cloud processing time by depth map quality and filtering mode&quot;</span></span>
<span id="cb56-12"><a href="stats_processing_time.html#cb56-12" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb56-13"><a href="stats_processing_time.html#cb56-13" tabindex="-1"></a>      <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb56-14"><a href="stats_processing_time.html#cb56-14" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb56-15"><a href="stats_processing_time.html#cb56-15" tabindex="-1"></a>      , <span class="st">&quot;mean time&quot;</span></span>
<span id="cb56-16"><a href="stats_processing_time.html#cb56-16" tabindex="-1"></a>      , <span class="st">&quot;sd&quot;</span></span>
<span id="cb56-17"><a href="stats_processing_time.html#cb56-17" tabindex="-1"></a>      , <span class="st">&quot;n&quot;</span></span>
<span id="cb56-18"><a href="stats_processing_time.html#cb56-18" tabindex="-1"></a>    )</span>
<span id="cb56-19"><a href="stats_processing_time.html#cb56-19" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb56-20"><a href="stats_processing_time.html#cb56-20" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb56-21"><a href="stats_processing_time.html#cb56-21" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:two-sum-stats">Table 4.8: </span>summary statistics: point cloud processing time by depth map quality and filtering mode
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
depth map quality
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
mean time
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
sd
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
56.3
</td>
<td style="text-align:right;">
14.8
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
82.5
</td>
<td style="text-align:right;">
19.7
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
86.8
</td>
<td style="text-align:right;">
20.0
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
108.3
</td>
<td style="text-align:right;">
29.5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
3.3
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
18.6
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
20.8
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
27.5
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
5.7
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
6.3
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
1.7
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
8.3
</td>
<td style="text-align:right;">
1.4
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
2.2
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
5
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="linear-model-1" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Linear Model<a href="stats_processing_time.html#linear-model-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use a linear model to obtain means by group:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="stats_processing_time.html#cb57-1" tabindex="-1"></a>lm2_temp <span class="ot">=</span> <span class="fu">lm</span>(</span>
<span id="cb57-2"><a href="stats_processing_time.html#cb57-2" tabindex="-1"></a>  timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb57-3"><a href="stats_processing_time.html#cb57-3" tabindex="-1"></a>    depth_maps_generation_quality <span class="sc">+</span> </span>
<span id="cb57-4"><a href="stats_processing_time.html#cb57-4" tabindex="-1"></a>    depth_maps_generation_filtering_mode <span class="sc">+</span> </span>
<span id="cb57-5"><a href="stats_processing_time.html#cb57-5" tabindex="-1"></a>    depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode</span>
<span id="cb57-6"><a href="stats_processing_time.html#cb57-6" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb57-7"><a href="stats_processing_time.html#cb57-7" tabindex="-1"></a>)</span>
<span id="cb57-8"><a href="stats_processing_time.html#cb57-8" tabindex="-1"></a><span class="co"># summary</span></span>
<span id="cb57-9"><a href="stats_processing_time.html#cb57-9" tabindex="-1"></a><span class="fu">predict</span>(</span>
<span id="cb57-10"><a href="stats_processing_time.html#cb57-10" tabindex="-1"></a>    lm2_temp</span>
<span id="cb57-11"><a href="stats_processing_time.html#cb57-11" tabindex="-1"></a>    , <span class="at">newdata =</span> ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb57-12"><a href="stats_processing_time.html#cb57-12" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode)</span>
<span id="cb57-13"><a href="stats_processing_time.html#cb57-13" tabindex="-1"></a>    , <span class="at">interval =</span> <span class="st">&quot;confidence&quot;</span></span>
<span id="cb57-14"><a href="stats_processing_time.html#cb57-14" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-15"><a href="stats_processing_time.html#cb57-15" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb57-16"><a href="stats_processing_time.html#cb57-16" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(</span>
<span id="cb57-17"><a href="stats_processing_time.html#cb57-17" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb57-18"><a href="stats_processing_time.html#cb57-18" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode)</span>
<span id="cb57-19"><a href="stats_processing_time.html#cb57-19" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-20"><a href="stats_processing_time.html#cb57-20" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb57-21"><a href="stats_processing_time.html#cb57-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb57-22"><a href="stats_processing_time.html#cb57-22" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb57-23"><a href="stats_processing_time.html#cb57-23" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb57-24"><a href="stats_processing_time.html#cb57-24" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;linear model: point cloud processing time by depth map quality and filtering mode&quot;</span></span>
<span id="cb57-25"><a href="stats_processing_time.html#cb57-25" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb57-26"><a href="stats_processing_time.html#cb57-26" tabindex="-1"></a>      <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb57-27"><a href="stats_processing_time.html#cb57-27" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb57-28"><a href="stats_processing_time.html#cb57-28" tabindex="-1"></a>      , <span class="st">&quot;y_hat&quot;</span></span>
<span id="cb57-29"><a href="stats_processing_time.html#cb57-29" tabindex="-1"></a>      , <span class="st">&quot;q2.5&quot;</span></span>
<span id="cb57-30"><a href="stats_processing_time.html#cb57-30" tabindex="-1"></a>      , <span class="st">&quot;q97.5&quot;</span></span>
<span id="cb57-31"><a href="stats_processing_time.html#cb57-31" tabindex="-1"></a>    )</span>
<span id="cb57-32"><a href="stats_processing_time.html#cb57-32" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-33"><a href="stats_processing_time.html#cb57-33" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb57-34"><a href="stats_processing_time.html#cb57-34" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:two-sum-lm">Table 4.9: </span>linear model: point cloud processing time by depth map quality and filtering mode
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
depth map quality
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
y_hat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q2.5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q97.5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
56.3
</td>
<td style="text-align:right;">
47.6
</td>
<td style="text-align:right;">
65.1
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
82.5
</td>
<td style="text-align:right;">
73.7
</td>
<td style="text-align:right;">
91.2
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
86.8
</td>
<td style="text-align:right;">
78.1
</td>
<td style="text-align:right;">
95.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
108.3
</td>
<td style="text-align:right;">
99.6
</td>
<td style="text-align:right;">
117.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
5.2
</td>
<td style="text-align:right;">
22.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
18.6
</td>
<td style="text-align:right;">
9.9
</td>
<td style="text-align:right;">
27.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
20.8
</td>
<td style="text-align:right;">
12.0
</td>
<td style="text-align:right;">
29.5
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
27.5
</td>
<td style="text-align:right;">
18.7
</td>
<td style="text-align:right;">
36.3
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
5.7
</td>
<td style="text-align:right;">
-3.1
</td>
<td style="text-align:right;">
14.4
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
6.3
</td>
<td style="text-align:right;">
-2.5
</td>
<td style="text-align:right;">
15.0
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
-2.2
</td>
<td style="text-align:right;">
15.4
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
8.3
</td>
<td style="text-align:right;">
-0.5
</td>
<td style="text-align:right;">
17.1
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
-6.7
</td>
<td style="text-align:right;">
10.8
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:right;">
-6.7
</td>
<td style="text-align:right;">
10.8
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
2.2
</td>
<td style="text-align:right;">
-6.6
</td>
<td style="text-align:right;">
11.0
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
2.4
</td>
<td style="text-align:right;">
-6.4
</td>
<td style="text-align:right;">
11.2
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
-7.8
</td>
<td style="text-align:right;">
9.7
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
-7.8
</td>
<td style="text-align:right;">
9.8
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-7.7
</td>
<td style="text-align:right;">
9.8
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-7.6
</td>
<td style="text-align:right;">
9.9
</td>
</tr>
</tbody>
</table>
</div>
<p>and plot these means with 95% confidence interval</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="stats_processing_time.html#cb58-1" tabindex="-1"></a><span class="fu">predict</span>(</span>
<span id="cb58-2"><a href="stats_processing_time.html#cb58-2" tabindex="-1"></a>    lm2_temp</span>
<span id="cb58-3"><a href="stats_processing_time.html#cb58-3" tabindex="-1"></a>    , <span class="at">newdata =</span> ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="stats_processing_time.html#cb58-4" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode)</span>
<span id="cb58-5"><a href="stats_processing_time.html#cb58-5" tabindex="-1"></a>    , <span class="at">interval =</span> <span class="st">&quot;confidence&quot;</span></span>
<span id="cb58-6"><a href="stats_processing_time.html#cb58-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="stats_processing_time.html#cb58-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-8"><a href="stats_processing_time.html#cb58-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(</span>
<span id="cb58-9"><a href="stats_processing_time.html#cb58-9" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb58-10"><a href="stats_processing_time.html#cb58-10" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode)</span>
<span id="cb58-11"><a href="stats_processing_time.html#cb58-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb58-12"><a href="stats_processing_time.html#cb58-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb58-13"><a href="stats_processing_time.html#cb58-13" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb58-14"><a href="stats_processing_time.html#cb58-14" tabindex="-1"></a>      <span class="at">y =</span> fit</span>
<span id="cb58-15"><a href="stats_processing_time.html#cb58-15" tabindex="-1"></a>      , <span class="at">x =</span> depth_maps_generation_quality</span>
<span id="cb58-16"><a href="stats_processing_time.html#cb58-16" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb58-17"><a href="stats_processing_time.html#cb58-17" tabindex="-1"></a>      , <span class="at">group =</span> depth_maps_generation_filtering_mode</span>
<span id="cb58-18"><a href="stats_processing_time.html#cb58-18" tabindex="-1"></a>    )</span>
<span id="cb58-19"><a href="stats_processing_time.html#cb58-19" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb58-20"><a href="stats_processing_time.html#cb58-20" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.7</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb58-21"><a href="stats_processing_time.html#cb58-21" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb58-22"><a href="stats_processing_time.html#cb58-22" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">ymin =</span> lwr, <span class="at">ymax =</span> upr)</span>
<span id="cb58-23"><a href="stats_processing_time.html#cb58-23" tabindex="-1"></a>    , <span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb58-24"><a href="stats_processing_time.html#cb58-24" tabindex="-1"></a>    , <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.7</span>)</span>
<span id="cb58-25"><a href="stats_processing_time.html#cb58-25" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb58-26"><a href="stats_processing_time.html#cb58-26" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb58-27"><a href="stats_processing_time.html#cb58-27" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">14</span>)) <span class="sc">+</span></span>
<span id="cb58-28"><a href="stats_processing_time.html#cb58-28" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb58-29"><a href="stats_processing_time.html#cb58-29" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb58-30"><a href="stats_processing_time.html#cb58-30" tabindex="-1"></a>    , <span class="at">x =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb58-31"><a href="stats_processing_time.html#cb58-31" tabindex="-1"></a>    , <span class="at">y =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb58-32"><a href="stats_processing_time.html#cb58-32" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb58-33"><a href="stats_processing_time.html#cb58-33" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb58-34"><a href="stats_processing_time.html#cb58-34" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb58-35"><a href="stats_processing_time.html#cb58-35" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb58-36"><a href="stats_processing_time.html#cb58-36" tabindex="-1"></a>    , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb58-37"><a href="stats_processing_time.html#cb58-37" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb58-38"><a href="stats_processing_time.html#cb58-38" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb58-39"><a href="stats_processing_time.html#cb58-39" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="fl">0.9</span>))</span>
<span id="cb58-40"><a href="stats_processing_time.html#cb58-40" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-25-1.png" width="1008" /></p>
</div>
<div id="anova-1" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> ANOVA<a href="stats_processing_time.html#anova-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>ANOVA to test for differences in group means</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="stats_processing_time.html#cb59-1" tabindex="-1"></a>aov2_temp <span class="ot">=</span> <span class="fu">aov</span>(</span>
<span id="cb59-2"><a href="stats_processing_time.html#cb59-2" tabindex="-1"></a>  timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb59-3"><a href="stats_processing_time.html#cb59-3" tabindex="-1"></a>    depth_maps_generation_quality <span class="sc">+</span> </span>
<span id="cb59-4"><a href="stats_processing_time.html#cb59-4" tabindex="-1"></a>    depth_maps_generation_filtering_mode <span class="sc">+</span> </span>
<span id="cb59-5"><a href="stats_processing_time.html#cb59-5" tabindex="-1"></a>    depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode</span>
<span id="cb59-6"><a href="stats_processing_time.html#cb59-6" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb59-7"><a href="stats_processing_time.html#cb59-7" tabindex="-1"></a>) </span>
<span id="cb59-8"><a href="stats_processing_time.html#cb59-8" tabindex="-1"></a><span class="co"># summary</span></span>
<span id="cb59-9"><a href="stats_processing_time.html#cb59-9" tabindex="-1"></a>aov2_temp <span class="sc">%&gt;%</span> </span>
<span id="cb59-10"><a href="stats_processing_time.html#cb59-10" tabindex="-1"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb59-11"><a href="stats_processing_time.html#cb59-11" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;two-way ANOVA: point cloud processing time by depth map quality and filtering mode&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-12"><a href="stats_processing_time.html#cb59-12" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:two-sum-aov">Table 4.10: </span>two-way ANOVA: point cloud processing time by depth map quality and filtering mode
</caption>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
sumsq
</th>
<th style="text-align:right;">
meansq
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
96952.48
</td>
<td style="text-align:right;">
24238.12
</td>
<td style="text-align:right;">
249.35
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2387.66
</td>
<td style="text-align:right;">
795.89
</td>
<td style="text-align:right;">
8.19
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
4945.59
</td>
<td style="text-align:right;">
412.13
</td>
<td style="text-align:right;">
4.24
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Residuals
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
7776.52
</td>
<td style="text-align:right;">
97.21
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>We can perform pairwise comparisons of the filtering mode between at each depth map quality level</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="stats_processing_time.html#cb60-1" tabindex="-1"></a><span class="co"># Pairwise comparisons between group levels</span></span>
<span id="cb60-2"><a href="stats_processing_time.html#cb60-2" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="stats_processing_time.html#cb60-3" tabindex="-1"></a>  <span class="fu">group_by</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span></span>
<span id="cb60-4"><a href="stats_processing_time.html#cb60-4" tabindex="-1"></a>  rstatix<span class="sc">::</span><span class="fu">pairwise_t_test</span>(</span>
<span id="cb60-5"><a href="stats_processing_time.html#cb60-5" tabindex="-1"></a>    timer_total_time_mins <span class="sc">~</span> depth_maps_generation_filtering_mode</span>
<span id="cb60-6"><a href="stats_processing_time.html#cb60-6" tabindex="-1"></a>    , <span class="at">p.adjust.method =</span> <span class="st">&quot;bonferroni&quot;</span></span>
<span id="cb60-7"><a href="stats_processing_time.html#cb60-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb60-8"><a href="stats_processing_time.html#cb60-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(n1,p,p.signif,.y.)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-9"><a href="stats_processing_time.html#cb60-9" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb60-10"><a href="stats_processing_time.html#cb60-10" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb60-11"><a href="stats_processing_time.html#cb60-11" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;Pairwise comparisons between filtering mode at each depth map quality group&quot;</span></span>
<span id="cb60-12"><a href="stats_processing_time.html#cb60-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb60-13"><a href="stats_processing_time.html#cb60-13" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb60-14"><a href="stats_processing_time.html#cb60-14" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-26">Table 4.11: </span>Pairwise comparisons between filtering mode at each depth map quality group
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
depth_maps_generation_quality
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
group1
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
group2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
n2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
p.adj
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
p.adj.signif
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:left;">
**
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:left;">
***
</td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:left;">
<ul>
<li></td>
</tr>
<tr>
<td style="text-align:left;">
high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:left;">
ns
</td>
</tr>
<tr>
<td style="text-align:left;">
lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:left;">
ns
</td>
</tr>
</tbody>
</table>
</div></li>
</ul>
<p><del>we can use the <code>emmeans</code> package to <a href="https://cran.r-project.org/web/packages/emmeans/vignettes/interactions.html">perform interaction analysis</a> of the mean estimates using <a href="https://search.r-project.org/R/refmans/stats/html/TukeyHSD.html">Tukey’s Honest Significant Differences method</a>.</del></p>
<p>we can use the <code>marginaleffects</code> package to <a href="https://marginaleffects.com/vignettes/comparisons.html">compare and contrast</a> the mean estimates by group.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="stats_processing_time.html#cb61-1" tabindex="-1"></a><span class="co"># calculate average group effects </span></span>
<span id="cb61-2"><a href="stats_processing_time.html#cb61-2" tabindex="-1"></a><span class="co"># ... for a &quot;cross-contrast&quot; use cross = T (code below) where...</span></span>
<span id="cb61-3"><a href="stats_processing_time.html#cb61-3" tabindex="-1"></a><span class="co"># ......contrasts represent the changes in adjusted predictions when </span></span>
<span id="cb61-4"><a href="stats_processing_time.html#cb61-4" tabindex="-1"></a><span class="co"># ......all the predictors specified in the variables argument are manipulated simultaneously</span></span>
<span id="cb61-5"><a href="stats_processing_time.html#cb61-5" tabindex="-1"></a><span class="co"># avg_comparisons(mod, variables = c(&quot;cyl&quot;, &quot;gear&quot;), cross = TRUE)</span></span>
<span id="cb61-6"><a href="stats_processing_time.html#cb61-6" tabindex="-1"></a>contrast_temp <span class="ot">=</span></span>
<span id="cb61-7"><a href="stats_processing_time.html#cb61-7" tabindex="-1"></a>  marginaleffects<span class="sc">::</span><span class="fu">avg_comparisons</span>(</span>
<span id="cb61-8"><a href="stats_processing_time.html#cb61-8" tabindex="-1"></a>    <span class="at">model =</span> lm2_temp</span>
<span id="cb61-9"><a href="stats_processing_time.html#cb61-9" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="fu">list</span>(<span class="at">depth_maps_generation_quality =</span> <span class="st">&quot;revpairwise&quot;</span>)</span>
<span id="cb61-10"><a href="stats_processing_time.html#cb61-10" tabindex="-1"></a>    , <span class="at">comparison =</span> <span class="st">&quot;difference&quot;</span></span>
<span id="cb61-11"><a href="stats_processing_time.html#cb61-11" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span></span>
<span id="cb61-12"><a href="stats_processing_time.html#cb61-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-13"><a href="stats_processing_time.html#cb61-13" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb61-14"><a href="stats_processing_time.html#cb61-14" tabindex="-1"></a>    <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span></span>
<span id="cb61-15"><a href="stats_processing_time.html#cb61-15" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;mean</span><span class="sc">\\</span><span class="st">(&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb61-16"><a href="stats_processing_time.html#cb61-16" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span>) </span>
<span id="cb61-17"><a href="stats_processing_time.html#cb61-17" tabindex="-1"></a>  )</span>
<span id="cb61-18"><a href="stats_processing_time.html#cb61-18" tabindex="-1"></a></span>
<span id="cb61-19"><a href="stats_processing_time.html#cb61-19" tabindex="-1"></a><span class="co"># separate contrast</span></span>
<span id="cb61-20"><a href="stats_processing_time.html#cb61-20" tabindex="-1"></a>contrast_temp <span class="ot">=</span> contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb61-21"><a href="stats_processing_time.html#cb61-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb61-22"><a href="stats_processing_time.html#cb61-22" tabindex="-1"></a>    <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> </span>
<span id="cb61-23"><a href="stats_processing_time.html#cb61-23" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;mean</span><span class="sc">\\</span><span class="st">(&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb61-24"><a href="stats_processing_time.html#cb61-24" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span>)</span>
<span id="cb61-25"><a href="stats_processing_time.html#cb61-25" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-26"><a href="stats_processing_time.html#cb61-26" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(</span>
<span id="cb61-27"><a href="stats_processing_time.html#cb61-27" tabindex="-1"></a>    <span class="at">cols =</span> contrast</span>
<span id="cb61-28"><a href="stats_processing_time.html#cb61-28" tabindex="-1"></a>    , <span class="at">delim =</span> <span class="st">&quot; - &quot;</span></span>
<span id="cb61-29"><a href="stats_processing_time.html#cb61-29" tabindex="-1"></a>    , <span class="at">names =</span> <span class="fu">paste0</span>(</span>
<span id="cb61-30"><a href="stats_processing_time.html#cb61-30" tabindex="-1"></a>        <span class="st">&quot;sorter&quot;</span></span>
<span id="cb61-31"><a href="stats_processing_time.html#cb61-31" tabindex="-1"></a>        , <span class="dv">1</span><span class="sc">:</span>(<span class="fu">max</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(contrast_temp<span class="sc">$</span>contrast, <span class="st">&quot;-&quot;</span>))<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb61-32"><a href="stats_processing_time.html#cb61-32" tabindex="-1"></a>      )</span>
<span id="cb61-33"><a href="stats_processing_time.html#cb61-33" tabindex="-1"></a>    , <span class="at">too_few =</span> <span class="st">&quot;align_start&quot;</span></span>
<span id="cb61-34"><a href="stats_processing_time.html#cb61-34" tabindex="-1"></a>    , <span class="at">cols_remove =</span> F</span>
<span id="cb61-35"><a href="stats_processing_time.html#cb61-35" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-36"><a href="stats_processing_time.html#cb61-36" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(sorter1<span class="sc">!=</span>sorter2) <span class="sc">%&gt;%</span> </span>
<span id="cb61-37"><a href="stats_processing_time.html#cb61-37" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb61-38"><a href="stats_processing_time.html#cb61-38" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb61-39"><a href="stats_processing_time.html#cb61-39" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sorter&quot;</span>)</span>
<span id="cb61-40"><a href="stats_processing_time.html#cb61-40" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="cf">function</span>(x){<span class="fu">factor</span>(</span>
<span id="cb61-41"><a href="stats_processing_time.html#cb61-41" tabindex="-1"></a>        x, <span class="at">ordered =</span> T</span>
<span id="cb61-42"><a href="stats_processing_time.html#cb61-42" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb61-43"><a href="stats_processing_time.html#cb61-43" tabindex="-1"></a>      )}</span>
<span id="cb61-44"><a href="stats_processing_time.html#cb61-44" tabindex="-1"></a>    )</span>
<span id="cb61-45"><a href="stats_processing_time.html#cb61-45" tabindex="-1"></a>    , <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(</span>
<span id="cb61-46"><a href="stats_processing_time.html#cb61-46" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(sorter1), <span class="fu">as.numeric</span>(sorter2)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-47"><a href="stats_processing_time.html#cb61-47" tabindex="-1"></a>        <span class="fu">as.numeric</span>()</span>
<span id="cb61-48"><a href="stats_processing_time.html#cb61-48" tabindex="-1"></a>      )</span>
<span id="cb61-49"><a href="stats_processing_time.html#cb61-49" tabindex="-1"></a>    , <span class="at">sig_lvl =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb61-50"><a href="stats_processing_time.html#cb61-50" tabindex="-1"></a>        p.value <span class="sc">&lt;=</span> <span class="fl">0.01</span> <span class="sc">~</span> <span class="st">&quot;0.01&quot;</span></span>
<span id="cb61-51"><a href="stats_processing_time.html#cb61-51" tabindex="-1"></a>        , p.value <span class="sc">&lt;=</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">&quot;0.05&quot;</span></span>
<span id="cb61-52"><a href="stats_processing_time.html#cb61-52" tabindex="-1"></a>        , p.value <span class="sc">&lt;=</span> <span class="fl">0.1</span> <span class="sc">~</span> <span class="st">&quot;0.10&quot;</span></span>
<span id="cb61-53"><a href="stats_processing_time.html#cb61-53" tabindex="-1"></a>        , T <span class="sc">~</span> <span class="st">&quot;not significant&quot;</span></span>
<span id="cb61-54"><a href="stats_processing_time.html#cb61-54" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-55"><a href="stats_processing_time.html#cb61-55" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb61-56"><a href="stats_processing_time.html#cb61-56" tabindex="-1"></a>        <span class="at">ordered =</span> T</span>
<span id="cb61-57"><a href="stats_processing_time.html#cb61-57" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb61-58"><a href="stats_processing_time.html#cb61-58" tabindex="-1"></a>          <span class="st">&quot;0.01&quot;</span></span>
<span id="cb61-59"><a href="stats_processing_time.html#cb61-59" tabindex="-1"></a>          , <span class="st">&quot;0.05&quot;</span></span>
<span id="cb61-60"><a href="stats_processing_time.html#cb61-60" tabindex="-1"></a>          , <span class="st">&quot;0.10&quot;</span></span>
<span id="cb61-61"><a href="stats_processing_time.html#cb61-61" tabindex="-1"></a>          , <span class="st">&quot;not significant&quot;</span></span>
<span id="cb61-62"><a href="stats_processing_time.html#cb61-62" tabindex="-1"></a>        )</span>
<span id="cb61-63"><a href="stats_processing_time.html#cb61-63" tabindex="-1"></a>      )</span>
<span id="cb61-64"><a href="stats_processing_time.html#cb61-64" tabindex="-1"></a>    , <span class="at">depth_maps_generation_filtering_mode =</span> depth_maps_generation_filtering_mode <span class="sc">%&gt;%</span> </span>
<span id="cb61-65"><a href="stats_processing_time.html#cb61-65" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb61-66"><a href="stats_processing_time.html#cb61-66" tabindex="-1"></a>        <span class="at">ordered =</span> T</span>
<span id="cb61-67"><a href="stats_processing_time.html#cb61-67" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_filtering_mode)</span>
<span id="cb61-68"><a href="stats_processing_time.html#cb61-68" tabindex="-1"></a>      )</span>
<span id="cb61-69"><a href="stats_processing_time.html#cb61-69" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-70"><a href="stats_processing_time.html#cb61-70" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast, depth_maps_generation_filtering_mode)</span>
<span id="cb61-71"><a href="stats_processing_time.html#cb61-71" tabindex="-1"></a></span>
<span id="cb61-72"><a href="stats_processing_time.html#cb61-72" tabindex="-1"></a><span class="co"># what?</span></span>
<span id="cb61-73"><a href="stats_processing_time.html#cb61-73" tabindex="-1"></a>contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 16
## $ term                                 &lt;chr&gt; &quot;depth_maps_generation_quality&quot;, …
## $ sorter1                              &lt;ord&gt; ultra high, ultra high, ultra hig…
## $ sorter2                              &lt;ord&gt; high, high, high, high, medium, m…
## $ contrast                             &lt;fct&gt; ultra high - high, ultra high - h…
## $ depth_maps_generation_filtering_mode &lt;ord&gt; aggressive, moderate, mild, disab…
## $ estimate                             &lt;dbl&gt; 42.39916, 63.80675, 66.06454, 80.…
## $ std.error                            &lt;dbl&gt; 6.235593, 6.235587, 6.235590, 6.2…
## $ statistic                            &lt;dbl&gt; 6.799539, 10.232677, 10.594754, 1…
## $ p.value                              &lt;dbl&gt; 1.049541e-11, 1.415513e-24, 3.151…
## $ s.value                              &lt;dbl&gt; 36.471450, 79.224949, 84.714012, …
## $ conf.low                             &lt;dbl&gt; 30.1776215, 51.5852240, 53.843009…
## $ conf.high                            &lt;dbl&gt; 54.62070, 76.02828, 78.28607, 93.…
## $ predicted_lo                         &lt;dbl&gt; 13.9287619, 18.6492584, 20.771895…
## $ predicted_hi                         &lt;dbl&gt; 56.32792, 82.45601, 86.83644, 108…
## $ predicted                            &lt;dbl&gt; 13.92876, 18.64926, 20.77190, 27.…
## $ sig_lvl                              &lt;ord&gt; 0.01, 0.01, 0.01, 0.01, 0.01, 0.0…</code></pre>
<p>plot it</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="stats_processing_time.html#cb63-1" tabindex="-1"></a>contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="stats_processing_time.html#cb63-2" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb63-3"><a href="stats_processing_time.html#cb63-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> contrast)) <span class="sc">+</span></span>
<span id="cb63-4"><a href="stats_processing_time.html#cb63-4" tabindex="-1"></a>    <span class="fu">geom_linerange</span>(</span>
<span id="cb63-5"><a href="stats_processing_time.html#cb63-5" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">xmin =</span> conf.low, <span class="at">xmax =</span> conf.high, <span class="at">color =</span> sig_lvl)</span>
<span id="cb63-6"><a href="stats_processing_time.html#cb63-6" tabindex="-1"></a>      , <span class="at">linewidth =</span> <span class="dv">5</span></span>
<span id="cb63-7"><a href="stats_processing_time.html#cb63-7" tabindex="-1"></a>      , <span class="at">alpha =</span> <span class="fl">0.9</span></span>
<span id="cb63-8"><a href="stats_processing_time.html#cb63-8" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb63-9"><a href="stats_processing_time.html#cb63-9" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> estimate)) <span class="sc">+</span></span>
<span id="cb63-10"><a href="stats_processing_time.html#cb63-10" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb63-11"><a href="stats_processing_time.html#cb63-11" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb63-12"><a href="stats_processing_time.html#cb63-12" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb63-13"><a href="stats_processing_time.html#cb63-13" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode)) <span class="sc">+</span></span>
<span id="cb63-14"><a href="stats_processing_time.html#cb63-14" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb63-15"><a href="stats_processing_time.html#cb63-15" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb63-16"><a href="stats_processing_time.html#cb63-16" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb63-17"><a href="stats_processing_time.html#cb63-17" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;Mean group constrasts&quot;</span></span>
<span id="cb63-18"><a href="stats_processing_time.html#cb63-18" tabindex="-1"></a>      , <span class="at">color =</span> <span class="st">&quot;sig. level&quot;</span></span>
<span id="cb63-19"><a href="stats_processing_time.html#cb63-19" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb63-20"><a href="stats_processing_time.html#cb63-20" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb63-21"><a href="stats_processing_time.html#cb63-21" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb63-22"><a href="stats_processing_time.html#cb63-22" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb63-23"><a href="stats_processing_time.html#cb63-23" tabindex="-1"></a>      , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb63-24"><a href="stats_processing_time.html#cb63-24" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb63-25"><a href="stats_processing_time.html#cb63-25" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-28-1.png" width="1008" /></p>
<p>and view the contrasts in a table</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="stats_processing_time.html#cb64-1" tabindex="-1"></a>contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="stats_processing_time.html#cb64-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb64-3"><a href="stats_processing_time.html#cb64-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, depth_maps_generation_filtering_mode, estimate, conf.low, conf.high, p.value) <span class="sc">%&gt;%</span> </span>
<span id="cb64-4"><a href="stats_processing_time.html#cb64-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>estimate) <span class="sc">%&gt;%</span> </span>
<span id="cb64-5"><a href="stats_processing_time.html#cb64-5" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb64-6"><a href="stats_processing_time.html#cb64-6" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Mean group effects: depth map quality processing time constrasts&quot;</span></span>
<span id="cb64-7"><a href="stats_processing_time.html#cb64-7" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb64-8"><a href="stats_processing_time.html#cb64-8" tabindex="-1"></a>      <span class="st">&quot;quality contrast&quot;</span></span>
<span id="cb64-9"><a href="stats_processing_time.html#cb64-9" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb64-10"><a href="stats_processing_time.html#cb64-10" tabindex="-1"></a>      , <span class="st">&quot;difference (mins.)&quot;</span></span>
<span id="cb64-11"><a href="stats_processing_time.html#cb64-11" tabindex="-1"></a>      , <span class="st">&quot;conf.low&quot;</span>, <span class="st">&quot;conf.high&quot;</span>, <span class="st">&quot;p.value&quot;</span></span>
<span id="cb64-12"><a href="stats_processing_time.html#cb64-12" tabindex="-1"></a>    )</span>
<span id="cb64-13"><a href="stats_processing_time.html#cb64-13" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb64-14"><a href="stats_processing_time.html#cb64-14" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb64-15"><a href="stats_processing_time.html#cb64-15" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-29">Table 4.12: </span>Mean group effects: depth map quality processing time constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
quality contrast
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
difference (mins.)
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.low
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.high
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
42.40
</td>
<td style="text-align:right;">
30.18
</td>
<td style="text-align:right;">
54.62
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
63.81
</td>
<td style="text-align:right;">
51.59
</td>
<td style="text-align:right;">
76.03
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
66.06
</td>
<td style="text-align:right;">
53.84
</td>
<td style="text-align:right;">
78.29
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
80.82
</td>
<td style="text-align:right;">
68.60
</td>
<td style="text-align:right;">
93.04
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
50.67
</td>
<td style="text-align:right;">
38.44
</td>
<td style="text-align:right;">
62.89
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
76.18
</td>
<td style="text-align:right;">
63.96
</td>
<td style="text-align:right;">
88.40
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
80.25
</td>
<td style="text-align:right;">
68.03
</td>
<td style="text-align:right;">
92.48
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
100.03
</td>
<td style="text-align:right;">
87.81
</td>
<td style="text-align:right;">
112.26
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
54.29
</td>
<td style="text-align:right;">
42.07
</td>
<td style="text-align:right;">
66.51
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
80.38
</td>
<td style="text-align:right;">
68.16
</td>
<td style="text-align:right;">
92.61
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
84.63
</td>
<td style="text-align:right;">
72.41
</td>
<td style="text-align:right;">
96.85
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
105.95
</td>
<td style="text-align:right;">
93.73
</td>
<td style="text-align:right;">
118.17
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
55.37
</td>
<td style="text-align:right;">
43.15
</td>
<td style="text-align:right;">
67.59
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
81.45
</td>
<td style="text-align:right;">
69.23
</td>
<td style="text-align:right;">
93.67
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
85.77
</td>
<td style="text-align:right;">
73.55
</td>
<td style="text-align:right;">
98.00
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
107.20
</td>
<td style="text-align:right;">
94.98
</td>
<td style="text-align:right;">
119.42
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
8.27
</td>
<td style="text-align:right;">
-3.95
</td>
<td style="text-align:right;">
20.49
</td>
<td style="text-align:right;">
0.18
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
12.37
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
24.60
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
14.19
</td>
<td style="text-align:right;">
1.97
</td>
<td style="text-align:right;">
26.41
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
19.22
</td>
<td style="text-align:right;">
7.00
</td>
<td style="text-align:right;">
31.44
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
11.89
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
24.11
</td>
<td style="text-align:right;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
16.58
</td>
<td style="text-align:right;">
4.36
</td>
<td style="text-align:right;">
28.80
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
18.57
</td>
<td style="text-align:right;">
6.34
</td>
<td style="text-align:right;">
30.79
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
25.13
</td>
<td style="text-align:right;">
12.91
</td>
<td style="text-align:right;">
37.35
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
12.97
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
25.19
</td>
<td style="text-align:right;">
0.04
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
17.65
</td>
<td style="text-align:right;">
5.42
</td>
<td style="text-align:right;">
29.87
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
19.71
</td>
<td style="text-align:right;">
7.49
</td>
<td style="text-align:right;">
31.93
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
26.38
</td>
<td style="text-align:right;">
14.16
</td>
<td style="text-align:right;">
38.60
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
3.62
</td>
<td style="text-align:right;">
-8.60
</td>
<td style="text-align:right;">
15.84
</td>
<td style="text-align:right;">
0.56
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
4.20
</td>
<td style="text-align:right;">
-8.02
</td>
<td style="text-align:right;">
16.42
</td>
<td style="text-align:right;">
0.50
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
4.38
</td>
<td style="text-align:right;">
-7.85
</td>
<td style="text-align:right;">
16.60
</td>
<td style="text-align:right;">
0.48
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5.91
</td>
<td style="text-align:right;">
-6.31
</td>
<td style="text-align:right;">
18.14
</td>
<td style="text-align:right;">
0.34
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
4.70
</td>
<td style="text-align:right;">
-7.52
</td>
<td style="text-align:right;">
16.92
</td>
<td style="text-align:right;">
0.45
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5.27
</td>
<td style="text-align:right;">
-6.95
</td>
<td style="text-align:right;">
17.49
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5.52
</td>
<td style="text-align:right;">
-6.70
</td>
<td style="text-align:right;">
17.74
</td>
<td style="text-align:right;">
0.38
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
7.16
</td>
<td style="text-align:right;">
-5.06
</td>
<td style="text-align:right;">
19.39
</td>
<td style="text-align:right;">
0.25
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.08
</td>
<td style="text-align:right;">
-11.14
</td>
<td style="text-align:right;">
13.30
</td>
<td style="text-align:right;">
0.86
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.07
</td>
<td style="text-align:right;">
-11.15
</td>
<td style="text-align:right;">
13.29
</td>
<td style="text-align:right;">
0.86
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.14
</td>
<td style="text-align:right;">
-11.08
</td>
<td style="text-align:right;">
13.37
</td>
<td style="text-align:right;">
0.85
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.25
</td>
<td style="text-align:right;">
-10.97
</td>
<td style="text-align:right;">
13.47
</td>
<td style="text-align:right;">
0.84
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="two_pred_mod_bays" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Bayesian<a href="stats_processing_time.html#two_pred_mod_bays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> describes the Hierarchical Bayesian approach to describe groups of metric data with multiple nominal predictors:</p>
<blockquote>
<p>This chapter considers data structures that consist of a metric predicted variable and two (or more) nominal predictors….The traditional treatment of this sort of data structure is called multifactor analysis of variance (ANOVA). Our Bayesian approach will be a hierarchical generalization of the traditional ANOVA model. The chapter also considers generalizations of the traditional models, because it is straight forward in Bayesian software to implement heavy-tailed distributions to accommodate outliers, along with hierarchical structure to accommodate heterogeneous variances in the different groups. (pp. 583–584)</p>
</blockquote>
<p>and see section 20 from <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-multiple-nominal-predictors.html">Kurz’s ebook supplement</a></p>
<p>The metric predicted variable with two nominal predictor variables model has the form:</p>
<p><span class="math display">\[\begin{align*}
y_{i}  &amp;\sim {\sf Normal} \bigl(\mu_{i}, \sigma_{y} \bigr) \\
\mu_{i} &amp;= \beta_0 + \sum_{j} \beta_{1[j]} x_{1[j]} + \sum_{k} \beta_{2[k]} x_{2[k]}  + \sum_{j,k} \beta_{1\times2[j,k]} x_{1\times2[j,k]} \\
\beta_{0}  &amp;\sim {\sf Normal} (0,100) \\
\beta_{1[j]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{1}}) \\
\beta_{2[k]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{2}}) \\
\beta_{1\times2[j,k]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{1\times2}}) \\
\sigma_{\beta_{1}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{\beta_{2}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{\beta_{1\times2}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{y} &amp;\sim {\sf Cauchy} (0,109) \\
\end{align*}\]</span></p>
<p>, where <span class="math inline">\(j\)</span> is the depth map generation quality setting corresponding to observation <span class="math inline">\(i\)</span> and <span class="math inline">\(k\)</span> is the depth map filtering mode setting corresponding to observation <span class="math inline">\(i\)</span></p>
<p><em>for this model, we’ll define the priors following <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-multiple-nominal-predictors.html#implementation-in-jags-brms.-1">Kurz</a></em> who notes that:</p>
<blockquote>
<p>The noise standard deviation <span class="math inline">\(\sigma_y\)</span> is depicted in the prior statement including the argument <code>class = sigma</code>…in order to be weakly informative, we will use the half-Cauchy. Recall that since the brms default is to set the lower bound for any variance parameter to 0, there’s no need to worry about doing so ourselves. So even though the syntax only indicates <code>cauchy</code>, it’s understood to mean Cauchy with a lower bound at zero; since the mean is usually 0, that makes this a half-Cauchy…The tails of the half-Cauchy are sufficiently fat that, in practice, I’ve found it doesn’t matter much what you set the <span class="math inline">\(SD\)</span> of its prior to.</p>
</blockquote>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="stats_processing_time.html#cb65-1" tabindex="-1"></a><span class="co"># from Kurz: </span></span>
<span id="cb65-2"><a href="stats_processing_time.html#cb65-2" tabindex="-1"></a>gamma_a_b_from_omega_sigma <span class="ot">&lt;-</span> <span class="cf">function</span>(mode, sd) {</span>
<span id="cb65-3"><a href="stats_processing_time.html#cb65-3" tabindex="-1"></a>  <span class="cf">if</span> (mode <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="st">&quot;mode must be &gt; 0&quot;</span>)</span>
<span id="cb65-4"><a href="stats_processing_time.html#cb65-4" tabindex="-1"></a>  <span class="cf">if</span> (sd   <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="st">&quot;sd must be &gt; 0&quot;</span>)</span>
<span id="cb65-5"><a href="stats_processing_time.html#cb65-5" tabindex="-1"></a>  rate <span class="ot">&lt;-</span> (mode <span class="sc">+</span> <span class="fu">sqrt</span>(mode<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> sd<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">/</span> (<span class="dv">2</span> <span class="sc">*</span> sd<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb65-6"><a href="stats_processing_time.html#cb65-6" tabindex="-1"></a>  shape <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> mode <span class="sc">*</span> rate</span>
<span id="cb65-7"><a href="stats_processing_time.html#cb65-7" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">shape =</span> shape, <span class="at">rate =</span> rate))</span>
<span id="cb65-8"><a href="stats_processing_time.html#cb65-8" tabindex="-1"></a>}</span>
<span id="cb65-9"><a href="stats_processing_time.html#cb65-9" tabindex="-1"></a></span>
<span id="cb65-10"><a href="stats_processing_time.html#cb65-10" tabindex="-1"></a>mean_y_temp <span class="ot">&lt;-</span> <span class="fu">mean</span>(ptime_data<span class="sc">$</span>timer_total_time_mins)</span>
<span id="cb65-11"><a href="stats_processing_time.html#cb65-11" tabindex="-1"></a>sd_y_temp   <span class="ot">&lt;-</span> <span class="fu">sd</span>(ptime_data<span class="sc">$</span>timer_total_time_mins)</span>
<span id="cb65-12"><a href="stats_processing_time.html#cb65-12" tabindex="-1"></a></span>
<span id="cb65-13"><a href="stats_processing_time.html#cb65-13" tabindex="-1"></a>omega_temp <span class="ot">&lt;-</span> sd_y_temp <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb65-14"><a href="stats_processing_time.html#cb65-14" tabindex="-1"></a>sigma_temp <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> sd_y_temp</span>
<span id="cb65-15"><a href="stats_processing_time.html#cb65-15" tabindex="-1"></a></span>
<span id="cb65-16"><a href="stats_processing_time.html#cb65-16" tabindex="-1"></a>s_r_temp <span class="ot">&lt;-</span> <span class="fu">gamma_a_b_from_omega_sigma</span>(<span class="at">mode =</span> omega_temp, <span class="at">sd =</span> sigma_temp)</span>
<span id="cb65-17"><a href="stats_processing_time.html#cb65-17" tabindex="-1"></a></span>
<span id="cb65-18"><a href="stats_processing_time.html#cb65-18" tabindex="-1"></a>stanvars_temp <span class="ot">&lt;-</span> </span>
<span id="cb65-19"><a href="stats_processing_time.html#cb65-19" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(mean_y_temp,    <span class="at">name =</span> <span class="st">&quot;mean_y&quot;</span>) <span class="sc">+</span> </span>
<span id="cb65-20"><a href="stats_processing_time.html#cb65-20" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(sd_y_temp,      <span class="at">name =</span> <span class="st">&quot;sd_y&quot;</span>) <span class="sc">+</span></span>
<span id="cb65-21"><a href="stats_processing_time.html#cb65-21" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(s_r_temp<span class="sc">$</span>shape, <span class="at">name =</span> <span class="st">&quot;alpha&quot;</span>) <span class="sc">+</span></span>
<span id="cb65-22"><a href="stats_processing_time.html#cb65-22" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(s_r_temp<span class="sc">$</span>rate,  <span class="at">name =</span> <span class="st">&quot;beta&quot;</span>)</span></code></pre></div>
<p>Now fit the model.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="stats_processing_time.html#cb66-1" tabindex="-1"></a>brms2_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb66-2"><a href="stats_processing_time.html#cb66-2" tabindex="-1"></a>  <span class="at">formula =</span> timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb66-3"><a href="stats_processing_time.html#cb66-3" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb66-4"><a href="stats_processing_time.html#cb66-4" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb66-5"><a href="stats_processing_time.html#cb66-5" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode)</span>
<span id="cb66-6"><a href="stats_processing_time.html#cb66-6" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb66-7"><a href="stats_processing_time.html#cb66-7" tabindex="-1"></a>  , <span class="at">family =</span> brms<span class="sc">::</span><span class="fu">brmsfamily</span>(<span class="at">family =</span> <span class="st">&quot;gaussian&quot;</span>)</span>
<span id="cb66-8"><a href="stats_processing_time.html#cb66-8" tabindex="-1"></a>  , <span class="at">iter =</span> <span class="dv">4000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>, <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb66-9"><a href="stats_processing_time.html#cb66-9" tabindex="-1"></a>  , <span class="at">cores =</span> <span class="fu">round</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>()<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb66-10"><a href="stats_processing_time.html#cb66-10" tabindex="-1"></a>  , <span class="at">prior =</span> <span class="fu">c</span>(</span>
<span id="cb66-11"><a href="stats_processing_time.html#cb66-11" tabindex="-1"></a>    brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">normal</span>(mean_y, sd_y <span class="sc">*</span> <span class="dv">5</span>), <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>)</span>
<span id="cb66-12"><a href="stats_processing_time.html#cb66-12" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">gamma</span>(alpha, beta), <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>)</span>
<span id="cb66-13"><a href="stats_processing_time.html#cb66-13" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">cauchy</span>(<span class="dv">0</span>, sd_y), <span class="at">class =</span> <span class="st">&quot;sigma&quot;</span>)</span>
<span id="cb66-14"><a href="stats_processing_time.html#cb66-14" tabindex="-1"></a>  )</span>
<span id="cb66-15"><a href="stats_processing_time.html#cb66-15" tabindex="-1"></a>  , <span class="at">stanvars =</span> stanvars_temp</span>
<span id="cb66-16"><a href="stats_processing_time.html#cb66-16" tabindex="-1"></a>  , <span class="at">file =</span> <span class="fu">paste0</span>(rootdir, <span class="st">&quot;/fits/brms2_mod&quot;</span>)</span>
<span id="cb66-17"><a href="stats_processing_time.html#cb66-17" tabindex="-1"></a>)</span></code></pre></div>
<p>check the trace plots for problems with convergence of the Markov chains</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="stats_processing_time.html#cb67-1" tabindex="-1"></a><span class="fu">plot</span>(brms2_mod)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-31-1.png" width="1008" /></p>
<p>check the prior distributions</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="stats_processing_time.html#cb68-1" tabindex="-1"></a><span class="co"># check priors</span></span>
<span id="cb68-2"><a href="stats_processing_time.html#cb68-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">prior_summary</span>(brms2_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="stats_processing_time.html#cb68-3" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb68-4"><a href="stats_processing_time.html#cb68-4" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
prior
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
coef
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
resp
</th>
<th style="text-align:left;">
dpar
</th>
<th style="text-align:left;">
nlpar
</th>
<th style="text-align:left;">
lb
</th>
<th style="text-align:left;">
ub
</th>
<th style="text-align:left;">
source
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
normal(mean_y, sd_y * 5)
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
<tr>
<td style="text-align:left;">
gamma(alpha, beta)
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
cauchy(0, sd_y)
</td>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
</tbody>
</table>
<p>The <code>brms::brm</code> model summary</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="stats_processing_time.html#cb69-1" tabindex="-1"></a>brms2_mod <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="stats_processing_time.html#cb69-2" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">posterior_summary</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href="stats_processing_time.html#cb69-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb69-4"><a href="stats_processing_time.html#cb69-4" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;parameter&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-5"><a href="stats_processing_time.html#cb69-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span> </span>
<span id="cb69-6"><a href="stats_processing_time.html#cb69-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb69-7"><a href="stats_processing_time.html#cb69-7" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;b_&quot;</span>) </span>
<span id="cb69-8"><a href="stats_processing_time.html#cb69-8" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;r_&quot;</span>) </span>
<span id="cb69-9"><a href="stats_processing_time.html#cb69-9" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;sd_&quot;</span>) </span>
<span id="cb69-10"><a href="stats_processing_time.html#cb69-10" tabindex="-1"></a>    <span class="sc">|</span> parameter <span class="sc">==</span> <span class="st">&quot;sigma&quot;</span></span>
<span id="cb69-11"><a href="stats_processing_time.html#cb69-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-12"><a href="stats_processing_time.html#cb69-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb69-13"><a href="stats_processing_time.html#cb69-13" tabindex="-1"></a>    <span class="at">parameter =</span> parameter <span class="sc">%&gt;%</span> </span>
<span id="cb69-14"><a href="stats_processing_time.html#cb69-14" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-15"><a href="stats_processing_time.html#cb69-15" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>)</span>
<span id="cb69-16"><a href="stats_processing_time.html#cb69-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb69-17"><a href="stats_processing_time.html#cb69-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Bayesian two nominal predictors: point cloud processing time by depth map quality and filtering mode&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-18"><a href="stats_processing_time.html#cb69-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb69-19"><a href="stats_processing_time.html#cb69-19" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:two-sum-brms-rslt1">Table 4.13: </span>Bayesian two nominal predictors: point cloud processing time by depth map quality and filtering mode
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
parameter
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
est.error
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q2.5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q97.5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
b_Intercept
</td>
<td style="text-align:right;">
22.69
</td>
<td style="text-align:right;">
22.14
</td>
<td style="text-align:right;">
-22.31
</td>
<td style="text-align:right;">
67.96
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_filtering__Intercept
</td>
<td style="text-align:right;">
9.47
</td>
<td style="text-align:right;">
8.99
</td>
<td style="text-align:right;">
0.82
</td>
<td style="text-align:right;">
33.84
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality__Intercept
</td>
<td style="text-align:right;">
45.16
</td>
<td style="text-align:right;">
19.70
</td>
<td style="text-align:right;">
20.89
</td>
<td style="text-align:right;">
97.64
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality:filtering__Intercept
</td>
<td style="text-align:right;">
8.93
</td>
<td style="text-align:right;">
2.60
</td>
<td style="text-align:right;">
4.80
</td>
<td style="text-align:right;">
14.93
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:right;">
10.03
</td>
<td style="text-align:right;">
0.82
</td>
<td style="text-align:right;">
8.56
</td>
<td style="text-align:right;">
11.77
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[aggressive,Intercept]
</td>
<td style="text-align:right;">
-4.45
</td>
<td style="text-align:right;">
7.22
</td>
<td style="text-align:right;">
-20.85
</td>
<td style="text-align:right;">
8.06
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[moderate,Intercept]
</td>
<td style="text-align:right;">
-0.50
</td>
<td style="text-align:right;">
6.90
</td>
<td style="text-align:right;">
-15.04
</td>
<td style="text-align:right;">
13.80
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[mild,Intercept]
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
6.96
</td>
<td style="text-align:right;">
-13.65
</td>
<td style="text-align:right;">
15.25
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[disabled,Intercept]
</td>
<td style="text-align:right;">
4.28
</td>
<td style="text-align:right;">
7.13
</td>
<td style="text-align:right;">
-8.62
</td>
<td style="text-align:right;">
19.95
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[ultra.high,Intercept]
</td>
<td style="text-align:right;">
59.63
</td>
<td style="text-align:right;">
21.61
</td>
<td style="text-align:right;">
16.21
</td>
<td style="text-align:right;">
104.73
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[high,Intercept]
</td>
<td style="text-align:right;">
-2.31
</td>
<td style="text-align:right;">
21.60
</td>
<td style="text-align:right;">
-46.77
</td>
<td style="text-align:right;">
41.48
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[medium,Intercept]
</td>
<td style="text-align:right;">
-15.58
</td>
<td style="text-align:right;">
21.48
</td>
<td style="text-align:right;">
-60.28
</td>
<td style="text-align:right;">
27.91
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[low,Intercept]
</td>
<td style="text-align:right;">
-20.14
</td>
<td style="text-align:right;">
21.54
</td>
<td style="text-align:right;">
-65.01
</td>
<td style="text-align:right;">
23.93
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[lowest,Intercept]
</td>
<td style="text-align:right;">
-21.14
</td>
<td style="text-align:right;">
21.68
</td>
<td style="text-align:right;">
-65.81
</td>
<td style="text-align:right;">
22.52
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-1.60
</td>
<td style="text-align:right;">
6.41
</td>
<td style="text-align:right;">
-14.49
</td>
<td style="text-align:right;">
10.84
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_disabled,Intercept]
</td>
<td style="text-align:right;">
2.32
</td>
<td style="text-align:right;">
6.53
</td>
<td style="text-align:right;">
-10.57
</td>
<td style="text-align:right;">
15.62
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_mild,Intercept]
</td>
<td style="text-align:right;">
-0.12
</td>
<td style="text-align:right;">
6.22
</td>
<td style="text-align:right;">
-12.47
</td>
<td style="text-align:right;">
12.45
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.95
</td>
<td style="text-align:right;">
6.29
</td>
<td style="text-align:right;">
-13.59
</td>
<td style="text-align:right;">
11.16
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_aggressive,Intercept]
</td>
<td style="text-align:right;">
3.00
</td>
<td style="text-align:right;">
6.40
</td>
<td style="text-align:right;">
-9.57
</td>
<td style="text-align:right;">
15.79
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_disabled,Intercept]
</td>
<td style="text-align:right;">
-3.34
</td>
<td style="text-align:right;">
6.50
</td>
<td style="text-align:right;">
-16.54
</td>
<td style="text-align:right;">
9.21
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_mild,Intercept]
</td>
<td style="text-align:right;">
-0.71
</td>
<td style="text-align:right;">
6.17
</td>
<td style="text-align:right;">
-12.77
</td>
<td style="text-align:right;">
11.50
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
6.12
</td>
<td style="text-align:right;">
-12.46
</td>
<td style="text-align:right;">
12.03
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_aggressive,Intercept]
</td>
<td style="text-align:right;">
2.94
</td>
<td style="text-align:right;">
6.32
</td>
<td style="text-align:right;">
-9.42
</td>
<td style="text-align:right;">
15.77
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_disabled,Intercept]
</td>
<td style="text-align:right;">
-3.57
</td>
<td style="text-align:right;">
6.38
</td>
<td style="text-align:right;">
-16.58
</td>
<td style="text-align:right;">
8.70
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_mild,Intercept]
</td>
<td style="text-align:right;">
-0.80
</td>
<td style="text-align:right;">
6.21
</td>
<td style="text-align:right;">
-13.19
</td>
<td style="text-align:right;">
11.55
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.09
</td>
<td style="text-align:right;">
6.21
</td>
<td style="text-align:right;">
-12.65
</td>
<td style="text-align:right;">
12.31
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_aggressive,Intercept]
</td>
<td style="text-align:right;">
2.20
</td>
<td style="text-align:right;">
6.39
</td>
<td style="text-align:right;">
-10.77
</td>
<td style="text-align:right;">
15.22
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_disabled,Intercept]
</td>
<td style="text-align:right;">
-2.31
</td>
<td style="text-align:right;">
6.32
</td>
<td style="text-align:right;">
-14.91
</td>
<td style="text-align:right;">
10.39
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_mild,Intercept]
</td>
<td style="text-align:right;">
-0.83
</td>
<td style="text-align:right;">
6.29
</td>
<td style="text-align:right;">
-13.32
</td>
<td style="text-align:right;">
11.63
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.25
</td>
<td style="text-align:right;">
6.28
</td>
<td style="text-align:right;">
-13.18
</td>
<td style="text-align:right;">
12.06
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-16.56
</td>
<td style="text-align:right;">
6.96
</td>
<td style="text-align:right;">
-30.88
</td>
<td style="text-align:right;">
-3.72
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_disabled,Intercept]
</td>
<td style="text-align:right;">
16.89
</td>
<td style="text-align:right;">
7.13
</td>
<td style="text-align:right;">
4.10
</td>
<td style="text-align:right;">
32.41
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_mild,Intercept]
</td>
<td style="text-align:right;">
3.13
</td>
<td style="text-align:right;">
6.48
</td>
<td style="text-align:right;">
-9.55
</td>
<td style="text-align:right;">
16.47
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_moderate,Intercept]
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
6.46
</td>
<td style="text-align:right;">
-11.94
</td>
<td style="text-align:right;">
13.63
</td>
</tr>
</tbody>
</table>
</div>
<p>We can look at the model noise standard deviation <span class="math inline">\(\sigma_y\)</span></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="stats_processing_time.html#cb70-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb70-2"><a href="stats_processing_time.html#cb70-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms2_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href="stats_processing_time.html#cb70-3" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb70-4"><a href="stats_processing_time.html#cb70-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sigma, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb70-5"><a href="stats_processing_time.html#cb70-5" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb70-6"><a href="stats_processing_time.html#cb70-6" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb70-7"><a href="stats_processing_time.html#cb70-7" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb70-8"><a href="stats_processing_time.html#cb70-8" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_size =</span> <span class="dv">3</span></span>
<span id="cb70-9"><a href="stats_processing_time.html#cb70-9" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb70-10"><a href="stats_processing_time.html#cb70-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb70-11"><a href="stats_processing_time.html#cb70-11" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb70-12"><a href="stats_processing_time.html#cb70-12" tabindex="-1"></a>  <span class="fu">xlab</span>(latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">sigma_y$&quot;</span>)) <span class="sc">+</span></span>
<span id="cb70-13"><a href="stats_processing_time.html#cb70-13" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-32-1.png" width="1008" /></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="stats_processing_time.html#cb71-1" tabindex="-1"></a><span class="co"># how is it compared to the first model</span></span>
<span id="cb71-2"><a href="stats_processing_time.html#cb71-2" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb71-3"><a href="stats_processing_time.html#cb71-3" tabindex="-1"></a>    brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms1_mod) <span class="sc">%&gt;%</span> tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(sigma) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">&quot;one nominal predictor&quot;</span>)</span>
<span id="cb71-4"><a href="stats_processing_time.html#cb71-4" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms2_mod) <span class="sc">%&gt;%</span> tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(sigma) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb71-5"><a href="stats_processing_time.html#cb71-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="stats_processing_time.html#cb71-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(model) <span class="sc">%&gt;%</span> </span>
<span id="cb71-7"><a href="stats_processing_time.html#cb71-7" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;brms::brm model noise standard deviation comparison&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-8"><a href="stats_processing_time.html#cb71-8" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-32">Table 4.14: </span>brms::brm model noise standard deviation comparison
</caption>
<thead>
<tr>
<th style="text-align:left;">
model
</th>
<th style="text-align:right;">
sigma
</th>
<th style="text-align:right;">
.lower
</th>
<th style="text-align:right;">
.upper
</th>
<th style="text-align:right;">
.width
</th>
<th style="text-align:left;">
.point
</th>
<th style="text-align:left;">
.interval
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
one nominal predictor
</td>
<td style="text-align:right;">
12.60
</td>
<td style="text-align:right;">
10.89
</td>
<td style="text-align:right;">
14.50
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
hdi
</td>
</tr>
<tr>
<td style="text-align:left;">
two nominal predictor
</td>
<td style="text-align:right;">
9.98
</td>
<td style="text-align:right;">
8.45
</td>
<td style="text-align:right;">
11.64
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
hdi
</td>
</tr>
</tbody>
</table>
<p>plot the posterior distributions of the conditional means with the median processing time and the 95% highest posterior density interval (HDI)</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="stats_processing_time.html#cb72-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="stats_processing_time.html#cb72-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="stats_processing_time.html#cb72-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms2_mod, <span class="at">allow_new_levels =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb72-4"><a href="stats_processing_time.html#cb72-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb72-5"><a href="stats_processing_time.html#cb72-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">depth_maps_generation_quality =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb72-6"><a href="stats_processing_time.html#cb72-6" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb72-7"><a href="stats_processing_time.html#cb72-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb72-8"><a href="stats_processing_time.html#cb72-8" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb72-9"><a href="stats_processing_time.html#cb72-9" tabindex="-1"></a>      <span class="at">y =</span> value, <span class="at">x =</span> depth_maps_generation_filtering_mode</span>
<span id="cb72-10"><a href="stats_processing_time.html#cb72-10" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb72-11"><a href="stats_processing_time.html#cb72-11" tabindex="-1"></a>    )</span>
<span id="cb72-12"><a href="stats_processing_time.html#cb72-12" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-13"><a href="stats_processing_time.html#cb72-13" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_eye</span>(</span>
<span id="cb72-14"><a href="stats_processing_time.html#cb72-14" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb72-15"><a href="stats_processing_time.html#cb72-15" tabindex="-1"></a>      , <span class="at">slab_alpha =</span> <span class="fl">0.8</span></span>
<span id="cb72-16"><a href="stats_processing_time.html#cb72-16" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb72-17"><a href="stats_processing_time.html#cb72-17" tabindex="-1"></a>      , <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_size =</span> <span class="dv">1</span></span>
<span id="cb72-18"><a href="stats_processing_time.html#cb72-18" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb72-19"><a href="stats_processing_time.html#cb72-19" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb72-20"><a href="stats_processing_time.html#cb72-20" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb72-21"><a href="stats_processing_time.html#cb72-21" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_quality)) <span class="sc">+</span></span>
<span id="cb72-22"><a href="stats_processing_time.html#cb72-22" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb72-23"><a href="stats_processing_time.html#cb72-23" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">y =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb72-24"><a href="stats_processing_time.html#cb72-24" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb72-25"><a href="stats_processing_time.html#cb72-25" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Filtering Mode&quot;</span></span>
<span id="cb72-26"><a href="stats_processing_time.html#cb72-26" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb72-27"><a href="stats_processing_time.html#cb72-27" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb72-28"><a href="stats_processing_time.html#cb72-28" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb72-29"><a href="stats_processing_time.html#cb72-29" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb72-30"><a href="stats_processing_time.html#cb72-30" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb72-31"><a href="stats_processing_time.html#cb72-31" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb72-32"><a href="stats_processing_time.html#cb72-32" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb72-33"><a href="stats_processing_time.html#cb72-33" tabindex="-1"></a>    ) </span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-34-1.png" width="1008" /></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="stats_processing_time.html#cb73-1" tabindex="-1"></a>    <span class="co"># guides(</span></span>
<span id="cb73-2"><a href="stats_processing_time.html#cb73-2" tabindex="-1"></a>    <span class="co">#   fill = guide_legend(reverse = T, override.aes = list(alpha = 1, color = NA, shape = NA, lwd = NA))</span></span>
<span id="cb73-3"><a href="stats_processing_time.html#cb73-3" tabindex="-1"></a>    <span class="co"># )</span></span></code></pre></div>
<p>we can also make pairwise comparisons</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="stats_processing_time.html#cb74-1" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span></span>
<span id="cb74-2"><a href="stats_processing_time.html#cb74-2" tabindex="-1"></a>  ptime_data <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href="stats_processing_time.html#cb74-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="stats_processing_time.html#cb74-4" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms2_mod, <span class="at">allow_new_levels =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb74-5"><a href="stats_processing_time.html#cb74-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb74-6"><a href="stats_processing_time.html#cb74-6" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">compare_levels</span>(</span>
<span id="cb74-7"><a href="stats_processing_time.html#cb74-7" tabindex="-1"></a>      value</span>
<span id="cb74-8"><a href="stats_processing_time.html#cb74-8" tabindex="-1"></a>      , <span class="at">by =</span> depth_maps_generation_quality</span>
<span id="cb74-9"><a href="stats_processing_time.html#cb74-9" tabindex="-1"></a>      , <span class="at">comparison =</span> </span>
<span id="cb74-10"><a href="stats_processing_time.html#cb74-10" tabindex="-1"></a>        contrast_list</span>
<span id="cb74-11"><a href="stats_processing_time.html#cb74-11" tabindex="-1"></a>        <span class="co"># tidybayes::emmeans_comparison(&quot;revpairwise&quot;) </span></span>
<span id="cb74-12"><a href="stats_processing_time.html#cb74-12" tabindex="-1"></a>        <span class="co">#&quot;pairwise&quot;</span></span>
<span id="cb74-13"><a href="stats_processing_time.html#cb74-13" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb74-14"><a href="stats_processing_time.html#cb74-14" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">contrast =</span> depth_maps_generation_quality)</span>
<span id="cb74-15"><a href="stats_processing_time.html#cb74-15" tabindex="-1"></a></span>
<span id="cb74-16"><a href="stats_processing_time.html#cb74-16" tabindex="-1"></a><span class="co"># separate contrast</span></span>
<span id="cb74-17"><a href="stats_processing_time.html#cb74-17" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span> brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb74-18"><a href="stats_processing_time.html#cb74-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-19"><a href="stats_processing_time.html#cb74-19" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(</span>
<span id="cb74-20"><a href="stats_processing_time.html#cb74-20" tabindex="-1"></a>    <span class="at">cols =</span> contrast</span>
<span id="cb74-21"><a href="stats_processing_time.html#cb74-21" tabindex="-1"></a>    , <span class="at">delim =</span> <span class="st">&quot; - &quot;</span></span>
<span id="cb74-22"><a href="stats_processing_time.html#cb74-22" tabindex="-1"></a>    , <span class="at">names =</span> <span class="fu">paste0</span>(</span>
<span id="cb74-23"><a href="stats_processing_time.html#cb74-23" tabindex="-1"></a>        <span class="st">&quot;sorter&quot;</span></span>
<span id="cb74-24"><a href="stats_processing_time.html#cb74-24" tabindex="-1"></a>        , <span class="dv">1</span><span class="sc">:</span>(<span class="fu">max</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(brms_contrast_temp<span class="sc">$</span>contrast, <span class="st">&quot;-&quot;</span>))<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb74-25"><a href="stats_processing_time.html#cb74-25" tabindex="-1"></a>      )</span>
<span id="cb74-26"><a href="stats_processing_time.html#cb74-26" tabindex="-1"></a>    , <span class="at">too_few =</span> <span class="st">&quot;align_start&quot;</span></span>
<span id="cb74-27"><a href="stats_processing_time.html#cb74-27" tabindex="-1"></a>    , <span class="at">cols_remove =</span> F</span>
<span id="cb74-28"><a href="stats_processing_time.html#cb74-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb74-29"><a href="stats_processing_time.html#cb74-29" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(sorter1<span class="sc">!=</span>sorter2) <span class="sc">%&gt;%</span> </span>
<span id="cb74-30"><a href="stats_processing_time.html#cb74-30" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb74-31"><a href="stats_processing_time.html#cb74-31" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb74-32"><a href="stats_processing_time.html#cb74-32" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sorter&quot;</span>)</span>
<span id="cb74-33"><a href="stats_processing_time.html#cb74-33" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="cf">function</span>(x){<span class="fu">factor</span>(</span>
<span id="cb74-34"><a href="stats_processing_time.html#cb74-34" tabindex="-1"></a>        x, <span class="at">ordered =</span> T</span>
<span id="cb74-35"><a href="stats_processing_time.html#cb74-35" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb74-36"><a href="stats_processing_time.html#cb74-36" tabindex="-1"></a>      )}</span>
<span id="cb74-37"><a href="stats_processing_time.html#cb74-37" tabindex="-1"></a>    )</span>
<span id="cb74-38"><a href="stats_processing_time.html#cb74-38" tabindex="-1"></a>    , <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> </span>
<span id="cb74-39"><a href="stats_processing_time.html#cb74-39" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(</span>
<span id="cb74-40"><a href="stats_processing_time.html#cb74-40" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(sorter1), <span class="fu">as.numeric</span>(sorter2)) <span class="sc">%&gt;%</span> </span>
<span id="cb74-41"><a href="stats_processing_time.html#cb74-41" tabindex="-1"></a>        <span class="fu">as.numeric</span>()</span>
<span id="cb74-42"><a href="stats_processing_time.html#cb74-42" tabindex="-1"></a>      )</span>
<span id="cb74-43"><a href="stats_processing_time.html#cb74-43" tabindex="-1"></a>    , <span class="at">depth_maps_generation_filtering_mode =</span> depth_maps_generation_filtering_mode <span class="sc">%&gt;%</span> </span>
<span id="cb74-44"><a href="stats_processing_time.html#cb74-44" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb74-45"><a href="stats_processing_time.html#cb74-45" tabindex="-1"></a>        <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_filtering_mode)</span>
<span id="cb74-46"><a href="stats_processing_time.html#cb74-46" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb74-47"><a href="stats_processing_time.html#cb74-47" tabindex="-1"></a>      )</span>
<span id="cb74-48"><a href="stats_processing_time.html#cb74-48" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb74-49"><a href="stats_processing_time.html#cb74-49" tabindex="-1"></a>  <span class="co"># median_hdi summary for coloring </span></span>
<span id="cb74-50"><a href="stats_processing_time.html#cb74-50" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb74-51"><a href="stats_processing_time.html#cb74-51" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb74-52"><a href="stats_processing_time.html#cb74-52" tabindex="-1"></a>    <span class="at">is_gt_zero =</span> value <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb74-53"><a href="stats_processing_time.html#cb74-53" tabindex="-1"></a>    , <span class="at">pct_gt_zero =</span> <span class="fu">sum</span>(is_gt_zero)<span class="sc">/</span>dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb74-54"><a href="stats_processing_time.html#cb74-54" tabindex="-1"></a>    , <span class="at">sig_level2 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb74-55"><a href="stats_processing_time.html#cb74-55" tabindex="-1"></a>      pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.99</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb74-56"><a href="stats_processing_time.html#cb74-56" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.95</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb74-57"><a href="stats_processing_time.html#cb74-57" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.9</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb74-58"><a href="stats_processing_time.html#cb74-58" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb74-59"><a href="stats_processing_time.html#cb74-59" tabindex="-1"></a>      , T <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb74-60"><a href="stats_processing_time.html#cb74-60" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb74-61"><a href="stats_processing_time.html#cb74-61" tabindex="-1"></a>    <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&gt;99%&quot;</span>,<span class="st">&quot;95%&quot;</span>,<span class="st">&quot;90%&quot;</span>,<span class="st">&quot;80%&quot;</span>,<span class="st">&quot;&lt;80%&quot;</span>), <span class="at">ordered =</span> T)</span>
<span id="cb74-62"><a href="stats_processing_time.html#cb74-62" tabindex="-1"></a>  )</span>
<span id="cb74-63"><a href="stats_processing_time.html#cb74-63" tabindex="-1"></a></span>
<span id="cb74-64"><a href="stats_processing_time.html#cb74-64" tabindex="-1"></a><span class="co"># what?</span></span>
<span id="cb74-65"><a href="stats_processing_time.html#cb74-65" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 320,000
## Columns: 11
## Groups: contrast, depth_maps_generation_filtering_mode [40]
## $ depth_maps_generation_filtering_mode &lt;ord&gt; aggressive, aggressive, aggressiv…
## $ .chain                               &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .iteration                           &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .draw                                &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
## $ sorter1                              &lt;ord&gt; ultra high, ultra high, ultra hig…
## $ sorter2                              &lt;ord&gt; high, high, high, high, high, hig…
## $ contrast                             &lt;fct&gt; ultra high - high, ultra high - h…
## $ value                                &lt;dbl&gt; 49.69898, 36.26862, 45.16237, 43.…
## $ is_gt_zero                           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRU…
## $ pct_gt_zero                          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ sig_level2                           &lt;ord&gt; &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99…</code></pre>
<p>plot it</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="stats_processing_time.html#cb76-1" tabindex="-1"></a><span class="co"># plot it</span></span>
<span id="cb76-2"><a href="stats_processing_time.html#cb76-2" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="stats_processing_time.html#cb76-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb76-4"><a href="stats_processing_time.html#cb76-4" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb76-5"><a href="stats_processing_time.html#cb76-5" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> contrast</span>
<span id="cb76-6"><a href="stats_processing_time.html#cb76-6" tabindex="-1"></a>      , <span class="at">fill =</span> sig_level2 <span class="co"># pct_gt_zero</span></span>
<span id="cb76-7"><a href="stats_processing_time.html#cb76-7" tabindex="-1"></a>      <span class="co"># , fill = depth_maps_generation_filtering_mode</span></span>
<span id="cb76-8"><a href="stats_processing_time.html#cb76-8" tabindex="-1"></a>    )</span>
<span id="cb76-9"><a href="stats_processing_time.html#cb76-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb76-10"><a href="stats_processing_time.html#cb76-10" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb76-11"><a href="stats_processing_time.html#cb76-11" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.95</span>)</span>
<span id="cb76-12"><a href="stats_processing_time.html#cb76-12" tabindex="-1"></a>      <span class="co"># , slab_fill = &quot;gray22&quot;, slab_alpha = 1</span></span>
<span id="cb76-13"><a href="stats_processing_time.html#cb76-13" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb76-14"><a href="stats_processing_time.html#cb76-14" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb76-15"><a href="stats_processing_time.html#cb76-15" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb76-16"><a href="stats_processing_time.html#cb76-16" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb76-17"><a href="stats_processing_time.html#cb76-17" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb76-18"><a href="stats_processing_time.html#cb76-18" tabindex="-1"></a>      <span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span></span>
<span id="cb76-19"><a href="stats_processing_time.html#cb76-19" tabindex="-1"></a>      , <span class="at">drop =</span> F</span>
<span id="cb76-20"><a href="stats_processing_time.html#cb76-20" tabindex="-1"></a>      <span class="co"># , labels = scales::percent</span></span>
<span id="cb76-21"><a href="stats_processing_time.html#cb76-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb76-22"><a href="stats_processing_time.html#cb76-22" tabindex="-1"></a>    <span class="co"># scale_fill_viridis_c(</span></span>
<span id="cb76-23"><a href="stats_processing_time.html#cb76-23" tabindex="-1"></a>    <span class="co">#   option = &quot;mako&quot;, begin = 0.3, direction = -1</span></span>
<span id="cb76-24"><a href="stats_processing_time.html#cb76-24" tabindex="-1"></a>    <span class="co">#   , labels = scales::percent</span></span>
<span id="cb76-25"><a href="stats_processing_time.html#cb76-25" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb76-26"><a href="stats_processing_time.html#cb76-26" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb76-27"><a href="stats_processing_time.html#cb76-27" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode)) <span class="sc">+</span></span>
<span id="cb76-28"><a href="stats_processing_time.html#cb76-28" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb76-29"><a href="stats_processing_time.html#cb76-29" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb76-30"><a href="stats_processing_time.html#cb76-30" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb76-31"><a href="stats_processing_time.html#cb76-31" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;95% &amp; 50% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb76-32"><a href="stats_processing_time.html#cb76-32" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Pr(contrast &gt; 0)&quot;</span></span>
<span id="cb76-33"><a href="stats_processing_time.html#cb76-33" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb76-34"><a href="stats_processing_time.html#cb76-34" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb76-35"><a href="stats_processing_time.html#cb76-35" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb76-36"><a href="stats_processing_time.html#cb76-36" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb76-37"><a href="stats_processing_time.html#cb76-37" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb76-38"><a href="stats_processing_time.html#cb76-38" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb76-39"><a href="stats_processing_time.html#cb76-39" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb76-40"><a href="stats_processing_time.html#cb76-40" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb76-41"><a href="stats_processing_time.html#cb76-41" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="cn">NA</span>, <span class="at">shape =</span> <span class="cn">NA</span>, <span class="at">lwd =</span> <span class="cn">NA</span>))</span>
<span id="cb76-42"><a href="stats_processing_time.html#cb76-42" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-36-1.png" width="1008" /></p>
<p>and summarize these contrasts</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="stats_processing_time.html#cb77-1" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="stats_processing_time.html#cb77-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="stats_processing_time.html#cb77-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb77-4"><a href="stats_processing_time.html#cb77-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb77-5"><a href="stats_processing_time.html#cb77-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, depth_maps_generation_filtering_mode, value, .lower, .upper) <span class="sc">%&gt;%</span> </span>
<span id="cb77-6"><a href="stats_processing_time.html#cb77-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb77-7"><a href="stats_processing_time.html#cb77-7" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb77-8"><a href="stats_processing_time.html#cb77-8" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb77-9"><a href="stats_processing_time.html#cb77-9" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb77-10"><a href="stats_processing_time.html#cb77-10" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb77-11"><a href="stats_processing_time.html#cb77-11" tabindex="-1"></a>      <span class="st">&quot;quality contrast&quot;</span></span>
<span id="cb77-12"><a href="stats_processing_time.html#cb77-12" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb77-13"><a href="stats_processing_time.html#cb77-13" tabindex="-1"></a>      , <span class="st">&quot;difference (mins.)&quot;</span></span>
<span id="cb77-14"><a href="stats_processing_time.html#cb77-14" tabindex="-1"></a>      , <span class="st">&quot;conf.low&quot;</span>, <span class="st">&quot;conf.high&quot;</span></span>
<span id="cb77-15"><a href="stats_processing_time.html#cb77-15" tabindex="-1"></a>    )</span>
<span id="cb77-16"><a href="stats_processing_time.html#cb77-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb77-17"><a href="stats_processing_time.html#cb77-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb77-18"><a href="stats_processing_time.html#cb77-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-37">Table 4.15: </span>brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
quality contrast
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
difference (mins.)
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.low
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.high
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
46.9
</td>
<td style="text-align:right;">
34.6
</td>
<td style="text-align:right;">
59.3
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
63.4
</td>
<td style="text-align:right;">
52.3
</td>
<td style="text-align:right;">
75.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
65.2
</td>
<td style="text-align:right;">
53.7
</td>
<td style="text-align:right;">
76.4
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
76.5
</td>
<td style="text-align:right;">
64.2
</td>
<td style="text-align:right;">
87.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
56.4
</td>
<td style="text-align:right;">
43.8
</td>
<td style="text-align:right;">
68.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
76.1
</td>
<td style="text-align:right;">
65.0
</td>
<td style="text-align:right;">
87.4
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
79.1
</td>
<td style="text-align:right;">
67.7
</td>
<td style="text-align:right;">
90.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
94.4
</td>
<td style="text-align:right;">
81.8
</td>
<td style="text-align:right;">
106.7
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
60.1
</td>
<td style="text-align:right;">
47.6
</td>
<td style="text-align:right;">
73.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
80.4
</td>
<td style="text-align:right;">
69.0
</td>
<td style="text-align:right;">
91.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
83.7
</td>
<td style="text-align:right;">
72.2
</td>
<td style="text-align:right;">
94.7
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
100.2
</td>
<td style="text-align:right;">
87.8
</td>
<td style="text-align:right;">
112.4
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
61.2
</td>
<td style="text-align:right;">
48.3
</td>
<td style="text-align:right;">
73.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
81.4
</td>
<td style="text-align:right;">
69.9
</td>
<td style="text-align:right;">
92.7
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
84.7
</td>
<td style="text-align:right;">
73.3
</td>
<td style="text-align:right;">
95.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
101.2
</td>
<td style="text-align:right;">
89.1
</td>
<td style="text-align:right;">
113.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
9.5
</td>
<td style="text-align:right;">
-2.3
</td>
<td style="text-align:right;">
20.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
12.6
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
24.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
14.0
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
25.3
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
17.9
</td>
<td style="text-align:right;">
6.6
</td>
<td style="text-align:right;">
29.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
13.2
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
24.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
17.0
</td>
<td style="text-align:right;">
5.8
</td>
<td style="text-align:right;">
28.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
18.5
</td>
<td style="text-align:right;">
6.9
</td>
<td style="text-align:right;">
29.8
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
11.7
</td>
<td style="text-align:right;">
34.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
14.3
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:right;">
25.2
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
17.9
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
29.0
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
19.5
</td>
<td style="text-align:right;">
8.3
</td>
<td style="text-align:right;">
30.6
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
24.8
</td>
<td style="text-align:right;">
13.3
</td>
<td style="text-align:right;">
36.3
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
3.7
</td>
<td style="text-align:right;">
-7.2
</td>
<td style="text-align:right;">
15.2
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
4.4
</td>
<td style="text-align:right;">
-6.7
</td>
<td style="text-align:right;">
16.1
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
4.5
</td>
<td style="text-align:right;">
-6.5
</td>
<td style="text-align:right;">
15.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
-5.7
</td>
<td style="text-align:right;">
16.9
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
4.8
</td>
<td style="text-align:right;">
-6.0
</td>
<td style="text-align:right;">
16.7
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
-6.1
</td>
<td style="text-align:right;">
16.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
-5.7
</td>
<td style="text-align:right;">
16.7
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
6.9
</td>
<td style="text-align:right;">
-4.5
</td>
<td style="text-align:right;">
17.9
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
-10.2
</td>
<td style="text-align:right;">
12.1
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-10.4
</td>
<td style="text-align:right;">
12.2
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
-10.5
</td>
<td style="text-align:right;">
12.2
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
-10.0
</td>
<td style="text-align:right;">
12.3
</td>
</tr>
</tbody>
</table>
</div>
<p><a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> notes that for the multiple nominal predictors model:</p>
<blockquote>
<p>In applications with multiple levels of the factors, it is virtually always the case that we are interested in comparing particular levels with each other…These sorts of comparisons, which involve levels of a single factor and collapse across the other factor(s), are called main effect comparisons or contrasts.(p. 595)</p>
</blockquote>
<p>First, let’s collapse across the filtering mode to compare the depth map quality setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="stats_processing_time.html#cb78-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="stats_processing_time.html#cb78-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="stats_processing_time.html#cb78-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb78-4"><a href="stats_processing_time.html#cb78-4" tabindex="-1"></a>    brms2_mod</span>
<span id="cb78-5"><a href="stats_processing_time.html#cb78-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb78-6"><a href="stats_processing_time.html#cb78-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb78-7"><a href="stats_processing_time.html#cb78-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb78-8"><a href="stats_processing_time.html#cb78-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb78-9"><a href="stats_processing_time.html#cb78-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb78-10"><a href="stats_processing_time.html#cb78-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb78-11"><a href="stats_processing_time.html#cb78-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb78-12"><a href="stats_processing_time.html#cb78-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_quality</span>
<span id="cb78-13"><a href="stats_processing_time.html#cb78-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_quality</span>
<span id="cb78-14"><a href="stats_processing_time.html#cb78-14" tabindex="-1"></a>    )</span>
<span id="cb78-15"><a href="stats_processing_time.html#cb78-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb78-16"><a href="stats_processing_time.html#cb78-16" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb78-17"><a href="stats_processing_time.html#cb78-17" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb78-18"><a href="stats_processing_time.html#cb78-18" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb78-19"><a href="stats_processing_time.html#cb78-19" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_color =</span> <span class="st">&quot;gray66&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb78-20"><a href="stats_processing_time.html#cb78-20" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb78-21"><a href="stats_processing_time.html#cb78-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb78-22"><a href="stats_processing_time.html#cb78-22" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;inferno&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb78-23"><a href="stats_processing_time.html#cb78-23" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb78-24"><a href="stats_processing_time.html#cb78-24" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb78-25"><a href="stats_processing_time.html#cb78-25" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb78-26"><a href="stats_processing_time.html#cb78-26" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb78-27"><a href="stats_processing_time.html#cb78-27" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb78-28"><a href="stats_processing_time.html#cb78-28" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb78-29"><a href="stats_processing_time.html#cb78-29" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-38-1.png" width="1008" /></p>
<p>let’s compare these results to the results from our <a href="stats_processing_time.html#one_pred_mod_bays">one nominal predictor model above</a></p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="stats_processing_time.html#cb79-1" tabindex="-1"></a><span class="co"># let&#39;s compare these results to the results from our [one nominal predictor model above](#one_pred_mod)</span></span>
<span id="cb79-2"><a href="stats_processing_time.html#cb79-2" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb79-3"><a href="stats_processing_time.html#cb79-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb79-4"><a href="stats_processing_time.html#cb79-4" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb79-5"><a href="stats_processing_time.html#cb79-5" tabindex="-1"></a>    brms2_mod</span>
<span id="cb79-6"><a href="stats_processing_time.html#cb79-6" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb79-7"><a href="stats_processing_time.html#cb79-7" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb79-8"><a href="stats_processing_time.html#cb79-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb79-9"><a href="stats_processing_time.html#cb79-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;two nominal predictor&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-10"><a href="stats_processing_time.html#cb79-10" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb79-11"><a href="stats_processing_time.html#cb79-11" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb79-12"><a href="stats_processing_time.html#cb79-12" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb79-13"><a href="stats_processing_time.html#cb79-13" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb79-14"><a href="stats_processing_time.html#cb79-14" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;one nominal predictor&quot;</span>)</span>
<span id="cb79-15"><a href="stats_processing_time.html#cb79-15" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb79-16"><a href="stats_processing_time.html#cb79-16" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> src, <span class="at">x =</span> value, <span class="at">color =</span> src, <span class="at">group =</span> src)) <span class="sc">+</span></span>
<span id="cb79-17"><a href="stats_processing_time.html#cb79-17" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_pointinterval</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-18"><a href="stats_processing_time.html#cb79-18" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(depth_maps_generation_quality), <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-19"><a href="stats_processing_time.html#cb79-19" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb79-20"><a href="stats_processing_time.html#cb79-20" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">begin =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb79-21"><a href="stats_processing_time.html#cb79-21" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb79-22"><a href="stats_processing_time.html#cb79-22" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb79-23"><a href="stats_processing_time.html#cb79-23" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;model&quot;</span></span>
<span id="cb79-24"><a href="stats_processing_time.html#cb79-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb79-25"><a href="stats_processing_time.html#cb79-25" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb79-26"><a href="stats_processing_time.html#cb79-26" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-39-1.png" width="1008" /></p>
<p>these results are as expected, with <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> noting:</p>
<blockquote>
<p>It is important to realize that the estimates of interaction contrasts are typically much more uncertain than the estimates of simple effects or main effects…This large uncertainty of an interaction contrast is caused by the fact that it involves at least four sources of uncertainty (i.e., at least four groups of data), unlike its component simple effects which each involve only half of those sources of uncertainty. In general, interaction contrasts require a lot of data to estimate accurately. (p. 598)</p>
</blockquote>
<p>For completeness, let’s also collapse across the depth map quality to compare the filtering mode setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="stats_processing_time.html#cb80-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb80-2"><a href="stats_processing_time.html#cb80-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="stats_processing_time.html#cb80-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb80-4"><a href="stats_processing_time.html#cb80-4" tabindex="-1"></a>    brms2_mod</span>
<span id="cb80-5"><a href="stats_processing_time.html#cb80-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb80-6"><a href="stats_processing_time.html#cb80-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb80-7"><a href="stats_processing_time.html#cb80-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb80-8"><a href="stats_processing_time.html#cb80-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb80-9"><a href="stats_processing_time.html#cb80-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb80-10"><a href="stats_processing_time.html#cb80-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb80-11"><a href="stats_processing_time.html#cb80-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb80-12"><a href="stats_processing_time.html#cb80-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_filtering_mode</span>
<span id="cb80-13"><a href="stats_processing_time.html#cb80-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb80-14"><a href="stats_processing_time.html#cb80-14" tabindex="-1"></a>    )</span>
<span id="cb80-15"><a href="stats_processing_time.html#cb80-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-16"><a href="stats_processing_time.html#cb80-16" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb80-17"><a href="stats_processing_time.html#cb80-17" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb80-18"><a href="stats_processing_time.html#cb80-18" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb80-19"><a href="stats_processing_time.html#cb80-19" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_color =</span> <span class="st">&quot;gray66&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb80-20"><a href="stats_processing_time.html#cb80-20" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb80-21"><a href="stats_processing_time.html#cb80-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-22"><a href="stats_processing_time.html#cb80-22" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb80-23"><a href="stats_processing_time.html#cb80-23" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb80-24"><a href="stats_processing_time.html#cb80-24" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb80-25"><a href="stats_processing_time.html#cb80-25" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb80-26"><a href="stats_processing_time.html#cb80-26" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb80-27"><a href="stats_processing_time.html#cb80-27" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-28"><a href="stats_processing_time.html#cb80-28" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb80-29"><a href="stats_processing_time.html#cb80-29" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-40-1.png" width="1008" /></p>
<p>…it looks like the variation in processing time is driven by the depth map quality setting. We can quantify the variation in processing time by comparing the <span class="math inline">\(\sigma\)</span> posteriors.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="stats_processing_time.html#cb81-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb81-2"><a href="stats_processing_time.html#cb81-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms2_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb81-3"><a href="stats_processing_time.html#cb81-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(sigma,tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sd_&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb81-4"><a href="stats_processing_time.html#cb81-4" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(dplyr<span class="sc">::</span><span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb81-5"><a href="stats_processing_time.html#cb81-5" tabindex="-1"></a>  <span class="co"># dplyr::group_by(name) %&gt;% </span></span>
<span id="cb81-6"><a href="stats_processing_time.html#cb81-6" tabindex="-1"></a>  <span class="co"># tidybayes::median_hdi(value) %&gt;% </span></span>
<span id="cb81-7"><a href="stats_processing_time.html#cb81-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb81-8"><a href="stats_processing_time.html#cb81-8" tabindex="-1"></a>    <span class="at">name =</span> name <span class="sc">%&gt;%</span> </span>
<span id="cb81-9"><a href="stats_processing_time.html#cb81-9" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb81-10"><a href="stats_processing_time.html#cb81-10" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb81-11"><a href="stats_processing_time.html#cb81-11" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(value)</span>
<span id="cb81-12"><a href="stats_processing_time.html#cb81-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb81-13"><a href="stats_processing_time.html#cb81-13" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb81-14"><a href="stats_processing_time.html#cb81-14" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> name)) <span class="sc">+</span></span>
<span id="cb81-15"><a href="stats_processing_time.html#cb81-15" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb81-16"><a href="stats_processing_time.html#cb81-16" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb81-17"><a href="stats_processing_time.html#cb81-17" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb81-18"><a href="stats_processing_time.html#cb81-18" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span> <span class="co">#, point_size = 3</span></span>
<span id="cb81-19"><a href="stats_processing_time.html#cb81-19" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb81-20"><a href="stats_processing_time.html#cb81-20" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb81-21"><a href="stats_processing_time.html#cb81-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb81-22"><a href="stats_processing_time.html#cb81-22" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-41-1.png" width="1008" /></p>
<p>Finally we can perform model selection via information criteria, from section 10 in <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-one-nominal-predictor.html">Kurz’s ebook supplement</a>:</p>
<blockquote>
<p>expected log predictive density (<code>elpd_loo</code>), the estimated effective number of parameters (<code>p_loo</code>), and the Pareto smoothed importance-sampling leave-one-out cross-validation (PSIS-LOO; <code>looic</code>). Each estimate comes with a standard error (i.e., <code>SE</code>). Like other information criteria, the LOO values aren’t of interest in and of themselves. However, the estimate of one model’s LOO relative to that of another can be of great interest. We generally prefer models with lower information criteria. With the <code>brms::loo_compare()</code> function, we can compute a formal difference score between two models…The <code>brms::loo_compare()</code> output rank orders the models such that the best fitting model appears on top.</p>
</blockquote>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="stats_processing_time.html#cb82-1" tabindex="-1"></a>brms1_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">add_criterion</span>(brms1_mod, <span class="at">criterion =</span> <span class="fu">c</span>(<span class="st">&quot;loo&quot;</span>, <span class="st">&quot;waic&quot;</span>))</span>
<span id="cb82-2"><a href="stats_processing_time.html#cb82-2" tabindex="-1"></a>brms2_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">add_criterion</span>(brms2_mod, <span class="at">criterion =</span> <span class="fu">c</span>(<span class="st">&quot;loo&quot;</span>, <span class="st">&quot;waic&quot;</span>))</span>
<span id="cb82-3"><a href="stats_processing_time.html#cb82-3" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">loo_compare</span>(brms1_mod, brms2_mod, <span class="at">criterion =</span> <span class="st">&quot;loo&quot;</span>)</span></code></pre></div>
<pre><code>##           elpd_diff se_diff
## brms2_mod   0.0       0.0  
## brms1_mod -16.4      11.9</code></pre>
</div>
</div>
<div id="two-nominal-predictors-site-effects" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Two Nominal Predictors + site effects<a href="stats_processing_time.html#two-nominal-predictors-site-effects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, we’ll add the average deflection from the baseline (i.e. the “grand mean”) due to study site (i.e. the “subjects” in our data). The main effect for the study site will be added to our model with the combined influence of the depth map generation quality and the depth map filtering parameters on the point cloud processing time.</p>
<p>In the model we use below, the study site is modeled as a “random effect.” <a href="https://esajournals.onlinelibrary.wiley.com/doi/abs/10.1002/ecm.1598">Hobbs et al. (2024)</a> describe a similar model:</p>
<blockquote>
<p>It is important to understand that fitting treatment intercepts and slopes as random rather than fixed means that our inference applied to all possible sites suitable for [inclusion in the study]. In contrast, assuming fixed effects of treatment would dramatically reduce the uncertainty about those effects, but would constrain inference to the four sites that we studied. (p. 13)</p>
</blockquote>
<p>From this point forward we will only show the Bayesian methodology.</p>
<div id="summary-statistics-2" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Summary Statistics<a href="stats_processing_time.html#summary-statistics-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Each study site contributes one observation per depth map quality and filtering mode setting. That is, a row in the underlying data is unique by study site, depth map quality, and filtering mode.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="stats_processing_time.html#cb84-1" tabindex="-1"></a><span class="fu">identical</span>(</span>
<span id="cb84-2"><a href="stats_processing_time.html#cb84-2" tabindex="-1"></a>  <span class="co"># base data</span></span>
<span id="cb84-3"><a href="stats_processing_time.html#cb84-3" tabindex="-1"></a>  <span class="fu">nrow</span>(ptime_data)</span>
<span id="cb84-4"><a href="stats_processing_time.html#cb84-4" tabindex="-1"></a>  <span class="co"># distinct group</span></span>
<span id="cb84-5"><a href="stats_processing_time.html#cb84-5" tabindex="-1"></a>  , ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb84-6"><a href="stats_processing_time.html#cb84-6" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>(</span>
<span id="cb84-7"><a href="stats_processing_time.html#cb84-7" tabindex="-1"></a>      study_site</span>
<span id="cb84-8"><a href="stats_processing_time.html#cb84-8" tabindex="-1"></a>      , depth_maps_generation_quality</span>
<span id="cb84-9"><a href="stats_processing_time.html#cb84-9" tabindex="-1"></a>      , depth_maps_generation_filtering_mode</span>
<span id="cb84-10"><a href="stats_processing_time.html#cb84-10" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb84-11"><a href="stats_processing_time.html#cb84-11" tabindex="-1"></a>    <span class="fu">nrow</span>()</span>
<span id="cb84-12"><a href="stats_processing_time.html#cb84-12" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>we can visualize the data using <code>ggplot2::geom_tile</code></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="stats_processing_time.html#cb86-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb86-2"><a href="stats_processing_time.html#cb86-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb86-3"><a href="stats_processing_time.html#cb86-3" tabindex="-1"></a>    <span class="at">depth_maps_generation_quality =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()</span>
<span id="cb86-4"><a href="stats_processing_time.html#cb86-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb86-5"><a href="stats_processing_time.html#cb86-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb86-6"><a href="stats_processing_time.html#cb86-6" tabindex="-1"></a>    <span class="at">y =</span> study_site</span>
<span id="cb86-7"><a href="stats_processing_time.html#cb86-7" tabindex="-1"></a>    , <span class="at">x =</span> depth_maps_generation_filtering_mode</span>
<span id="cb86-8"><a href="stats_processing_time.html#cb86-8" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="fu">log</span>(timer_total_time_mins)</span>
<span id="cb86-9"><a href="stats_processing_time.html#cb86-9" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb86-10"><a href="stats_processing_time.html#cb86-10" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb86-11"><a href="stats_processing_time.html#cb86-11" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb86-12"><a href="stats_processing_time.html#cb86-12" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(timer_total_time_mins)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span></span>
<span id="cb86-13"><a href="stats_processing_time.html#cb86-13" tabindex="-1"></a>    , <span class="at">size =</span> <span class="dv">3</span>, <span class="at">angle =</span> <span class="dv">90</span></span>
<span id="cb86-14"><a href="stats_processing_time.html#cb86-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb86-15"><a href="stats_processing_time.html#cb86-15" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_quality)) <span class="sc">+</span> </span>
<span id="cb86-16"><a href="stats_processing_time.html#cb86-16" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb86-17"><a href="stats_processing_time.html#cb86-17" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb86-18"><a href="stats_processing_time.html#cb86-18" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(</span>
<span id="cb86-19"><a href="stats_processing_time.html#cb86-19" tabindex="-1"></a>    <span class="at">option =</span> <span class="st">&quot;viridis&quot;</span></span>
<span id="cb86-20"><a href="stats_processing_time.html#cb86-20" tabindex="-1"></a>    , <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;short&quot;</span>,<span class="st">&quot;&quot;</span>,<span class="st">&quot;&quot;</span>, <span class="st">&quot;long&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb86-21"><a href="stats_processing_time.html#cb86-21" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb86-22"><a href="stats_processing_time.html#cb86-22" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb86-23"><a href="stats_processing_time.html#cb86-23" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb86-24"><a href="stats_processing_time.html#cb86-24" tabindex="-1"></a>    , <span class="at">subtitle =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb86-25"><a href="stats_processing_time.html#cb86-25" tabindex="-1"></a>    , <span class="at">y =</span> <span class="st">&quot;study site&quot;</span></span>
<span id="cb86-26"><a href="stats_processing_time.html#cb86-26" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="st">&quot;point cloud</span><span class="sc">\n</span><span class="st">processing time&quot;</span></span>
<span id="cb86-27"><a href="stats_processing_time.html#cb86-27" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb86-28"><a href="stats_processing_time.html#cb86-28" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span> </span>
<span id="cb86-29"><a href="stats_processing_time.html#cb86-29" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb86-30"><a href="stats_processing_time.html#cb86-30" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb86-31"><a href="stats_processing_time.html#cb86-31" tabindex="-1"></a>    , <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb86-32"><a href="stats_processing_time.html#cb86-32" tabindex="-1"></a>    , <span class="at">panel.grid =</span> <span class="fu">element_blank</span>()</span>
<span id="cb86-33"><a href="stats_processing_time.html#cb86-33" tabindex="-1"></a>    , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb86-34"><a href="stats_processing_time.html#cb86-34" tabindex="-1"></a>    , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb86-35"><a href="stats_processing_time.html#cb86-35" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-45-1.png" width="1008" /></p>
</div>
<div id="id_3_pred_mod_bays" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Bayesian<a href="stats_processing_time.html#id_3_pred_mod_bays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> describes the Hierarchical Bayesian approach to describe groups of metric data with multiple nominal predictors when every subject (“study site” in our research) contributes many measurements to each cell versus situations when each subject only contributes one observation per cell/condition:</p>
<blockquote>
<p>When every subject contributes many measurements to every cell, then the model of the situation is a straight-forward extension of the models we have already considered. We merely add “subject” as another nominal predictor in the model, with each individual subject being a level of the predictor. If there is one predictor other than subject, the model becomes</p>
<p><span class="math display">\[ y = \beta_0 + \overrightarrow \beta_1 \overrightarrow x_1 + \overrightarrow \beta_S \overrightarrow x_S + \overrightarrow \beta_{1 \times S} \overrightarrow x_{1 \times S} \]</span></p>
<p>This is exactly the two-predictor model we have already considered, with the second predictor being subject. When there are two predictors other than subject, the model becomes</p>
<p><span class="math display">\[\begin{align*}
y = &amp; \; \beta_0 &amp; \text{baseline} \\
&amp; + \overrightarrow \beta_1 \overrightarrow x_1 + \overrightarrow \beta_2 \overrightarrow x_2 + \overrightarrow \beta_S \overrightarrow x_S  &amp; \text{main effects} \\
&amp; + \overrightarrow \beta_{1 \times 2} \overrightarrow x_{1 \times 2} + \overrightarrow \beta_{1 \times S} \overrightarrow x_{1 \times S} + \overrightarrow \beta_{2 \times S} \overrightarrow x_{2 \times S} &amp; \text{two-way interactions} \\
&amp; + \overrightarrow \beta_{1 \times 2 \times S} \overrightarrow x_{1 \times 2 \times S} &amp; \text{three-way interactions}
\end{align*}\]</span></p>
<p>This model includes all the two-way interactions of the factors, plus the three-way interaction. (p. 607)</p>
</blockquote>
<p>In situations in which subjects only contribute one observation per condition/cell, we simplify the model to</p>
<blockquote>
<p><span class="math display">\[\begin{align*}
y = &amp; \; \beta_0 \\
&amp; + \overrightarrow \beta_1 \overrightarrow x_1 + \overrightarrow \beta_2 \overrightarrow x_2 + \overrightarrow \beta_{1 \times 2} \overrightarrow x_{1 \times 2} \\
&amp; + \overrightarrow \beta_S \overrightarrow x_S
\end{align*}\]</span></p>
</blockquote>
<blockquote>
<p>In other words, we assume a main effect of subject, but no interaction of subject with other predictors. In this model, the subject effect (deflection) is constant across treatments, and the treatment effects (deflections) are constant across subjects. Notice that the model makes no requirement that every subject contributes a datum to every condition. Indeed, the model allows zero or multiple data per subject per condition. Bayesian estimation makes no assumptions or requirements that the design is balanced (i.e., has equal numbers of measurement in each cell). (p. 608)</p>
</blockquote>
<p>and see section 20 from <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-multiple-nominal-predictors.html">Kurz’s ebook supplement</a></p>
<p><em>for this model, we’ll define the priors following <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-multiple-nominal-predictors.html#implementation-in-jags-brms.-1">Kurz</a></em>:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="stats_processing_time.html#cb87-1" tabindex="-1"></a><span class="co"># from Kurz: </span></span>
<span id="cb87-2"><a href="stats_processing_time.html#cb87-2" tabindex="-1"></a>gamma_a_b_from_omega_sigma <span class="ot">&lt;-</span> <span class="cf">function</span>(mode, sd) {</span>
<span id="cb87-3"><a href="stats_processing_time.html#cb87-3" tabindex="-1"></a>  <span class="cf">if</span> (mode <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="st">&quot;mode must be &gt; 0&quot;</span>)</span>
<span id="cb87-4"><a href="stats_processing_time.html#cb87-4" tabindex="-1"></a>  <span class="cf">if</span> (sd   <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="st">&quot;sd must be &gt; 0&quot;</span>)</span>
<span id="cb87-5"><a href="stats_processing_time.html#cb87-5" tabindex="-1"></a>  rate <span class="ot">&lt;-</span> (mode <span class="sc">+</span> <span class="fu">sqrt</span>(mode<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> sd<span class="sc">^</span><span class="dv">2</span>)) <span class="sc">/</span> (<span class="dv">2</span> <span class="sc">*</span> sd<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb87-6"><a href="stats_processing_time.html#cb87-6" tabindex="-1"></a>  shape <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> mode <span class="sc">*</span> rate</span>
<span id="cb87-7"><a href="stats_processing_time.html#cb87-7" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">shape =</span> shape, <span class="at">rate =</span> rate))</span>
<span id="cb87-8"><a href="stats_processing_time.html#cb87-8" tabindex="-1"></a>}</span>
<span id="cb87-9"><a href="stats_processing_time.html#cb87-9" tabindex="-1"></a></span>
<span id="cb87-10"><a href="stats_processing_time.html#cb87-10" tabindex="-1"></a>mean_y_temp <span class="ot">&lt;-</span> <span class="fu">mean</span>(ptime_data<span class="sc">$</span>timer_total_time_mins)</span>
<span id="cb87-11"><a href="stats_processing_time.html#cb87-11" tabindex="-1"></a>sd_y_temp   <span class="ot">&lt;-</span> <span class="fu">sd</span>(ptime_data<span class="sc">$</span>timer_total_time_mins)</span>
<span id="cb87-12"><a href="stats_processing_time.html#cb87-12" tabindex="-1"></a></span>
<span id="cb87-13"><a href="stats_processing_time.html#cb87-13" tabindex="-1"></a>omega_temp <span class="ot">&lt;-</span> sd_y_temp <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb87-14"><a href="stats_processing_time.html#cb87-14" tabindex="-1"></a>sigma_temp <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> sd_y_temp</span>
<span id="cb87-15"><a href="stats_processing_time.html#cb87-15" tabindex="-1"></a></span>
<span id="cb87-16"><a href="stats_processing_time.html#cb87-16" tabindex="-1"></a>s_r_temp <span class="ot">&lt;-</span> <span class="fu">gamma_a_b_from_omega_sigma</span>(<span class="at">mode =</span> omega_temp, <span class="at">sd =</span> sigma_temp)</span>
<span id="cb87-17"><a href="stats_processing_time.html#cb87-17" tabindex="-1"></a></span>
<span id="cb87-18"><a href="stats_processing_time.html#cb87-18" tabindex="-1"></a>stanvars_temp <span class="ot">&lt;-</span> </span>
<span id="cb87-19"><a href="stats_processing_time.html#cb87-19" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(mean_y_temp,    <span class="at">name =</span> <span class="st">&quot;mean_y&quot;</span>) <span class="sc">+</span> </span>
<span id="cb87-20"><a href="stats_processing_time.html#cb87-20" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(sd_y_temp,      <span class="at">name =</span> <span class="st">&quot;sd_y&quot;</span>) <span class="sc">+</span></span>
<span id="cb87-21"><a href="stats_processing_time.html#cb87-21" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(s_r_temp<span class="sc">$</span>shape, <span class="at">name =</span> <span class="st">&quot;alpha&quot;</span>) <span class="sc">+</span></span>
<span id="cb87-22"><a href="stats_processing_time.html#cb87-22" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">stanvar</span>(s_r_temp<span class="sc">$</span>rate,  <span class="at">name =</span> <span class="st">&quot;beta&quot;</span>)</span></code></pre></div>
<p>Now fit the model.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="stats_processing_time.html#cb88-1" tabindex="-1"></a>brms3_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb88-2"><a href="stats_processing_time.html#cb88-2" tabindex="-1"></a>  <span class="at">formula =</span> timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb88-3"><a href="stats_processing_time.html#cb88-3" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb88-4"><a href="stats_processing_time.html#cb88-4" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb88-5"><a href="stats_processing_time.html#cb88-5" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode) <span class="sc">+</span></span>
<span id="cb88-6"><a href="stats_processing_time.html#cb88-6" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> study_site)</span>
<span id="cb88-7"><a href="stats_processing_time.html#cb88-7" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb88-8"><a href="stats_processing_time.html#cb88-8" tabindex="-1"></a>  , <span class="at">family =</span> brms<span class="sc">::</span><span class="fu">brmsfamily</span>(<span class="at">family =</span> <span class="st">&quot;gaussian&quot;</span>)</span>
<span id="cb88-9"><a href="stats_processing_time.html#cb88-9" tabindex="-1"></a>  , <span class="at">iter =</span> <span class="dv">4000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>, <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb88-10"><a href="stats_processing_time.html#cb88-10" tabindex="-1"></a>  , <span class="at">cores =</span> <span class="fu">round</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>()<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb88-11"><a href="stats_processing_time.html#cb88-11" tabindex="-1"></a>  , <span class="at">prior =</span> <span class="fu">c</span>(</span>
<span id="cb88-12"><a href="stats_processing_time.html#cb88-12" tabindex="-1"></a>    brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">normal</span>(mean_y, sd_y <span class="sc">*</span> <span class="dv">5</span>), <span class="at">class =</span> <span class="st">&quot;Intercept&quot;</span>)</span>
<span id="cb88-13"><a href="stats_processing_time.html#cb88-13" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">gamma</span>(alpha, beta), <span class="at">class =</span> <span class="st">&quot;sd&quot;</span>)</span>
<span id="cb88-14"><a href="stats_processing_time.html#cb88-14" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">prior</span>(<span class="fu">cauchy</span>(<span class="dv">0</span>, sd_y), <span class="at">class =</span> <span class="st">&quot;sigma&quot;</span>)</span>
<span id="cb88-15"><a href="stats_processing_time.html#cb88-15" tabindex="-1"></a>  )</span>
<span id="cb88-16"><a href="stats_processing_time.html#cb88-16" tabindex="-1"></a>  , <span class="at">stanvars =</span> stanvars_temp</span>
<span id="cb88-17"><a href="stats_processing_time.html#cb88-17" tabindex="-1"></a>  , <span class="at">file =</span> <span class="fu">paste0</span>(rootdir, <span class="st">&quot;/fits/brms3_mod&quot;</span>)</span>
<span id="cb88-18"><a href="stats_processing_time.html#cb88-18" tabindex="-1"></a>)</span></code></pre></div>
<p>check the trace plots for problems with convergence of the Markov chains</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="stats_processing_time.html#cb89-1" tabindex="-1"></a><span class="fu">plot</span>(brms3_mod)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-48-1.png" width="1008" /><img src="metashape_testing_files/figure-html/unnamed-chunk-48-2.png" width="1008" /></p>
<p>check the prior distributions</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="stats_processing_time.html#cb90-1" tabindex="-1"></a><span class="co"># check priors</span></span>
<span id="cb90-2"><a href="stats_processing_time.html#cb90-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">prior_summary</span>(brms3_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="stats_processing_time.html#cb90-3" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb90-4"><a href="stats_processing_time.html#cb90-4" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
prior
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
coef
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
resp
</th>
<th style="text-align:left;">
dpar
</th>
<th style="text-align:left;">
nlpar
</th>
<th style="text-align:left;">
lb
</th>
<th style="text-align:left;">
ub
</th>
<th style="text-align:left;">
source
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
normal(mean_y, sd_y * 5)
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
<tr>
<td style="text-align:left;">
gamma(alpha, beta)
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
study_site
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
study_site
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
cauchy(0, sd_y)
</td>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
user
</td>
</tr>
</tbody>
</table>
<p>The <code>brms::brm</code> model summary</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="stats_processing_time.html#cb91-1" tabindex="-1"></a>brms3_mod <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="stats_processing_time.html#cb91-2" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">posterior_summary</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb91-3"><a href="stats_processing_time.html#cb91-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb91-4"><a href="stats_processing_time.html#cb91-4" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;parameter&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-5"><a href="stats_processing_time.html#cb91-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span> </span>
<span id="cb91-6"><a href="stats_processing_time.html#cb91-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb91-7"><a href="stats_processing_time.html#cb91-7" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;b_&quot;</span>) </span>
<span id="cb91-8"><a href="stats_processing_time.html#cb91-8" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;r_&quot;</span>) </span>
<span id="cb91-9"><a href="stats_processing_time.html#cb91-9" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;sd_&quot;</span>) </span>
<span id="cb91-10"><a href="stats_processing_time.html#cb91-10" tabindex="-1"></a>    <span class="sc">|</span> parameter <span class="sc">==</span> <span class="st">&quot;sigma&quot;</span></span>
<span id="cb91-11"><a href="stats_processing_time.html#cb91-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb91-12"><a href="stats_processing_time.html#cb91-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb91-13"><a href="stats_processing_time.html#cb91-13" tabindex="-1"></a>    <span class="at">parameter =</span> parameter <span class="sc">%&gt;%</span> </span>
<span id="cb91-14"><a href="stats_processing_time.html#cb91-14" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-15"><a href="stats_processing_time.html#cb91-15" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>)</span>
<span id="cb91-16"><a href="stats_processing_time.html#cb91-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb91-17"><a href="stats_processing_time.html#cb91-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Bayesian two nominal predictors + study site effects for point cloud processing time&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-18"><a href="stats_processing_time.html#cb91-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb91-19"><a href="stats_processing_time.html#cb91-19" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-50">Table 4.16: </span>Bayesian two nominal predictors + study site effects for point cloud processing time
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
parameter
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
est.error
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q2.5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q97.5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
b_Intercept
</td>
<td style="text-align:right;">
22.32
</td>
<td style="text-align:right;">
22.53
</td>
<td style="text-align:right;">
-23.77
</td>
<td style="text-align:right;">
67.69
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_filtering__Intercept
</td>
<td style="text-align:right;">
9.26
</td>
<td style="text-align:right;">
8.88
</td>
<td style="text-align:right;">
0.71
</td>
<td style="text-align:right;">
33.16
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality__Intercept
</td>
<td style="text-align:right;">
44.93
</td>
<td style="text-align:right;">
19.97
</td>
<td style="text-align:right;">
21.31
</td>
<td style="text-align:right;">
97.68
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality:filtering__Intercept
</td>
<td style="text-align:right;">
9.04
</td>
<td style="text-align:right;">
2.42
</td>
<td style="text-align:right;">
5.22
</td>
<td style="text-align:right;">
14.65
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_study_site__Intercept
</td>
<td style="text-align:right;">
6.09
</td>
<td style="text-align:right;">
4.47
</td>
<td style="text-align:right;">
1.67
</td>
<td style="text-align:right;">
17.50
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma
</td>
<td style="text-align:right;">
9.32
</td>
<td style="text-align:right;">
0.77
</td>
<td style="text-align:right;">
7.95
</td>
<td style="text-align:right;">
11.01
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[aggressive,Intercept]
</td>
<td style="text-align:right;">
-4.29
</td>
<td style="text-align:right;">
6.86
</td>
<td style="text-align:right;">
-19.55
</td>
<td style="text-align:right;">
7.94
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[moderate,Intercept]
</td>
<td style="text-align:right;">
-0.30
</td>
<td style="text-align:right;">
6.55
</td>
<td style="text-align:right;">
-13.86
</td>
<td style="text-align:right;">
13.28
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[mild,Intercept]
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
6.56
</td>
<td style="text-align:right;">
-12.14
</td>
<td style="text-align:right;">
14.80
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[disabled,Intercept]
</td>
<td style="text-align:right;">
4.39
</td>
<td style="text-align:right;">
6.88
</td>
<td style="text-align:right;">
-6.86
</td>
<td style="text-align:right;">
19.95
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[ultra.high,Intercept]
</td>
<td style="text-align:right;">
59.88
</td>
<td style="text-align:right;">
21.87
</td>
<td style="text-align:right;">
16.82
</td>
<td style="text-align:right;">
105.55
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[high,Intercept]
</td>
<td style="text-align:right;">
-2.00
</td>
<td style="text-align:right;">
21.92
</td>
<td style="text-align:right;">
-45.98
</td>
<td style="text-align:right;">
43.30
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[medium,Intercept]
</td>
<td style="text-align:right;">
-15.36
</td>
<td style="text-align:right;">
21.92
</td>
<td style="text-align:right;">
-59.34
</td>
<td style="text-align:right;">
28.81
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[low,Intercept]
</td>
<td style="text-align:right;">
-19.83
</td>
<td style="text-align:right;">
22.09
</td>
<td style="text-align:right;">
-64.57
</td>
<td style="text-align:right;">
25.85
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[lowest,Intercept]
</td>
<td style="text-align:right;">
-20.87
</td>
<td style="text-align:right;">
22.01
</td>
<td style="text-align:right;">
-65.27
</td>
<td style="text-align:right;">
23.19
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-1.69
</td>
<td style="text-align:right;">
6.38
</td>
<td style="text-align:right;">
-14.52
</td>
<td style="text-align:right;">
10.70
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_disabled,Intercept]
</td>
<td style="text-align:right;">
2.33
</td>
<td style="text-align:right;">
6.35
</td>
<td style="text-align:right;">
-10.03
</td>
<td style="text-align:right;">
15.09
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_mild,Intercept]
</td>
<td style="text-align:right;">
-0.08
</td>
<td style="text-align:right;">
6.19
</td>
<td style="text-align:right;">
-12.18
</td>
<td style="text-align:right;">
12.18
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_moderate,Intercept]
</td>
<td style="text-align:right;">
-1.09
</td>
<td style="text-align:right;">
6.07
</td>
<td style="text-align:right;">
-13.09
</td>
<td style="text-align:right;">
11.02
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_aggressive,Intercept]
</td>
<td style="text-align:right;">
3.06
</td>
<td style="text-align:right;">
6.43
</td>
<td style="text-align:right;">
-9.41
</td>
<td style="text-align:right;">
15.83
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_disabled,Intercept]
</td>
<td style="text-align:right;">
-3.52
</td>
<td style="text-align:right;">
6.37
</td>
<td style="text-align:right;">
-16.45
</td>
<td style="text-align:right;">
8.99
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_mild,Intercept]
</td>
<td style="text-align:right;">
-0.69
</td>
<td style="text-align:right;">
6.05
</td>
<td style="text-align:right;">
-12.66
</td>
<td style="text-align:right;">
11.57
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.09
</td>
<td style="text-align:right;">
6.23
</td>
<td style="text-align:right;">
-12.69
</td>
<td style="text-align:right;">
12.34
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_aggressive,Intercept]
</td>
<td style="text-align:right;">
3.03
</td>
<td style="text-align:right;">
6.48
</td>
<td style="text-align:right;">
-9.99
</td>
<td style="text-align:right;">
15.88
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_disabled,Intercept]
</td>
<td style="text-align:right;">
-3.74
</td>
<td style="text-align:right;">
6.44
</td>
<td style="text-align:right;">
-16.55
</td>
<td style="text-align:right;">
8.76
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_mild,Intercept]
</td>
<td style="text-align:right;">
-0.74
</td>
<td style="text-align:right;">
6.34
</td>
<td style="text-align:right;">
-13.51
</td>
<td style="text-align:right;">
11.56
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.11
</td>
<td style="text-align:right;">
6.30
</td>
<td style="text-align:right;">
-12.83
</td>
<td style="text-align:right;">
12.61
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_aggressive,Intercept]
</td>
<td style="text-align:right;">
2.39
</td>
<td style="text-align:right;">
6.48
</td>
<td style="text-align:right;">
-10.44
</td>
<td style="text-align:right;">
15.13
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_disabled,Intercept]
</td>
<td style="text-align:right;">
-2.33
</td>
<td style="text-align:right;">
6.49
</td>
<td style="text-align:right;">
-15.04
</td>
<td style="text-align:right;">
10.73
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_mild,Intercept]
</td>
<td style="text-align:right;">
-0.72
</td>
<td style="text-align:right;">
6.26
</td>
<td style="text-align:right;">
-13.26
</td>
<td style="text-align:right;">
11.59
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.27
</td>
<td style="text-align:right;">
6.28
</td>
<td style="text-align:right;">
-12.89
</td>
<td style="text-align:right;">
12.39
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-17.33
</td>
<td style="text-align:right;">
6.73
</td>
<td style="text-align:right;">
-30.77
</td>
<td style="text-align:right;">
-4.71
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_disabled,Intercept]
</td>
<td style="text-align:right;">
17.58
</td>
<td style="text-align:right;">
6.98
</td>
<td style="text-align:right;">
4.84
</td>
<td style="text-align:right;">
32.18
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_mild,Intercept]
</td>
<td style="text-align:right;">
3.41
</td>
<td style="text-align:right;">
6.41
</td>
<td style="text-align:right;">
-8.76
</td>
<td style="text-align:right;">
16.85
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_moderate,Intercept]
</td>
<td style="text-align:right;">
0.44
</td>
<td style="text-align:right;">
6.24
</td>
<td style="text-align:right;">
-11.81
</td>
<td style="text-align:right;">
13.09
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[KAIBAB_HIGH,Intercept]
</td>
<td style="text-align:right;">
-1.93
</td>
<td style="text-align:right;">
3.67
</td>
<td style="text-align:right;">
-9.41
</td>
<td style="text-align:right;">
5.02
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[KAIBAB_LOW,Intercept]
</td>
<td style="text-align:right;">
-5.14
</td>
<td style="text-align:right;">
3.82
</td>
<td style="text-align:right;">
-13.38
</td>
<td style="text-align:right;">
1.60
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[N1,Intercept]
</td>
<td style="text-align:right;">
2.18
</td>
<td style="text-align:right;">
3.76
</td>
<td style="text-align:right;">
-4.89
</td>
<td style="text-align:right;">
10.04
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[SQ09_02,Intercept]
</td>
<td style="text-align:right;">
2.35
</td>
<td style="text-align:right;">
3.68
</td>
<td style="text-align:right;">
-4.57
</td>
<td style="text-align:right;">
10.03
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[WA85_02,Intercept]
</td>
<td style="text-align:right;">
2.46
</td>
<td style="text-align:right;">
3.72
</td>
<td style="text-align:right;">
-4.60
</td>
<td style="text-align:right;">
10.47
</td>
</tr>
</tbody>
</table>
</div>
<p>We can look at the model noise standard deviation <span class="math inline">\(\sigma_y\)</span></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="stats_processing_time.html#cb92-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb92-2"><a href="stats_processing_time.html#cb92-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms3_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb92-3"><a href="stats_processing_time.html#cb92-3" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb92-4"><a href="stats_processing_time.html#cb92-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> sigma, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb92-5"><a href="stats_processing_time.html#cb92-5" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb92-6"><a href="stats_processing_time.html#cb92-6" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb92-7"><a href="stats_processing_time.html#cb92-7" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb92-8"><a href="stats_processing_time.html#cb92-8" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_size =</span> <span class="dv">3</span></span>
<span id="cb92-9"><a href="stats_processing_time.html#cb92-9" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb92-10"><a href="stats_processing_time.html#cb92-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb92-11"><a href="stats_processing_time.html#cb92-11" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb92-12"><a href="stats_processing_time.html#cb92-12" tabindex="-1"></a>  <span class="fu">xlab</span>(latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">sigma_y$&quot;</span>)) <span class="sc">+</span></span>
<span id="cb92-13"><a href="stats_processing_time.html#cb92-13" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-51-1.png" width="1008" /></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="stats_processing_time.html#cb93-1" tabindex="-1"></a><span class="co"># how is it compared to our other models?</span></span>
<span id="cb93-2"><a href="stats_processing_time.html#cb93-2" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb93-3"><a href="stats_processing_time.html#cb93-3" tabindex="-1"></a>    brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms1_mod) <span class="sc">%&gt;%</span> tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(sigma) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">&quot;one nominal predictor&quot;</span>)</span>
<span id="cb93-4"><a href="stats_processing_time.html#cb93-4" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms2_mod) <span class="sc">%&gt;%</span> tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(sigma) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb93-5"><a href="stats_processing_time.html#cb93-5" tabindex="-1"></a>    , brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms3_mod) <span class="sc">%&gt;%</span> tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(sigma) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">&quot;two nominal predictor + site effect&quot;</span>)</span>
<span id="cb93-6"><a href="stats_processing_time.html#cb93-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb93-7"><a href="stats_processing_time.html#cb93-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(model) <span class="sc">%&gt;%</span> </span>
<span id="cb93-8"><a href="stats_processing_time.html#cb93-8" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;brms::brm model noise standard deviation comparison&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-9"><a href="stats_processing_time.html#cb93-9" tabindex="-1"></a>    kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-51">Table 4.17: </span>brms::brm model noise standard deviation comparison
</caption>
<thead>
<tr>
<th style="text-align:left;">
model
</th>
<th style="text-align:right;">
sigma
</th>
<th style="text-align:right;">
.lower
</th>
<th style="text-align:right;">
.upper
</th>
<th style="text-align:right;">
.width
</th>
<th style="text-align:left;">
.point
</th>
<th style="text-align:left;">
.interval
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
one nominal predictor
</td>
<td style="text-align:right;">
12.60
</td>
<td style="text-align:right;">
10.89
</td>
<td style="text-align:right;">
14.50
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
hdi
</td>
</tr>
<tr>
<td style="text-align:left;">
two nominal predictor
</td>
<td style="text-align:right;">
9.98
</td>
<td style="text-align:right;">
8.45
</td>
<td style="text-align:right;">
11.64
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
hdi
</td>
</tr>
<tr>
<td style="text-align:left;">
two nominal predictor + site effect
</td>
<td style="text-align:right;">
9.27
</td>
<td style="text-align:right;">
7.81
</td>
<td style="text-align:right;">
10.82
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
hdi
</td>
</tr>
</tbody>
</table>
<p>plot the posterior distributions of the conditional means with the median processing time and the 95% highest posterior density interval (HDI)</p>
<p>Note that how within <code>tidybayes::add_epred_draws</code>, we used the <code>re_formula</code> argument to average over the random effects of <code>study_site</code> (i.e., we left <code>(1 | study_site)</code> out of the formula). For this model we have to collapse across the study site effects to compare the depth map quality and filtering mode setting effects.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="stats_processing_time.html#cb94-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb94-2"><a href="stats_processing_time.html#cb94-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb94-3"><a href="stats_processing_time.html#cb94-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb94-4"><a href="stats_processing_time.html#cb94-4" tabindex="-1"></a>    brms3_mod, <span class="at">allow_new_levels =</span> T</span>
<span id="cb94-5"><a href="stats_processing_time.html#cb94-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb94-6"><a href="stats_processing_time.html#cb94-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb94-7"><a href="stats_processing_time.html#cb94-7" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb94-8"><a href="stats_processing_time.html#cb94-8" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode)</span>
<span id="cb94-9"><a href="stats_processing_time.html#cb94-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb94-10"><a href="stats_processing_time.html#cb94-10" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb94-11"><a href="stats_processing_time.html#cb94-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">depth_maps_generation_quality =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb94-12"><a href="stats_processing_time.html#cb94-12" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb94-13"><a href="stats_processing_time.html#cb94-13" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb94-14"><a href="stats_processing_time.html#cb94-14" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb94-15"><a href="stats_processing_time.html#cb94-15" tabindex="-1"></a>      <span class="at">y =</span> value, <span class="at">x =</span> depth_maps_generation_filtering_mode</span>
<span id="cb94-16"><a href="stats_processing_time.html#cb94-16" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb94-17"><a href="stats_processing_time.html#cb94-17" tabindex="-1"></a>    )</span>
<span id="cb94-18"><a href="stats_processing_time.html#cb94-18" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb94-19"><a href="stats_processing_time.html#cb94-19" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_eye</span>(</span>
<span id="cb94-20"><a href="stats_processing_time.html#cb94-20" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb94-21"><a href="stats_processing_time.html#cb94-21" tabindex="-1"></a>      , <span class="at">slab_alpha =</span> <span class="fl">0.8</span></span>
<span id="cb94-22"><a href="stats_processing_time.html#cb94-22" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb94-23"><a href="stats_processing_time.html#cb94-23" tabindex="-1"></a>      , <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_size =</span> <span class="dv">1</span></span>
<span id="cb94-24"><a href="stats_processing_time.html#cb94-24" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb94-25"><a href="stats_processing_time.html#cb94-25" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb94-26"><a href="stats_processing_time.html#cb94-26" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb94-27"><a href="stats_processing_time.html#cb94-27" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_quality)) <span class="sc">+</span></span>
<span id="cb94-28"><a href="stats_processing_time.html#cb94-28" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb94-29"><a href="stats_processing_time.html#cb94-29" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">y =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb94-30"><a href="stats_processing_time.html#cb94-30" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb94-31"><a href="stats_processing_time.html#cb94-31" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Filtering Mode&quot;</span></span>
<span id="cb94-32"><a href="stats_processing_time.html#cb94-32" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb94-33"><a href="stats_processing_time.html#cb94-33" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb94-34"><a href="stats_processing_time.html#cb94-34" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb94-35"><a href="stats_processing_time.html#cb94-35" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb94-36"><a href="stats_processing_time.html#cb94-36" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb94-37"><a href="stats_processing_time.html#cb94-37" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb94-38"><a href="stats_processing_time.html#cb94-38" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb94-39"><a href="stats_processing_time.html#cb94-39" tabindex="-1"></a>    ) </span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-52-1.png" width="1008" /></p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="stats_processing_time.html#cb95-1" tabindex="-1"></a>    <span class="co"># guides(</span></span>
<span id="cb95-2"><a href="stats_processing_time.html#cb95-2" tabindex="-1"></a>    <span class="co">#   fill = guide_legend(reverse = T, override.aes = list(alpha = 1, color = NA, shape = NA, lwd = NA))</span></span>
<span id="cb95-3"><a href="stats_processing_time.html#cb95-3" tabindex="-1"></a>    <span class="co"># )</span></span></code></pre></div>
<p>we can also make pairwise comparisons so long as we continue using <code>tidybayes::add_epred_draws</code> with the <code>re_formula</code> argument</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="stats_processing_time.html#cb96-1" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span></span>
<span id="cb96-2"><a href="stats_processing_time.html#cb96-2" tabindex="-1"></a>  ptime_data <span class="sc">%&gt;%</span></span>
<span id="cb96-3"><a href="stats_processing_time.html#cb96-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb96-4"><a href="stats_processing_time.html#cb96-4" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb96-5"><a href="stats_processing_time.html#cb96-5" tabindex="-1"></a>      brms3_mod, <span class="at">allow_new_levels =</span> T</span>
<span id="cb96-6"><a href="stats_processing_time.html#cb96-6" tabindex="-1"></a>      <span class="co"># this part is crucial</span></span>
<span id="cb96-7"><a href="stats_processing_time.html#cb96-7" tabindex="-1"></a>      , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb96-8"><a href="stats_processing_time.html#cb96-8" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb96-9"><a href="stats_processing_time.html#cb96-9" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode)</span>
<span id="cb96-10"><a href="stats_processing_time.html#cb96-10" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-11"><a href="stats_processing_time.html#cb96-11" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb96-12"><a href="stats_processing_time.html#cb96-12" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">compare_levels</span>(</span>
<span id="cb96-13"><a href="stats_processing_time.html#cb96-13" tabindex="-1"></a>      value</span>
<span id="cb96-14"><a href="stats_processing_time.html#cb96-14" tabindex="-1"></a>      , <span class="at">by =</span> depth_maps_generation_quality</span>
<span id="cb96-15"><a href="stats_processing_time.html#cb96-15" tabindex="-1"></a>      , <span class="at">comparison =</span> </span>
<span id="cb96-16"><a href="stats_processing_time.html#cb96-16" tabindex="-1"></a>        contrast_list</span>
<span id="cb96-17"><a href="stats_processing_time.html#cb96-17" tabindex="-1"></a>        <span class="co"># tidybayes::emmeans_comparison(&quot;revpairwise&quot;) </span></span>
<span id="cb96-18"><a href="stats_processing_time.html#cb96-18" tabindex="-1"></a>        <span class="co">#&quot;pairwise&quot;</span></span>
<span id="cb96-19"><a href="stats_processing_time.html#cb96-19" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-20"><a href="stats_processing_time.html#cb96-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">contrast =</span> depth_maps_generation_quality)</span>
<span id="cb96-21"><a href="stats_processing_time.html#cb96-21" tabindex="-1"></a></span>
<span id="cb96-22"><a href="stats_processing_time.html#cb96-22" tabindex="-1"></a><span class="co"># separate contrast</span></span>
<span id="cb96-23"><a href="stats_processing_time.html#cb96-23" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span> brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb96-24"><a href="stats_processing_time.html#cb96-24" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb96-25"><a href="stats_processing_time.html#cb96-25" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(</span>
<span id="cb96-26"><a href="stats_processing_time.html#cb96-26" tabindex="-1"></a>    <span class="at">cols =</span> contrast</span>
<span id="cb96-27"><a href="stats_processing_time.html#cb96-27" tabindex="-1"></a>    , <span class="at">delim =</span> <span class="st">&quot; - &quot;</span></span>
<span id="cb96-28"><a href="stats_processing_time.html#cb96-28" tabindex="-1"></a>    , <span class="at">names =</span> <span class="fu">paste0</span>(</span>
<span id="cb96-29"><a href="stats_processing_time.html#cb96-29" tabindex="-1"></a>        <span class="st">&quot;sorter&quot;</span></span>
<span id="cb96-30"><a href="stats_processing_time.html#cb96-30" tabindex="-1"></a>        , <span class="dv">1</span><span class="sc">:</span>(<span class="fu">max</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(brms_contrast_temp<span class="sc">$</span>contrast, <span class="st">&quot;-&quot;</span>))<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb96-31"><a href="stats_processing_time.html#cb96-31" tabindex="-1"></a>      )</span>
<span id="cb96-32"><a href="stats_processing_time.html#cb96-32" tabindex="-1"></a>    , <span class="at">too_few =</span> <span class="st">&quot;align_start&quot;</span></span>
<span id="cb96-33"><a href="stats_processing_time.html#cb96-33" tabindex="-1"></a>    , <span class="at">cols_remove =</span> F</span>
<span id="cb96-34"><a href="stats_processing_time.html#cb96-34" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-35"><a href="stats_processing_time.html#cb96-35" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(sorter1<span class="sc">!=</span>sorter2) <span class="sc">%&gt;%</span> </span>
<span id="cb96-36"><a href="stats_processing_time.html#cb96-36" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb96-37"><a href="stats_processing_time.html#cb96-37" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb96-38"><a href="stats_processing_time.html#cb96-38" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sorter&quot;</span>)</span>
<span id="cb96-39"><a href="stats_processing_time.html#cb96-39" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="cf">function</span>(x){<span class="fu">factor</span>(</span>
<span id="cb96-40"><a href="stats_processing_time.html#cb96-40" tabindex="-1"></a>        x, <span class="at">ordered =</span> T</span>
<span id="cb96-41"><a href="stats_processing_time.html#cb96-41" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb96-42"><a href="stats_processing_time.html#cb96-42" tabindex="-1"></a>      )}</span>
<span id="cb96-43"><a href="stats_processing_time.html#cb96-43" tabindex="-1"></a>    )</span>
<span id="cb96-44"><a href="stats_processing_time.html#cb96-44" tabindex="-1"></a>    , <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> </span>
<span id="cb96-45"><a href="stats_processing_time.html#cb96-45" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(</span>
<span id="cb96-46"><a href="stats_processing_time.html#cb96-46" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(sorter1), <span class="fu">as.numeric</span>(sorter2)) <span class="sc">%&gt;%</span> </span>
<span id="cb96-47"><a href="stats_processing_time.html#cb96-47" tabindex="-1"></a>        <span class="fu">as.numeric</span>()</span>
<span id="cb96-48"><a href="stats_processing_time.html#cb96-48" tabindex="-1"></a>      )</span>
<span id="cb96-49"><a href="stats_processing_time.html#cb96-49" tabindex="-1"></a>    , <span class="at">depth_maps_generation_filtering_mode =</span> depth_maps_generation_filtering_mode <span class="sc">%&gt;%</span> </span>
<span id="cb96-50"><a href="stats_processing_time.html#cb96-50" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb96-51"><a href="stats_processing_time.html#cb96-51" tabindex="-1"></a>        <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_filtering_mode)</span>
<span id="cb96-52"><a href="stats_processing_time.html#cb96-52" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb96-53"><a href="stats_processing_time.html#cb96-53" tabindex="-1"></a>      )</span>
<span id="cb96-54"><a href="stats_processing_time.html#cb96-54" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-55"><a href="stats_processing_time.html#cb96-55" tabindex="-1"></a>  <span class="co"># median_hdi summary for coloring </span></span>
<span id="cb96-56"><a href="stats_processing_time.html#cb96-56" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb96-57"><a href="stats_processing_time.html#cb96-57" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb96-58"><a href="stats_processing_time.html#cb96-58" tabindex="-1"></a>    <span class="at">is_gt_zero =</span> value <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb96-59"><a href="stats_processing_time.html#cb96-59" tabindex="-1"></a>    , <span class="at">pct_gt_zero =</span> <span class="fu">sum</span>(is_gt_zero)<span class="sc">/</span>dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb96-60"><a href="stats_processing_time.html#cb96-60" tabindex="-1"></a>    , <span class="at">sig_level2 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb96-61"><a href="stats_processing_time.html#cb96-61" tabindex="-1"></a>      pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.99</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb96-62"><a href="stats_processing_time.html#cb96-62" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.95</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb96-63"><a href="stats_processing_time.html#cb96-63" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.9</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb96-64"><a href="stats_processing_time.html#cb96-64" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb96-65"><a href="stats_processing_time.html#cb96-65" tabindex="-1"></a>      , T <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb96-66"><a href="stats_processing_time.html#cb96-66" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb96-67"><a href="stats_processing_time.html#cb96-67" tabindex="-1"></a>    <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&gt;99%&quot;</span>,<span class="st">&quot;95%&quot;</span>,<span class="st">&quot;90%&quot;</span>,<span class="st">&quot;80%&quot;</span>,<span class="st">&quot;&lt;80%&quot;</span>), <span class="at">ordered =</span> T)</span>
<span id="cb96-68"><a href="stats_processing_time.html#cb96-68" tabindex="-1"></a>  )</span>
<span id="cb96-69"><a href="stats_processing_time.html#cb96-69" tabindex="-1"></a></span>
<span id="cb96-70"><a href="stats_processing_time.html#cb96-70" tabindex="-1"></a><span class="co"># what?</span></span>
<span id="cb96-71"><a href="stats_processing_time.html#cb96-71" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 320,000
## Columns: 11
## Groups: contrast, depth_maps_generation_filtering_mode [40]
## $ depth_maps_generation_filtering_mode &lt;ord&gt; aggressive, aggressive, aggressiv…
## $ .chain                               &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .iteration                           &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .draw                                &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
## $ sorter1                              &lt;ord&gt; ultra high, ultra high, ultra hig…
## $ sorter2                              &lt;ord&gt; high, high, high, high, high, hig…
## $ contrast                             &lt;fct&gt; ultra high - high, ultra high - h…
## $ value                                &lt;dbl&gt; 56.16488, 38.73338, 50.98472, 48.…
## $ is_gt_zero                           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRU…
## $ pct_gt_zero                          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ sig_level2                           &lt;ord&gt; &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99…</code></pre>
<p>plot it</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="stats_processing_time.html#cb98-1" tabindex="-1"></a><span class="co"># plot it</span></span>
<span id="cb98-2"><a href="stats_processing_time.html#cb98-2" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb98-3"><a href="stats_processing_time.html#cb98-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb98-4"><a href="stats_processing_time.html#cb98-4" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb98-5"><a href="stats_processing_time.html#cb98-5" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> contrast</span>
<span id="cb98-6"><a href="stats_processing_time.html#cb98-6" tabindex="-1"></a>      , <span class="at">fill =</span> sig_level2 <span class="co"># pct_gt_zero</span></span>
<span id="cb98-7"><a href="stats_processing_time.html#cb98-7" tabindex="-1"></a>      <span class="co"># , fill = depth_maps_generation_filtering_mode</span></span>
<span id="cb98-8"><a href="stats_processing_time.html#cb98-8" tabindex="-1"></a>    )</span>
<span id="cb98-9"><a href="stats_processing_time.html#cb98-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb98-10"><a href="stats_processing_time.html#cb98-10" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb98-11"><a href="stats_processing_time.html#cb98-11" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.95</span>)</span>
<span id="cb98-12"><a href="stats_processing_time.html#cb98-12" tabindex="-1"></a>      <span class="co"># , slab_fill = &quot;gray22&quot;, slab_alpha = 1</span></span>
<span id="cb98-13"><a href="stats_processing_time.html#cb98-13" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb98-14"><a href="stats_processing_time.html#cb98-14" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb98-15"><a href="stats_processing_time.html#cb98-15" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb98-16"><a href="stats_processing_time.html#cb98-16" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb98-17"><a href="stats_processing_time.html#cb98-17" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb98-18"><a href="stats_processing_time.html#cb98-18" tabindex="-1"></a>      <span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span></span>
<span id="cb98-19"><a href="stats_processing_time.html#cb98-19" tabindex="-1"></a>      , <span class="at">drop =</span> F</span>
<span id="cb98-20"><a href="stats_processing_time.html#cb98-20" tabindex="-1"></a>      <span class="co"># , labels = scales::percent</span></span>
<span id="cb98-21"><a href="stats_processing_time.html#cb98-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb98-22"><a href="stats_processing_time.html#cb98-22" tabindex="-1"></a>    <span class="co"># scale_fill_viridis_c(</span></span>
<span id="cb98-23"><a href="stats_processing_time.html#cb98-23" tabindex="-1"></a>    <span class="co">#   option = &quot;mako&quot;, begin = 0.3, direction = -1</span></span>
<span id="cb98-24"><a href="stats_processing_time.html#cb98-24" tabindex="-1"></a>    <span class="co">#   , labels = scales::percent</span></span>
<span id="cb98-25"><a href="stats_processing_time.html#cb98-25" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb98-26"><a href="stats_processing_time.html#cb98-26" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb98-27"><a href="stats_processing_time.html#cb98-27" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode)) <span class="sc">+</span></span>
<span id="cb98-28"><a href="stats_processing_time.html#cb98-28" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb98-29"><a href="stats_processing_time.html#cb98-29" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb98-30"><a href="stats_processing_time.html#cb98-30" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb98-31"><a href="stats_processing_time.html#cb98-31" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;95% &amp; 50% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb98-32"><a href="stats_processing_time.html#cb98-32" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Pr(contrast &gt; 0)&quot;</span></span>
<span id="cb98-33"><a href="stats_processing_time.html#cb98-33" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb98-34"><a href="stats_processing_time.html#cb98-34" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb98-35"><a href="stats_processing_time.html#cb98-35" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb98-36"><a href="stats_processing_time.html#cb98-36" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb98-37"><a href="stats_processing_time.html#cb98-37" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb98-38"><a href="stats_processing_time.html#cb98-38" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb98-39"><a href="stats_processing_time.html#cb98-39" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb98-40"><a href="stats_processing_time.html#cb98-40" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb98-41"><a href="stats_processing_time.html#cb98-41" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="cn">NA</span>, <span class="at">shape =</span> <span class="cn">NA</span>, <span class="at">lwd =</span> <span class="cn">NA</span>))</span>
<span id="cb98-42"><a href="stats_processing_time.html#cb98-42" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-54-1.png" width="1008" /></p>
<p>and summarize these contrasts</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="stats_processing_time.html#cb99-1" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a href="stats_processing_time.html#cb99-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb99-3"><a href="stats_processing_time.html#cb99-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb99-4"><a href="stats_processing_time.html#cb99-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb99-5"><a href="stats_processing_time.html#cb99-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, depth_maps_generation_filtering_mode, value, .lower, .upper) <span class="sc">%&gt;%</span> </span>
<span id="cb99-6"><a href="stats_processing_time.html#cb99-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb99-7"><a href="stats_processing_time.html#cb99-7" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb99-8"><a href="stats_processing_time.html#cb99-8" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb99-9"><a href="stats_processing_time.html#cb99-9" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb99-10"><a href="stats_processing_time.html#cb99-10" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb99-11"><a href="stats_processing_time.html#cb99-11" tabindex="-1"></a>      <span class="st">&quot;quality contrast&quot;</span></span>
<span id="cb99-12"><a href="stats_processing_time.html#cb99-12" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb99-13"><a href="stats_processing_time.html#cb99-13" tabindex="-1"></a>      , <span class="st">&quot;difference (mins.)&quot;</span></span>
<span id="cb99-14"><a href="stats_processing_time.html#cb99-14" tabindex="-1"></a>      , <span class="st">&quot;conf.low&quot;</span>, <span class="st">&quot;conf.high&quot;</span></span>
<span id="cb99-15"><a href="stats_processing_time.html#cb99-15" tabindex="-1"></a>    )</span>
<span id="cb99-16"><a href="stats_processing_time.html#cb99-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb99-17"><a href="stats_processing_time.html#cb99-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb99-18"><a href="stats_processing_time.html#cb99-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-55">Table 4.18: </span>brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
quality contrast
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
difference (mins.)
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.low
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.high
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
46.3
</td>
<td style="text-align:right;">
34.6
</td>
<td style="text-align:right;">
57.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
63.4
</td>
<td style="text-align:right;">
52.6
</td>
<td style="text-align:right;">
74.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
65.4
</td>
<td style="text-align:right;">
54.5
</td>
<td style="text-align:right;">
76.2
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
77.1
</td>
<td style="text-align:right;">
66.1
</td>
<td style="text-align:right;">
88.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
55.5
</td>
<td style="text-align:right;">
43.5
</td>
<td style="text-align:right;">
66.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
75.9
</td>
<td style="text-align:right;">
64.8
</td>
<td style="text-align:right;">
86.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
79.4
</td>
<td style="text-align:right;">
69.1
</td>
<td style="text-align:right;">
90.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
95.2
</td>
<td style="text-align:right;">
83.8
</td>
<td style="text-align:right;">
106.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
59.3
</td>
<td style="text-align:right;">
48.0
</td>
<td style="text-align:right;">
71.1
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
80.2
</td>
<td style="text-align:right;">
69.8
</td>
<td style="text-align:right;">
90.8
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
83.8
</td>
<td style="text-align:right;">
73.4
</td>
<td style="text-align:right;">
94.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
100.9
</td>
<td style="text-align:right;">
89.2
</td>
<td style="text-align:right;">
112.8
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
60.4
</td>
<td style="text-align:right;">
48.6
</td>
<td style="text-align:right;">
72.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
81.3
</td>
<td style="text-align:right;">
70.5
</td>
<td style="text-align:right;">
92.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
84.9
</td>
<td style="text-align:right;">
73.9
</td>
<td style="text-align:right;">
95.4
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
102.0
</td>
<td style="text-align:right;">
90.5
</td>
<td style="text-align:right;">
113.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
9.3
</td>
<td style="text-align:right;">
-1.8
</td>
<td style="text-align:right;">
19.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
12.6
</td>
<td style="text-align:right;">
1.9
</td>
<td style="text-align:right;">
23.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
14.1
</td>
<td style="text-align:right;">
2.9
</td>
<td style="text-align:right;">
24.3
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
7.5
</td>
<td style="text-align:right;">
28.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
13.1
</td>
<td style="text-align:right;">
3.0
</td>
<td style="text-align:right;">
24.3
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
16.9
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
28.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
18.4
</td>
<td style="text-align:right;">
7.7
</td>
<td style="text-align:right;">
29.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
23.7
</td>
<td style="text-align:right;">
13.0
</td>
<td style="text-align:right;">
34.5
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
14.2
</td>
<td style="text-align:right;">
3.3
</td>
<td style="text-align:right;">
24.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
17.9
</td>
<td style="text-align:right;">
7.3
</td>
<td style="text-align:right;">
28.6
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
19.5
</td>
<td style="text-align:right;">
9.0
</td>
<td style="text-align:right;">
30.6
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
25.0
</td>
<td style="text-align:right;">
14.2
</td>
<td style="text-align:right;">
35.9
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
-6.8
</td>
<td style="text-align:right;">
14.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
-6.3
</td>
<td style="text-align:right;">
15.4
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
4.4
</td>
<td style="text-align:right;">
-6.2
</td>
<td style="text-align:right;">
15.0
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
-5.6
</td>
<td style="text-align:right;">
15.7
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
4.9
</td>
<td style="text-align:right;">
-5.9
</td>
<td style="text-align:right;">
15.4
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
-4.9
</td>
<td style="text-align:right;">
16.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
-5.7
</td>
<td style="text-align:right;">
15.9
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
6.9
</td>
<td style="text-align:right;">
-3.8
</td>
<td style="text-align:right;">
17.5
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-10.2
</td>
<td style="text-align:right;">
11.1
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
-9.5
</td>
<td style="text-align:right;">
12.1
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-9.1
</td>
<td style="text-align:right;">
12.1
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
-9.4
</td>
<td style="text-align:right;">
11.8
</td>
</tr>
</tbody>
</table>
</div>
<p>let’s collapse across the filtering mode and study site to compare the depth map quality setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="stats_processing_time.html#cb100-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb100-2"><a href="stats_processing_time.html#cb100-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb100-3"><a href="stats_processing_time.html#cb100-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb100-4"><a href="stats_processing_time.html#cb100-4" tabindex="-1"></a>    brms3_mod</span>
<span id="cb100-5"><a href="stats_processing_time.html#cb100-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb100-6"><a href="stats_processing_time.html#cb100-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb100-7"><a href="stats_processing_time.html#cb100-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb100-8"><a href="stats_processing_time.html#cb100-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb100-9"><a href="stats_processing_time.html#cb100-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb100-10"><a href="stats_processing_time.html#cb100-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb100-11"><a href="stats_processing_time.html#cb100-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb100-12"><a href="stats_processing_time.html#cb100-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_quality</span>
<span id="cb100-13"><a href="stats_processing_time.html#cb100-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_quality</span>
<span id="cb100-14"><a href="stats_processing_time.html#cb100-14" tabindex="-1"></a>    )</span>
<span id="cb100-15"><a href="stats_processing_time.html#cb100-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb100-16"><a href="stats_processing_time.html#cb100-16" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb100-17"><a href="stats_processing_time.html#cb100-17" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb100-18"><a href="stats_processing_time.html#cb100-18" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb100-19"><a href="stats_processing_time.html#cb100-19" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_color =</span> <span class="st">&quot;gray66&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb100-20"><a href="stats_processing_time.html#cb100-20" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb100-21"><a href="stats_processing_time.html#cb100-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb100-22"><a href="stats_processing_time.html#cb100-22" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;inferno&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb100-23"><a href="stats_processing_time.html#cb100-23" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb100-24"><a href="stats_processing_time.html#cb100-24" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb100-25"><a href="stats_processing_time.html#cb100-25" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb100-26"><a href="stats_processing_time.html#cb100-26" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb100-27"><a href="stats_processing_time.html#cb100-27" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb100-28"><a href="stats_processing_time.html#cb100-28" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb100-29"><a href="stats_processing_time.html#cb100-29" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-56-1.png" width="1008" /></p>
<p>let’s compare these results to the results from our <a href="stats_processing_time.html#one_pred_mod_bays">one nominal predictor model above</a> and <a href="stats_processing_time.html#two_pred_mod_bays">two nominal predictor model without site effects above</a></p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="stats_processing_time.html#cb101-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb101-2"><a href="stats_processing_time.html#cb101-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb101-3"><a href="stats_processing_time.html#cb101-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb101-4"><a href="stats_processing_time.html#cb101-4" tabindex="-1"></a>    brms3_mod</span>
<span id="cb101-5"><a href="stats_processing_time.html#cb101-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb101-6"><a href="stats_processing_time.html#cb101-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb101-7"><a href="stats_processing_time.html#cb101-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb101-8"><a href="stats_processing_time.html#cb101-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-9"><a href="stats_processing_time.html#cb101-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb101-10"><a href="stats_processing_time.html#cb101-10" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb101-11"><a href="stats_processing_time.html#cb101-11" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb101-12"><a href="stats_processing_time.html#cb101-12" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb101-13"><a href="stats_processing_time.html#cb101-13" tabindex="-1"></a>        brms2_mod</span>
<span id="cb101-14"><a href="stats_processing_time.html#cb101-14" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb101-15"><a href="stats_processing_time.html#cb101-15" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb101-16"><a href="stats_processing_time.html#cb101-16" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb101-17"><a href="stats_processing_time.html#cb101-17" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb101-18"><a href="stats_processing_time.html#cb101-18" tabindex="-1"></a>    , ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb101-19"><a href="stats_processing_time.html#cb101-19" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb101-20"><a href="stats_processing_time.html#cb101-20" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb101-21"><a href="stats_processing_time.html#cb101-21" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;one nominal predictor&quot;</span>)</span>
<span id="cb101-22"><a href="stats_processing_time.html#cb101-22" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb101-23"><a href="stats_processing_time.html#cb101-23" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> src, <span class="at">x =</span> value, <span class="at">color =</span> src, <span class="at">group =</span> src)) <span class="sc">+</span></span>
<span id="cb101-24"><a href="stats_processing_time.html#cb101-24" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_pointinterval</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb101-25"><a href="stats_processing_time.html#cb101-25" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(depth_maps_generation_quality), <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb101-26"><a href="stats_processing_time.html#cb101-26" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb101-27"><a href="stats_processing_time.html#cb101-27" tabindex="-1"></a>  <span class="co"># scale_color_viridis_d(option = &quot;turbo&quot;, begin = 0.2, end = 0.8) +</span></span>
<span id="cb101-28"><a href="stats_processing_time.html#cb101-28" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="at">n =</span> <span class="dv">4</span>, <span class="at">begin =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>)[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>)]) <span class="sc">+</span></span>
<span id="cb101-29"><a href="stats_processing_time.html#cb101-29" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb101-30"><a href="stats_processing_time.html#cb101-30" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb101-31"><a href="stats_processing_time.html#cb101-31" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;model&quot;</span></span>
<span id="cb101-32"><a href="stats_processing_time.html#cb101-32" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb101-33"><a href="stats_processing_time.html#cb101-33" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb101-34"><a href="stats_processing_time.html#cb101-34" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-57-1.png" width="1008" /></p>
<p>For completeness, let’s also collapse across the depth map quality to compare the filtering mode setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="stats_processing_time.html#cb102-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb102-2"><a href="stats_processing_time.html#cb102-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb102-3"><a href="stats_processing_time.html#cb102-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb102-4"><a href="stats_processing_time.html#cb102-4" tabindex="-1"></a>    brms3_mod</span>
<span id="cb102-5"><a href="stats_processing_time.html#cb102-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb102-6"><a href="stats_processing_time.html#cb102-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb102-7"><a href="stats_processing_time.html#cb102-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb102-8"><a href="stats_processing_time.html#cb102-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb102-9"><a href="stats_processing_time.html#cb102-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb102-10"><a href="stats_processing_time.html#cb102-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb102-11"><a href="stats_processing_time.html#cb102-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb102-12"><a href="stats_processing_time.html#cb102-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_filtering_mode</span>
<span id="cb102-13"><a href="stats_processing_time.html#cb102-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb102-14"><a href="stats_processing_time.html#cb102-14" tabindex="-1"></a>    )</span>
<span id="cb102-15"><a href="stats_processing_time.html#cb102-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb102-16"><a href="stats_processing_time.html#cb102-16" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb102-17"><a href="stats_processing_time.html#cb102-17" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb102-18"><a href="stats_processing_time.html#cb102-18" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;gray66&quot;</span></span>
<span id="cb102-19"><a href="stats_processing_time.html#cb102-19" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_color =</span> <span class="st">&quot;gray66&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb102-20"><a href="stats_processing_time.html#cb102-20" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb102-21"><a href="stats_processing_time.html#cb102-21" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb102-22"><a href="stats_processing_time.html#cb102-22" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb102-23"><a href="stats_processing_time.html#cb102-23" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb102-24"><a href="stats_processing_time.html#cb102-24" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb102-25"><a href="stats_processing_time.html#cb102-25" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb102-26"><a href="stats_processing_time.html#cb102-26" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb102-27"><a href="stats_processing_time.html#cb102-27" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb102-28"><a href="stats_processing_time.html#cb102-28" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb102-29"><a href="stats_processing_time.html#cb102-29" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-58-1.png" width="1008" /></p>
<p>let’s compare these results to the results from our <a href="stats_processing_time.html#one_pred_mod_bays">one nominal predictor model above</a> and <a href="stats_processing_time.html#two_pred_mod_bays">two nominal predictor model without site effects above</a></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="stats_processing_time.html#cb103-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb103-2"><a href="stats_processing_time.html#cb103-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb103-3"><a href="stats_processing_time.html#cb103-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb103-4"><a href="stats_processing_time.html#cb103-4" tabindex="-1"></a>    brms3_mod</span>
<span id="cb103-5"><a href="stats_processing_time.html#cb103-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb103-6"><a href="stats_processing_time.html#cb103-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb103-7"><a href="stats_processing_time.html#cb103-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb103-8"><a href="stats_processing_time.html#cb103-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb103-9"><a href="stats_processing_time.html#cb103-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb103-10"><a href="stats_processing_time.html#cb103-10" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb103-11"><a href="stats_processing_time.html#cb103-11" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb103-12"><a href="stats_processing_time.html#cb103-12" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb103-13"><a href="stats_processing_time.html#cb103-13" tabindex="-1"></a>        brms2_mod</span>
<span id="cb103-14"><a href="stats_processing_time.html#cb103-14" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb103-15"><a href="stats_processing_time.html#cb103-15" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb103-16"><a href="stats_processing_time.html#cb103-16" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb103-17"><a href="stats_processing_time.html#cb103-17" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb103-18"><a href="stats_processing_time.html#cb103-18" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb103-19"><a href="stats_processing_time.html#cb103-19" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> src, <span class="at">x =</span> value, <span class="at">color =</span> src, <span class="at">group =</span> src)) <span class="sc">+</span></span>
<span id="cb103-20"><a href="stats_processing_time.html#cb103-20" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_pointinterval</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-21"><a href="stats_processing_time.html#cb103-21" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode), <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-22"><a href="stats_processing_time.html#cb103-22" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb103-23"><a href="stats_processing_time.html#cb103-23" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="at">n=</span><span class="dv">4</span>, <span class="at">begin =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>)[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]) <span class="sc">+</span></span>
<span id="cb103-24"><a href="stats_processing_time.html#cb103-24" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb103-25"><a href="stats_processing_time.html#cb103-25" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb103-26"><a href="stats_processing_time.html#cb103-26" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;model&quot;</span></span>
<span id="cb103-27"><a href="stats_processing_time.html#cb103-27" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb103-28"><a href="stats_processing_time.html#cb103-28" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb103-29"><a href="stats_processing_time.html#cb103-29" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-59-1.png" width="1008" /></p>
<p>Finally, we can quantify the variation in processing time by comparing the <span class="math inline">\(\sigma\)</span> posteriors.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="stats_processing_time.html#cb104-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb104-2"><a href="stats_processing_time.html#cb104-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms3_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb104-3"><a href="stats_processing_time.html#cb104-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(sigma,tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sd_&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb104-4"><a href="stats_processing_time.html#cb104-4" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(dplyr<span class="sc">::</span><span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb104-5"><a href="stats_processing_time.html#cb104-5" tabindex="-1"></a>  <span class="co"># dplyr::group_by(name) %&gt;% </span></span>
<span id="cb104-6"><a href="stats_processing_time.html#cb104-6" tabindex="-1"></a>  <span class="co"># tidybayes::median_hdi(value) %&gt;% </span></span>
<span id="cb104-7"><a href="stats_processing_time.html#cb104-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb104-8"><a href="stats_processing_time.html#cb104-8" tabindex="-1"></a>    <span class="at">name =</span> name <span class="sc">%&gt;%</span> </span>
<span id="cb104-9"><a href="stats_processing_time.html#cb104-9" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb104-10"><a href="stats_processing_time.html#cb104-10" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb104-11"><a href="stats_processing_time.html#cb104-11" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(value)</span>
<span id="cb104-12"><a href="stats_processing_time.html#cb104-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb104-13"><a href="stats_processing_time.html#cb104-13" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb104-14"><a href="stats_processing_time.html#cb104-14" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> name)) <span class="sc">+</span></span>
<span id="cb104-15"><a href="stats_processing_time.html#cb104-15" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb104-16"><a href="stats_processing_time.html#cb104-16" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb104-17"><a href="stats_processing_time.html#cb104-17" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb104-18"><a href="stats_processing_time.html#cb104-18" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span> <span class="co">#, point_size = 3</span></span>
<span id="cb104-19"><a href="stats_processing_time.html#cb104-19" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb104-20"><a href="stats_processing_time.html#cb104-20" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb104-21"><a href="stats_processing_time.html#cb104-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-22"><a href="stats_processing_time.html#cb104-22" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-60-1.png" width="1008" /></p>
<p>and perform model selection via information criteria with the <code>brms::loo_compare()</code> function</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="stats_processing_time.html#cb105-1" tabindex="-1"></a>brms3_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">add_criterion</span>(brms3_mod, <span class="at">criterion =</span> <span class="fu">c</span>(<span class="st">&quot;loo&quot;</span>, <span class="st">&quot;waic&quot;</span>))</span>
<span id="cb105-2"><a href="stats_processing_time.html#cb105-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">loo_compare</span>(brms1_mod, brms2_mod, brms3_mod, <span class="at">criterion =</span> <span class="st">&quot;loo&quot;</span>)</span></code></pre></div>
<pre><code>##           elpd_diff se_diff
## brms3_mod   0.0       0.0  
## brms2_mod  -6.6       2.4  
## brms1_mod -23.0      11.4</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="stats_processing_time.html#cb107-1" tabindex="-1"></a><span class="co"># brms::model_weights(brms1_mod, brms2_mod, brms3_mod) %&gt;% round(3)</span></span></code></pre></div>
</div>
</div>
<div id="gamma-two-nominal-predictors-site-effects" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Gamma: Two Nominal Predictors + site effects<a href="stats_processing_time.html#gamma-two-nominal-predictors-site-effects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To this point, we have been modelling point cloud processing time presuming a Gaussian likelihood. However, the gamma likelihood more accurately represents the processing time data which is continuous and strictly positive (i.e. it is impossible to have a negative runtime). The gamma distribution is a great alternative that accounts for data with a zero lower limit and any right skew.</p>
<p>We borrow here from the excellent series on causal inference by <a href="https://solomonkurz.netlify.app/blog/2023-05-14-causal-inference-with-gamma-regression-or-the-problem-is-with-the-link-function-not-the-likelihood/">A. Solomon Kurz</a></p>
<div id="summary-statistics-3" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Summary Statistics<a href="stats_processing_time.html#summary-statistics-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>let’s check our underlying data for point cloud processing time (our dependent or <span class="math inline">\(y\)</span> variable)</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="stats_processing_time.html#cb108-1" tabindex="-1"></a><span class="co"># distribution</span></span>
<span id="cb108-2"><a href="stats_processing_time.html#cb108-2" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb108-3"><a href="stats_processing_time.html#cb108-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> timer_total_time_mins)) <span class="sc">+</span> </span>
<span id="cb108-4"><a href="stats_processing_time.html#cb108-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb108-5"><a href="stats_processing_time.html#cb108-5" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb108-6"><a href="stats_processing_time.html#cb108-6" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb108-7"><a href="stats_processing_time.html#cb108-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;&quot;</span>,<span class="at">x=</span><span class="st">&quot;point cloud processing mins.&quot;</span>) <span class="sc">+</span></span>
<span id="cb108-8"><a href="stats_processing_time.html#cb108-8" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb108-9"><a href="stats_processing_time.html#cb108-9" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb108-10"><a href="stats_processing_time.html#cb108-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-63-1.png" width="1008" /></p>
<p>and the summary statistics</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="stats_processing_time.html#cb109-1" tabindex="-1"></a>ptime_data<span class="sc">$</span>timer_total_time_mins <span class="sc">%&gt;%</span> </span>
<span id="cb109-2"><a href="stats_processing_time.html#cb109-2" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   0.835   1.978   6.577  22.725  24.287 144.272</code></pre>
</div>
<div id="id_4_pred_mod_bays" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Bayesian<a href="stats_processing_time.html#id_4_pred_mod_bays" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With the gamma likelihood our model becomes:</p>
<p><em>Need to check our prior selection…just go with <code>brms</code> defaults for now</em></p>
<p><span class="math display">\[\begin{align*}
y_{i}  &amp;\sim {\sf Gamma} \bigl(\mu_{i}, \alpha \bigr) \\
log(\mu_{i}) &amp;= \beta_0 + \sum_{j} \beta_{1[j]} x_{1[j]} + \sum_{k} \beta_{2[k]} x_{2[k]}  + \sum_{j,k} \beta_{1\times2[j,k]} x_{1\times2[j,k]} + \sum_{s} \beta_{3[s]} x_{3[s]} \\
\beta_{0}  &amp;\sim {\sf Normal} (0,100) \\
\beta_{1[j]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{1}}) \\
\beta_{2[k]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{2}}) \\
\beta_{1\times2[j,k]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{1\times2}}) \\
\beta_{3[s]}  &amp;\sim {\sf Normal} (0,\sigma_{\beta_{3}}) \\
\sigma_{\beta_{1}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{\beta_{2}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{\beta_{1\times2}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\sigma_{\beta_{3}} &amp;\sim {\sf Gamma} (1.28,0.005) \\
\alpha &amp;\sim {\sf Gamma} (0.01,0.01) \\
\end{align*}\]</span></p>
<p>Note that the <span class="math inline">\({\sf Gamma}\)</span> likelihood is parameterized in terms of the mean (<span class="math inline">\(\mu\)</span>) and the shape (<span class="math inline">\(\alpha\)</span>)</p>
<p>Now fit the model.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="stats_processing_time.html#cb111-1" tabindex="-1"></a>brms4_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb111-2"><a href="stats_processing_time.html#cb111-2" tabindex="-1"></a>  <span class="at">formula =</span> timer_total_time_mins <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb111-3"><a href="stats_processing_time.html#cb111-3" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb111-4"><a href="stats_processing_time.html#cb111-4" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb111-5"><a href="stats_processing_time.html#cb111-5" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode) <span class="sc">+</span></span>
<span id="cb111-6"><a href="stats_processing_time.html#cb111-6" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> study_site)</span>
<span id="cb111-7"><a href="stats_processing_time.html#cb111-7" tabindex="-1"></a>  , <span class="at">data =</span> ptime_data</span>
<span id="cb111-8"><a href="stats_processing_time.html#cb111-8" tabindex="-1"></a>  , <span class="at">family =</span> brms<span class="sc">::</span><span class="fu">brmsfamily</span>(<span class="st">&quot;Gamma&quot;</span>, <span class="at">link =</span> <span class="st">&quot;log&quot;</span>) <span class="co"># Gamma(link = &quot;log&quot;)</span></span>
<span id="cb111-9"><a href="stats_processing_time.html#cb111-9" tabindex="-1"></a>  , <span class="at">iter =</span> <span class="dv">4000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>, <span class="at">chains =</span> <span class="dv">4</span></span>
<span id="cb111-10"><a href="stats_processing_time.html#cb111-10" tabindex="-1"></a>  , <span class="at">cores =</span> <span class="fu">round</span>(parallel<span class="sc">::</span><span class="fu">detectCores</span>()<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb111-11"><a href="stats_processing_time.html#cb111-11" tabindex="-1"></a>  <span class="co"># , prior = c(</span></span>
<span id="cb111-12"><a href="stats_processing_time.html#cb111-12" tabindex="-1"></a>  <span class="co">#   brms::prior(normal(mean_y, sd_y * 5), class = &quot;Intercept&quot;)</span></span>
<span id="cb111-13"><a href="stats_processing_time.html#cb111-13" tabindex="-1"></a>  <span class="co">#   , brms::prior(gamma(alpha, beta), class = &quot;sd&quot;)</span></span>
<span id="cb111-14"><a href="stats_processing_time.html#cb111-14" tabindex="-1"></a>  <span class="co">#   , brms::prior(cauchy(0, sd_y), class = &quot;sigma&quot;)</span></span>
<span id="cb111-15"><a href="stats_processing_time.html#cb111-15" tabindex="-1"></a>  <span class="co"># )</span></span>
<span id="cb111-16"><a href="stats_processing_time.html#cb111-16" tabindex="-1"></a>  <span class="co"># , stanvars = stanvars_temp</span></span>
<span id="cb111-17"><a href="stats_processing_time.html#cb111-17" tabindex="-1"></a>  , <span class="at">file =</span> <span class="fu">paste0</span>(rootdir, <span class="st">&quot;/fits/brms4_mod&quot;</span>)</span>
<span id="cb111-18"><a href="stats_processing_time.html#cb111-18" tabindex="-1"></a>)</span></code></pre></div>
<p>check the trace plots for problems with convergence of the Markov chains</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="stats_processing_time.html#cb112-1" tabindex="-1"></a><span class="fu">plot</span>(brms4_mod)</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-66-1.png" width="1008" /><img src="metashape_testing_files/figure-html/unnamed-chunk-66-2.png" width="1008" /></p>
<p>posterior-predictive check to make sure the model does an okay job simulating data that resemble the sample data</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="stats_processing_time.html#cb113-1" tabindex="-1"></a><span class="co"># posterior predictive check</span></span>
<span id="cb113-2"><a href="stats_processing_time.html#cb113-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">pp_check</span>(</span>
<span id="cb113-3"><a href="stats_processing_time.html#cb113-3" tabindex="-1"></a>    brms4_mod</span>
<span id="cb113-4"><a href="stats_processing_time.html#cb113-4" tabindex="-1"></a>    , <span class="at">type =</span> <span class="st">&quot;dens_overlay&quot;</span></span>
<span id="cb113-5"><a href="stats_processing_time.html#cb113-5" tabindex="-1"></a>    , <span class="at">ndraws =</span> <span class="dv">50</span></span>
<span id="cb113-6"><a href="stats_processing_time.html#cb113-6" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb113-7"><a href="stats_processing_time.html#cb113-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&quot;posterior-predictive check (overlaid densities)&quot;</span>) <span class="sc">+</span></span>
<span id="cb113-8"><a href="stats_processing_time.html#cb113-8" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb113-9"><a href="stats_processing_time.html#cb113-9" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span>, <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-67-1.png" width="1008" /></p>
<p>How’d we do capturing the conditional means and standard deviations by depth map generation quality?</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="stats_processing_time.html#cb114-1" tabindex="-1"></a><span class="co"># means</span></span>
<span id="cb114-2"><a href="stats_processing_time.html#cb114-2" tabindex="-1"></a>p1_temp <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">pp_check</span>(</span>
<span id="cb114-3"><a href="stats_processing_time.html#cb114-3" tabindex="-1"></a>    brms4_mod</span>
<span id="cb114-4"><a href="stats_processing_time.html#cb114-4" tabindex="-1"></a>    , <span class="at">type =</span> <span class="st">&quot;stat_grouped&quot;</span> <span class="co"># &quot;dens_overlay_grouped&quot;</span></span>
<span id="cb114-5"><a href="stats_processing_time.html#cb114-5" tabindex="-1"></a>    , <span class="at">stat =</span> <span class="st">&quot;mean&quot;</span></span>
<span id="cb114-6"><a href="stats_processing_time.html#cb114-6" tabindex="-1"></a>    , <span class="at">group =</span> <span class="st">&quot;depth_maps_generation_quality&quot;</span></span>
<span id="cb114-7"><a href="stats_processing_time.html#cb114-7" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb114-8"><a href="stats_processing_time.html#cb114-8" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="cn">NULL</span>)) <span class="sc">+</span></span>
<span id="cb114-9"><a href="stats_processing_time.html#cb114-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&quot;means&quot;</span>) <span class="sc">+</span></span>
<span id="cb114-10"><a href="stats_processing_time.html#cb114-10" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(group), <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb114-11"><a href="stats_processing_time.html#cb114-11" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb114-12"><a href="stats_processing_time.html#cb114-12" tabindex="-1"></a><span class="co"># sds</span></span>
<span id="cb114-13"><a href="stats_processing_time.html#cb114-13" tabindex="-1"></a>p2_temp <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">pp_check</span>(</span>
<span id="cb114-14"><a href="stats_processing_time.html#cb114-14" tabindex="-1"></a>    brms4_mod</span>
<span id="cb114-15"><a href="stats_processing_time.html#cb114-15" tabindex="-1"></a>    , <span class="at">type =</span> <span class="st">&quot;stat_grouped&quot;</span> <span class="co"># &quot;dens_overlay_grouped&quot;</span></span>
<span id="cb114-16"><a href="stats_processing_time.html#cb114-16" tabindex="-1"></a>    , <span class="at">stat =</span> <span class="st">&quot;sd&quot;</span></span>
<span id="cb114-17"><a href="stats_processing_time.html#cb114-17" tabindex="-1"></a>    , <span class="at">group =</span> <span class="st">&quot;depth_maps_generation_quality&quot;</span></span>
<span id="cb114-18"><a href="stats_processing_time.html#cb114-18" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb114-19"><a href="stats_processing_time.html#cb114-19" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="cn">NULL</span>)) <span class="sc">+</span></span>
<span id="cb114-20"><a href="stats_processing_time.html#cb114-20" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&quot;sd&#39;s&quot;</span>) <span class="sc">+</span></span>
<span id="cb114-21"><a href="stats_processing_time.html#cb114-21" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(group), <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb114-22"><a href="stats_processing_time.html#cb114-22" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb114-23"><a href="stats_processing_time.html#cb114-23" tabindex="-1"></a><span class="co"># combine </span></span>
<span id="cb114-24"><a href="stats_processing_time.html#cb114-24" tabindex="-1"></a>(p1_temp <span class="sc">/</span> p2_temp) <span class="sc">&amp;</span></span>
<span id="cb114-25"><a href="stats_processing_time.html#cb114-25" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">&amp;</span></span>
<span id="cb114-26"><a href="stats_processing_time.html#cb114-26" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb114-27"><a href="stats_processing_time.html#cb114-27" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Posterior-predictive statistical checks</span><span class="sc">\n</span><span class="st">by depth map quality&quot;</span></span>
<span id="cb114-28"><a href="stats_processing_time.html#cb114-28" tabindex="-1"></a>    , <span class="at">subtitle =</span> <span class="fu">expression</span>(</span>
<span id="cb114-29"><a href="stats_processing_time.html#cb114-29" tabindex="-1"></a>      <span class="st">&quot;The dark blue lines are &quot;</span><span class="sc">*</span><span class="fu">italic</span>(<span class="fu">T</span>(y))<span class="sc">*</span><span class="st">&quot;, and the light blue bars are for &quot;</span><span class="sc">*</span><span class="fu">italic</span>(T)(<span class="fu">italic</span>(y)[rep])<span class="sc">*</span><span class="st">&quot;.&quot;</span>)</span>
<span id="cb114-30"><a href="stats_processing_time.html#cb114-30" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-68-1.png" width="1008" /></p>
<p>The means are decent, the sd’s are terrible…see the section “Heterogeneous variances and robustness against outliers” in <a href="https://sites.google.com/site/doingbayesiandataanalysis/">Kruschke (2015)</a> on p.602 and in <a href="https://bookdown.org/content/3686/metric-predicted-variable-with-multiple-nominal-predictors.html#heterogeneous-variances-and-robustness-against-outliers-1">Kurz’s ebook companion</a></p>
<p>check the prior distributions</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="stats_processing_time.html#cb115-1" tabindex="-1"></a><span class="co"># check priors</span></span>
<span id="cb115-2"><a href="stats_processing_time.html#cb115-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">prior_summary</span>(brms4_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb115-3"><a href="stats_processing_time.html#cb115-3" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb115-4"><a href="stats_processing_time.html#cb115-4" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
prior
</th>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
coef
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
resp
</th>
<th style="text-align:left;">
dpar
</th>
<th style="text-align:left;">
nlpar
</th>
<th style="text-align:left;">
lb
</th>
<th style="text-align:left;">
ub
</th>
<th style="text-align:left;">
source
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
student_t(3, 1.9, 2.5)
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
student_t(3, 0, 2.5)
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
depth_maps_generation_quality:depth_maps_generation_filtering_mode
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
study_site
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
sd
</td>
<td style="text-align:left;">
Intercept
</td>
<td style="text-align:left;">
study_site
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
<tr>
<td style="text-align:left;">
gamma(0.01, 0.01)
</td>
<td style="text-align:left;">
shape
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
default
</td>
</tr>
</tbody>
</table>
<p>The <code>brms::brm</code> model summary</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="stats_processing_time.html#cb116-1" tabindex="-1"></a>brms4_mod <span class="sc">%&gt;%</span> </span>
<span id="cb116-2"><a href="stats_processing_time.html#cb116-2" tabindex="-1"></a>  brms<span class="sc">::</span><span class="fu">posterior_summary</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb116-3"><a href="stats_processing_time.html#cb116-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb116-4"><a href="stats_processing_time.html#cb116-4" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;parameter&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb116-5"><a href="stats_processing_time.html#cb116-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span> </span>
<span id="cb116-6"><a href="stats_processing_time.html#cb116-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb116-7"><a href="stats_processing_time.html#cb116-7" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;b_&quot;</span>) </span>
<span id="cb116-8"><a href="stats_processing_time.html#cb116-8" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;r_&quot;</span>) </span>
<span id="cb116-9"><a href="stats_processing_time.html#cb116-9" tabindex="-1"></a>    <span class="sc">|</span> stringr<span class="sc">::</span><span class="fu">str_starts</span>(parameter, <span class="st">&quot;sd_&quot;</span>) </span>
<span id="cb116-10"><a href="stats_processing_time.html#cb116-10" tabindex="-1"></a>    <span class="sc">|</span> parameter <span class="sc">==</span> <span class="st">&quot;shape&quot;</span></span>
<span id="cb116-11"><a href="stats_processing_time.html#cb116-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb116-12"><a href="stats_processing_time.html#cb116-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb116-13"><a href="stats_processing_time.html#cb116-13" tabindex="-1"></a>    <span class="at">parameter =</span> parameter <span class="sc">%&gt;%</span> </span>
<span id="cb116-14"><a href="stats_processing_time.html#cb116-14" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb116-15"><a href="stats_processing_time.html#cb116-15" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>)</span>
<span id="cb116-16"><a href="stats_processing_time.html#cb116-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb116-17"><a href="stats_processing_time.html#cb116-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">&quot;Bayesian two nominal predictors + study site effects for point cloud processing time&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb116-18"><a href="stats_processing_time.html#cb116-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb116-19"><a href="stats_processing_time.html#cb116-19" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-70">Table 4.19: </span>Bayesian two nominal predictors + study site effects for point cloud processing time
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
parameter
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
est.error
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q2.5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
q97.5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
b_Intercept
</td>
<td style="text-align:right;">
2.02
</td>
<td style="text-align:right;">
0.89
</td>
<td style="text-align:right;">
0.25
</td>
<td style="text-align:right;">
3.82
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_filtering__Intercept
</td>
<td style="text-align:right;">
0.31
</td>
<td style="text-align:right;">
0.26
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
1.04
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality__Intercept
</td>
<td style="text-align:right;">
2.07
</td>
<td style="text-align:right;">
0.78
</td>
<td style="text-align:right;">
1.06
</td>
<td style="text-align:right;">
4.01
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_quality:filtering__Intercept
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.18
</td>
</tr>
<tr>
<td style="text-align:left;">
sd_study_site__Intercept
</td>
<td style="text-align:right;">
0.18
</td>
<td style="text-align:right;">
0.12
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.49
</td>
</tr>
<tr>
<td style="text-align:left;">
shape
</td>
<td style="text-align:right;">
41.53
</td>
<td style="text-align:right;">
6.81
</td>
<td style="text-align:right;">
29.30
</td>
<td style="text-align:right;">
55.69
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[aggressive,Intercept]
</td>
<td style="text-align:right;">
-0.18
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
-0.57
</td>
<td style="text-align:right;">
0.20
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[moderate,Intercept]
</td>
<td style="text-align:right;">
-0.03
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
-0.42
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[mild,Intercept]
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.19
</td>
<td style="text-align:right;">
-0.35
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:left;">
r_filtering[disabled,Intercept]
</td>
<td style="text-align:right;">
0.19
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
-0.17
</td>
<td style="text-align:right;">
0.60
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[ultra.high,Intercept]
</td>
<td style="text-align:right;">
2.38
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
0.58
</td>
<td style="text-align:right;">
4.11
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[high,Intercept]
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
-0.86
</td>
<td style="text-align:right;">
2.68
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[medium,Intercept]
</td>
<td style="text-align:right;">
-0.13
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
-1.93
</td>
<td style="text-align:right;">
1.59
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[low,Intercept]
</td>
<td style="text-align:right;">
-1.24
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
-3.04
</td>
<td style="text-align:right;">
0.48
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality[lowest,Intercept]
</td>
<td style="text-align:right;">
-1.97
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
-3.77
</td>
<td style="text-align:right;">
-0.23
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-0.09
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.28
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_disabled,Intercept]
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.05
</td>
<td style="text-align:right;">
0.27
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_mild,Intercept]
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.13
</td>
<td style="text-align:right;">
0.17
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[high_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.14
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_aggressive,Intercept]
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.07
</td>
<td style="text-align:right;">
0.24
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_disabled,Intercept]
</td>
<td style="text-align:right;">
-0.06
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.22
</td>
<td style="text-align:right;">
0.08
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_mild,Intercept]
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.14
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[low_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.13
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_aggressive,Intercept]
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.09
</td>
<td style="text-align:right;">
0.23
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_disabled,Intercept]
</td>
<td style="text-align:right;">
-0.06
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.23
</td>
<td style="text-align:right;">
0.08
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_mild,Intercept]
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.15
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[lowest_moderate,Intercept]
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.14
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_aggressive,Intercept]
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.14
</td>
<td style="text-align:right;">
0.17
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_disabled,Intercept]
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.12
</td>
<td style="text-align:right;">
0.19
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_mild,Intercept]
</td>
<td style="text-align:right;">
-0.02
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.18
</td>
<td style="text-align:right;">
0.13
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[medium_moderate,Intercept]
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
0.14
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_aggressive,Intercept]
</td>
<td style="text-align:right;">
-0.10
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.29
</td>
<td style="text-align:right;">
0.04
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_disabled,Intercept]
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.08
</td>
<td style="text-align:right;">
0.23
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_mild,Intercept]
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.12
</td>
<td style="text-align:right;">
0.18
</td>
</tr>
<tr>
<td style="text-align:left;">
r_quality:filtering[ultra.high_moderate,Intercept]
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
-0.12
</td>
<td style="text-align:right;">
0.19
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[KAIBAB_HIGH,Intercept]
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.18
</td>
<td style="text-align:right;">
0.21
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[KAIBAB_LOW,Intercept]
</td>
<td style="text-align:right;">
-0.13
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.33
</td>
<td style="text-align:right;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[N1,Intercept]
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.11
</td>
<td style="text-align:right;">
0.27
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[SQ09_02,Intercept]
</td>
<td style="text-align:right;">
0.12
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.07
</td>
<td style="text-align:right;">
0.32
</td>
</tr>
<tr>
<td style="text-align:left;">
r_study_site[WA85_02,Intercept]
</td>
<td style="text-align:right;">
-0.08
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.28
</td>
<td style="text-align:right;">
0.11
</td>
</tr>
</tbody>
</table>
</div>
<p>We can look at the model noise standard deviation (shape) <span class="math inline">\(\alpha\)</span></p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="stats_processing_time.html#cb117-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb117-2"><a href="stats_processing_time.html#cb117-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms4_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb117-3"><a href="stats_processing_time.html#cb117-3" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb117-4"><a href="stats_processing_time.html#cb117-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> shape, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb117-5"><a href="stats_processing_time.html#cb117-5" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb117-6"><a href="stats_processing_time.html#cb117-6" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb117-7"><a href="stats_processing_time.html#cb117-7" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb117-8"><a href="stats_processing_time.html#cb117-8" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_size =</span> <span class="dv">3</span></span>
<span id="cb117-9"><a href="stats_processing_time.html#cb117-9" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb117-10"><a href="stats_processing_time.html#cb117-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb117-11"><a href="stats_processing_time.html#cb117-11" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb117-12"><a href="stats_processing_time.html#cb117-12" tabindex="-1"></a>  <span class="fu">xlab</span>(latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">alpha$&quot;</span>)) <span class="sc">+</span></span>
<span id="cb117-13"><a href="stats_processing_time.html#cb117-13" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-71-1.png" width="1008" /></p>
<p>plot the posterior distributions of the conditional means with the median processing time and the 95% highest posterior density interval (HDI)</p>
<p>Note that how within <code>tidybayes::add_epred_draws</code>, we used the <code>re_formula</code> argument to average over the random effects of <code>study_site</code> (i.e., we left <code>(1 | study_site)</code> out of the formula). For this model we have to collapse across the study site effects to compare the depth map quality and filtering mode setting effects.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="stats_processing_time.html#cb118-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb118-2"><a href="stats_processing_time.html#cb118-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb118-3"><a href="stats_processing_time.html#cb118-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb118-4"><a href="stats_processing_time.html#cb118-4" tabindex="-1"></a>    brms4_mod, <span class="at">allow_new_levels =</span> T</span>
<span id="cb118-5"><a href="stats_processing_time.html#cb118-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb118-6"><a href="stats_processing_time.html#cb118-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb118-7"><a href="stats_processing_time.html#cb118-7" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb118-8"><a href="stats_processing_time.html#cb118-8" tabindex="-1"></a>      (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode)</span>
<span id="cb118-9"><a href="stats_processing_time.html#cb118-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb118-10"><a href="stats_processing_time.html#cb118-10" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb118-11"><a href="stats_processing_time.html#cb118-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">depth_maps_generation_quality =</span> depth_maps_generation_quality <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb118-12"><a href="stats_processing_time.html#cb118-12" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb118-13"><a href="stats_processing_time.html#cb118-13" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb118-14"><a href="stats_processing_time.html#cb118-14" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb118-15"><a href="stats_processing_time.html#cb118-15" tabindex="-1"></a>      <span class="at">y =</span> value, <span class="at">x =</span> depth_maps_generation_filtering_mode</span>
<span id="cb118-16"><a href="stats_processing_time.html#cb118-16" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb118-17"><a href="stats_processing_time.html#cb118-17" tabindex="-1"></a>    )</span>
<span id="cb118-18"><a href="stats_processing_time.html#cb118-18" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb118-19"><a href="stats_processing_time.html#cb118-19" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_eye</span>(</span>
<span id="cb118-20"><a href="stats_processing_time.html#cb118-20" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb118-21"><a href="stats_processing_time.html#cb118-21" tabindex="-1"></a>      , <span class="at">slab_alpha =</span> <span class="fl">0.8</span></span>
<span id="cb118-22"><a href="stats_processing_time.html#cb118-22" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span></span>
<span id="cb118-23"><a href="stats_processing_time.html#cb118-23" tabindex="-1"></a>      , <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_size =</span> <span class="dv">1</span></span>
<span id="cb118-24"><a href="stats_processing_time.html#cb118-24" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb118-25"><a href="stats_processing_time.html#cb118-25" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb118-26"><a href="stats_processing_time.html#cb118-26" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>(</span>
<span id="cb118-27"><a href="stats_processing_time.html#cb118-27" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">suffix =</span> <span class="st">&quot; mins&quot;</span>, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb118-28"><a href="stats_processing_time.html#cb118-28" tabindex="-1"></a>      , <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_log</span>(<span class="at">n =</span> <span class="dv">8</span>)</span>
<span id="cb118-29"><a href="stats_processing_time.html#cb118-29" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb118-30"><a href="stats_processing_time.html#cb118-30" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_quality)) <span class="sc">+</span></span>
<span id="cb118-31"><a href="stats_processing_time.html#cb118-31" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb118-32"><a href="stats_processing_time.html#cb118-32" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">y =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb118-33"><a href="stats_processing_time.html#cb118-33" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb118-34"><a href="stats_processing_time.html#cb118-34" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Filtering Mode&quot;</span></span>
<span id="cb118-35"><a href="stats_processing_time.html#cb118-35" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb118-36"><a href="stats_processing_time.html#cb118-36" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb118-37"><a href="stats_processing_time.html#cb118-37" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb118-38"><a href="stats_processing_time.html#cb118-38" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb118-39"><a href="stats_processing_time.html#cb118-39" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb118-40"><a href="stats_processing_time.html#cb118-40" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb118-41"><a href="stats_processing_time.html#cb118-41" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb118-42"><a href="stats_processing_time.html#cb118-42" tabindex="-1"></a>    ) </span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-72-1.png" width="1008" /></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="stats_processing_time.html#cb119-1" tabindex="-1"></a>    <span class="co"># guides(</span></span>
<span id="cb119-2"><a href="stats_processing_time.html#cb119-2" tabindex="-1"></a>    <span class="co">#   fill = guide_legend(reverse = T, override.aes = list(alpha = 1, color = NA, shape = NA, lwd = NA))</span></span>
<span id="cb119-3"><a href="stats_processing_time.html#cb119-3" tabindex="-1"></a>    <span class="co"># )</span></span></code></pre></div>
<p>That really tightened-up our estimates. Note that we had to use a log scale on the y axis (using <code>ggplot2::scale_y_log10</code>) and that none of our estimates for processing time are below zero.</p>
<p>we can also make pairwise comparisons so long as we continue using <code>tidybayes::add_epred_draws</code> with the <code>re_formula</code> argument</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="stats_processing_time.html#cb120-1" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span></span>
<span id="cb120-2"><a href="stats_processing_time.html#cb120-2" tabindex="-1"></a>  ptime_data <span class="sc">%&gt;%</span></span>
<span id="cb120-3"><a href="stats_processing_time.html#cb120-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb120-4"><a href="stats_processing_time.html#cb120-4" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb120-5"><a href="stats_processing_time.html#cb120-5" tabindex="-1"></a>      brms4_mod, <span class="at">allow_new_levels =</span> T</span>
<span id="cb120-6"><a href="stats_processing_time.html#cb120-6" tabindex="-1"></a>      <span class="co"># this part is crucial</span></span>
<span id="cb120-7"><a href="stats_processing_time.html#cb120-7" tabindex="-1"></a>      , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality) <span class="sc">+</span></span>
<span id="cb120-8"><a href="stats_processing_time.html#cb120-8" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode) <span class="sc">+</span> </span>
<span id="cb120-9"><a href="stats_processing_time.html#cb120-9" tabindex="-1"></a>        (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality<span class="sc">:</span>depth_maps_generation_filtering_mode)</span>
<span id="cb120-10"><a href="stats_processing_time.html#cb120-10" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-11"><a href="stats_processing_time.html#cb120-11" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb120-12"><a href="stats_processing_time.html#cb120-12" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">compare_levels</span>(</span>
<span id="cb120-13"><a href="stats_processing_time.html#cb120-13" tabindex="-1"></a>      value</span>
<span id="cb120-14"><a href="stats_processing_time.html#cb120-14" tabindex="-1"></a>      , <span class="at">by =</span> depth_maps_generation_quality</span>
<span id="cb120-15"><a href="stats_processing_time.html#cb120-15" tabindex="-1"></a>      , <span class="at">comparison =</span> </span>
<span id="cb120-16"><a href="stats_processing_time.html#cb120-16" tabindex="-1"></a>        contrast_list</span>
<span id="cb120-17"><a href="stats_processing_time.html#cb120-17" tabindex="-1"></a>        <span class="co"># tidybayes::emmeans_comparison(&quot;revpairwise&quot;) </span></span>
<span id="cb120-18"><a href="stats_processing_time.html#cb120-18" tabindex="-1"></a>        <span class="co">#&quot;pairwise&quot;</span></span>
<span id="cb120-19"><a href="stats_processing_time.html#cb120-19" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-20"><a href="stats_processing_time.html#cb120-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">contrast =</span> depth_maps_generation_quality)</span>
<span id="cb120-21"><a href="stats_processing_time.html#cb120-21" tabindex="-1"></a></span>
<span id="cb120-22"><a href="stats_processing_time.html#cb120-22" tabindex="-1"></a><span class="co"># separate contrast</span></span>
<span id="cb120-23"><a href="stats_processing_time.html#cb120-23" tabindex="-1"></a>brms_contrast_temp <span class="ot">=</span> brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb120-24"><a href="stats_processing_time.html#cb120-24" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb120-25"><a href="stats_processing_time.html#cb120-25" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(</span>
<span id="cb120-26"><a href="stats_processing_time.html#cb120-26" tabindex="-1"></a>    <span class="at">cols =</span> contrast</span>
<span id="cb120-27"><a href="stats_processing_time.html#cb120-27" tabindex="-1"></a>    , <span class="at">delim =</span> <span class="st">&quot; - &quot;</span></span>
<span id="cb120-28"><a href="stats_processing_time.html#cb120-28" tabindex="-1"></a>    , <span class="at">names =</span> <span class="fu">paste0</span>(</span>
<span id="cb120-29"><a href="stats_processing_time.html#cb120-29" tabindex="-1"></a>        <span class="st">&quot;sorter&quot;</span></span>
<span id="cb120-30"><a href="stats_processing_time.html#cb120-30" tabindex="-1"></a>        , <span class="dv">1</span><span class="sc">:</span>(<span class="fu">max</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(brms_contrast_temp<span class="sc">$</span>contrast, <span class="st">&quot;-&quot;</span>))<span class="sc">+</span><span class="dv">1</span>)</span>
<span id="cb120-31"><a href="stats_processing_time.html#cb120-31" tabindex="-1"></a>      )</span>
<span id="cb120-32"><a href="stats_processing_time.html#cb120-32" tabindex="-1"></a>    , <span class="at">too_few =</span> <span class="st">&quot;align_start&quot;</span></span>
<span id="cb120-33"><a href="stats_processing_time.html#cb120-33" tabindex="-1"></a>    , <span class="at">cols_remove =</span> F</span>
<span id="cb120-34"><a href="stats_processing_time.html#cb120-34" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-35"><a href="stats_processing_time.html#cb120-35" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(sorter1<span class="sc">!=</span>sorter2) <span class="sc">%&gt;%</span> </span>
<span id="cb120-36"><a href="stats_processing_time.html#cb120-36" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb120-37"><a href="stats_processing_time.html#cb120-37" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb120-38"><a href="stats_processing_time.html#cb120-38" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sorter&quot;</span>)</span>
<span id="cb120-39"><a href="stats_processing_time.html#cb120-39" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="cf">function</span>(x){<span class="fu">factor</span>(</span>
<span id="cb120-40"><a href="stats_processing_time.html#cb120-40" tabindex="-1"></a>        x, <span class="at">ordered =</span> T</span>
<span id="cb120-41"><a href="stats_processing_time.html#cb120-41" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_quality)</span>
<span id="cb120-42"><a href="stats_processing_time.html#cb120-42" tabindex="-1"></a>      )}</span>
<span id="cb120-43"><a href="stats_processing_time.html#cb120-43" tabindex="-1"></a>    )</span>
<span id="cb120-44"><a href="stats_processing_time.html#cb120-44" tabindex="-1"></a>    , <span class="at">contrast =</span> contrast <span class="sc">%&gt;%</span> </span>
<span id="cb120-45"><a href="stats_processing_time.html#cb120-45" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(</span>
<span id="cb120-46"><a href="stats_processing_time.html#cb120-46" tabindex="-1"></a>        <span class="fu">paste0</span>(<span class="fu">as.numeric</span>(sorter1), <span class="fu">as.numeric</span>(sorter2)) <span class="sc">%&gt;%</span> </span>
<span id="cb120-47"><a href="stats_processing_time.html#cb120-47" tabindex="-1"></a>        <span class="fu">as.numeric</span>()</span>
<span id="cb120-48"><a href="stats_processing_time.html#cb120-48" tabindex="-1"></a>      )</span>
<span id="cb120-49"><a href="stats_processing_time.html#cb120-49" tabindex="-1"></a>    , <span class="at">depth_maps_generation_filtering_mode =</span> depth_maps_generation_filtering_mode <span class="sc">%&gt;%</span> </span>
<span id="cb120-50"><a href="stats_processing_time.html#cb120-50" tabindex="-1"></a>      <span class="fu">factor</span>(</span>
<span id="cb120-51"><a href="stats_processing_time.html#cb120-51" tabindex="-1"></a>        <span class="at">levels =</span> <span class="fu">levels</span>(ptime_data<span class="sc">$</span>depth_maps_generation_filtering_mode)</span>
<span id="cb120-52"><a href="stats_processing_time.html#cb120-52" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb120-53"><a href="stats_processing_time.html#cb120-53" tabindex="-1"></a>      )</span>
<span id="cb120-54"><a href="stats_processing_time.html#cb120-54" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-55"><a href="stats_processing_time.html#cb120-55" tabindex="-1"></a>  <span class="co"># median_hdi summary for coloring </span></span>
<span id="cb120-56"><a href="stats_processing_time.html#cb120-56" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb120-57"><a href="stats_processing_time.html#cb120-57" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb120-58"><a href="stats_processing_time.html#cb120-58" tabindex="-1"></a>    <span class="at">is_gt_zero =</span> value <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb120-59"><a href="stats_processing_time.html#cb120-59" tabindex="-1"></a>    , <span class="at">pct_gt_zero =</span> <span class="fu">sum</span>(is_gt_zero)<span class="sc">/</span>dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb120-60"><a href="stats_processing_time.html#cb120-60" tabindex="-1"></a>    , <span class="at">sig_level2 =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb120-61"><a href="stats_processing_time.html#cb120-61" tabindex="-1"></a>      pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.99</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb120-62"><a href="stats_processing_time.html#cb120-62" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.95</span> <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb120-63"><a href="stats_processing_time.html#cb120-63" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.9</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb120-64"><a href="stats_processing_time.html#cb120-64" tabindex="-1"></a>      , pct_gt_zero <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb120-65"><a href="stats_processing_time.html#cb120-65" tabindex="-1"></a>      , T <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb120-66"><a href="stats_processing_time.html#cb120-66" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-67"><a href="stats_processing_time.html#cb120-67" tabindex="-1"></a>    <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;&gt;99%&quot;</span>,<span class="st">&quot;95%&quot;</span>,<span class="st">&quot;90%&quot;</span>,<span class="st">&quot;80%&quot;</span>,<span class="st">&quot;&lt;80%&quot;</span>), <span class="at">ordered =</span> T)</span>
<span id="cb120-68"><a href="stats_processing_time.html#cb120-68" tabindex="-1"></a>  )</span>
<span id="cb120-69"><a href="stats_processing_time.html#cb120-69" tabindex="-1"></a></span>
<span id="cb120-70"><a href="stats_processing_time.html#cb120-70" tabindex="-1"></a><span class="co"># what?</span></span>
<span id="cb120-71"><a href="stats_processing_time.html#cb120-71" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 320,000
## Columns: 11
## Groups: contrast, depth_maps_generation_filtering_mode [40]
## $ depth_maps_generation_filtering_mode &lt;ord&gt; aggressive, aggressive, aggressiv…
## $ .chain                               &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .iteration                           &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ .draw                                &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11…
## $ sorter1                              &lt;ord&gt; ultra high, ultra high, ultra hig…
## $ sorter2                              &lt;ord&gt; high, high, high, high, high, hig…
## $ contrast                             &lt;fct&gt; ultra high - high, ultra high - h…
## $ value                                &lt;dbl&gt; 53.82774, 42.97583, 42.28363, 46.…
## $ is_gt_zero                           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRU…
## $ pct_gt_zero                          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ sig_level2                           &lt;ord&gt; &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99%, &gt;99…</code></pre>
<p>plot it with the help of <code>ggplot2::scale_x_log10</code></p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="stats_processing_time.html#cb122-1" tabindex="-1"></a><span class="co"># plot it</span></span>
<span id="cb122-2"><a href="stats_processing_time.html#cb122-2" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span> </span>
<span id="cb122-3"><a href="stats_processing_time.html#cb122-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb122-4"><a href="stats_processing_time.html#cb122-4" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb122-5"><a href="stats_processing_time.html#cb122-5" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> contrast</span>
<span id="cb122-6"><a href="stats_processing_time.html#cb122-6" tabindex="-1"></a>      , <span class="at">fill =</span> sig_level2 <span class="co"># pct_gt_zero</span></span>
<span id="cb122-7"><a href="stats_processing_time.html#cb122-7" tabindex="-1"></a>      <span class="co"># , fill = depth_maps_generation_filtering_mode</span></span>
<span id="cb122-8"><a href="stats_processing_time.html#cb122-8" tabindex="-1"></a>    )</span>
<span id="cb122-9"><a href="stats_processing_time.html#cb122-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb122-10"><a href="stats_processing_time.html#cb122-10" tabindex="-1"></a>    <span class="co"># # for kicks and giggles we&#39;ll throw in the ROPE</span></span>
<span id="cb122-11"><a href="stats_processing_time.html#cb122-11" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">0.1</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb122-12"><a href="stats_processing_time.html#cb122-12" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_halfeye</span>(</span>
<span id="cb122-13"><a href="stats_processing_time.html#cb122-13" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.95</span>)</span>
<span id="cb122-14"><a href="stats_processing_time.html#cb122-14" tabindex="-1"></a>      <span class="co"># , slab_fill = &quot;gray22&quot;, slab_alpha = 1</span></span>
<span id="cb122-15"><a href="stats_processing_time.html#cb122-15" tabindex="-1"></a>      , <span class="at">interval_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">point_fill =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb122-16"><a href="stats_processing_time.html#cb122-16" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.01</span></span>
<span id="cb122-17"><a href="stats_processing_time.html#cb122-17" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-18"><a href="stats_processing_time.html#cb122-18" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(</span>
<span id="cb122-19"><a href="stats_processing_time.html#cb122-19" tabindex="-1"></a>      <span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">begin =</span> <span class="fl">0.3</span></span>
<span id="cb122-20"><a href="stats_processing_time.html#cb122-20" tabindex="-1"></a>      , <span class="at">drop =</span> F</span>
<span id="cb122-21"><a href="stats_processing_time.html#cb122-21" tabindex="-1"></a>      <span class="co"># , labels = scales::percent</span></span>
<span id="cb122-22"><a href="stats_processing_time.html#cb122-22" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-23"><a href="stats_processing_time.html#cb122-23" tabindex="-1"></a>    <span class="co"># scale_fill_viridis_c(</span></span>
<span id="cb122-24"><a href="stats_processing_time.html#cb122-24" tabindex="-1"></a>    <span class="co">#   option = &quot;mako&quot;, begin = 0.3, direction = -1</span></span>
<span id="cb122-25"><a href="stats_processing_time.html#cb122-25" tabindex="-1"></a>    <span class="co">#   , labels = scales::percent</span></span>
<span id="cb122-26"><a href="stats_processing_time.html#cb122-26" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb122-27"><a href="stats_processing_time.html#cb122-27" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(</span>
<span id="cb122-28"><a href="stats_processing_time.html#cb122-28" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">suffix =</span> <span class="st">&quot; mins&quot;</span>, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb122-29"><a href="stats_processing_time.html#cb122-29" tabindex="-1"></a>      , <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">100</span>,<span class="dv">300</span>,<span class="dv">800</span>)</span>
<span id="cb122-30"><a href="stats_processing_time.html#cb122-30" tabindex="-1"></a>        <span class="co"># scales::breaks_log(n = 8)</span></span>
<span id="cb122-31"><a href="stats_processing_time.html#cb122-31" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-32"><a href="stats_processing_time.html#cb122-32" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode)) <span class="sc">+</span></span>
<span id="cb122-33"><a href="stats_processing_time.html#cb122-33" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb122-34"><a href="stats_processing_time.html#cb122-34" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span></span>
<span id="cb122-35"><a href="stats_processing_time.html#cb122-35" tabindex="-1"></a>      , <span class="at">x =</span> <span class="st">&quot;constrast (mins.)&quot;</span></span>
<span id="cb122-36"><a href="stats_processing_time.html#cb122-36" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;95% &amp; 50% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb122-37"><a href="stats_processing_time.html#cb122-37" tabindex="-1"></a>      , <span class="at">fill =</span> <span class="st">&quot;Pr(contrast &gt; 0)&quot;</span></span>
<span id="cb122-38"><a href="stats_processing_time.html#cb122-38" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-39"><a href="stats_processing_time.html#cb122-39" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb122-40"><a href="stats_processing_time.html#cb122-40" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb122-41"><a href="stats_processing_time.html#cb122-41" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb122-42"><a href="stats_processing_time.html#cb122-42" tabindex="-1"></a>      , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb122-43"><a href="stats_processing_time.html#cb122-43" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb122-44"><a href="stats_processing_time.html#cb122-44" tabindex="-1"></a>      , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb122-45"><a href="stats_processing_time.html#cb122-45" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb122-46"><a href="stats_processing_time.html#cb122-46" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb122-47"><a href="stats_processing_time.html#cb122-47" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="cn">NA</span>, <span class="at">shape =</span> <span class="cn">NA</span>, <span class="at">lwd =</span> <span class="cn">NA</span>))</span>
<span id="cb122-48"><a href="stats_processing_time.html#cb122-48" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-74-1.png" width="1008" /></p>
<p>and summarize these contrasts</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="stats_processing_time.html#cb123-1" tabindex="-1"></a>brms_contrast_temp <span class="sc">%&gt;%</span></span>
<span id="cb123-2"><a href="stats_processing_time.html#cb123-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb123-3"><a href="stats_processing_time.html#cb123-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">median_hdi</span>(value) <span class="sc">%&gt;%</span> </span>
<span id="cb123-4"><a href="stats_processing_time.html#cb123-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(contrast, depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb123-5"><a href="stats_processing_time.html#cb123-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(contrast, depth_maps_generation_filtering_mode, value, .lower, .upper) <span class="sc">%&gt;%</span> </span>
<span id="cb123-6"><a href="stats_processing_time.html#cb123-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">difference=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb123-7"><a href="stats_processing_time.html#cb123-7" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb123-8"><a href="stats_processing_time.html#cb123-8" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span></span>
<span id="cb123-9"><a href="stats_processing_time.html#cb123-9" tabindex="-1"></a>    , <span class="at">caption =</span> <span class="st">&quot;brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts&quot;</span></span>
<span id="cb123-10"><a href="stats_processing_time.html#cb123-10" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb123-11"><a href="stats_processing_time.html#cb123-11" tabindex="-1"></a>      <span class="st">&quot;quality contrast&quot;</span></span>
<span id="cb123-12"><a href="stats_processing_time.html#cb123-12" tabindex="-1"></a>      , <span class="st">&quot;filtering mode&quot;</span></span>
<span id="cb123-13"><a href="stats_processing_time.html#cb123-13" tabindex="-1"></a>      , <span class="st">&quot;difference (mins.)&quot;</span></span>
<span id="cb123-14"><a href="stats_processing_time.html#cb123-14" tabindex="-1"></a>      , <span class="st">&quot;conf.low&quot;</span>, <span class="st">&quot;conf.high&quot;</span></span>
<span id="cb123-15"><a href="stats_processing_time.html#cb123-15" tabindex="-1"></a>    )</span>
<span id="cb123-16"><a href="stats_processing_time.html#cb123-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb123-17"><a href="stats_processing_time.html#cb123-17" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb123-18"><a href="stats_processing_time.html#cb123-18" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">height =</span> <span class="st">&quot;6in&quot;</span>)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:6in; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-75">Table 4.20: </span>brms::brm model: 95% HDI of the posterior distribution of conditional mean group constrasts
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
quality contrast
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
filtering mode
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
difference (mins.)
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.low
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
conf.high
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
45.8
</td>
<td style="text-align:right;">
35.1
</td>
<td style="text-align:right;">
58.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
61.9
</td>
<td style="text-align:right;">
47.0
</td>
<td style="text-align:right;">
77.1
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
64.7
</td>
<td style="text-align:right;">
49.3
</td>
<td style="text-align:right;">
80.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - high
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
77.9
</td>
<td style="text-align:right;">
60.0
</td>
<td style="text-align:right;">
97.9
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
55.0
</td>
<td style="text-align:right;">
43.2
</td>
<td style="text-align:right;">
69.1
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
74.2
</td>
<td style="text-align:right;">
58.7
</td>
<td style="text-align:right;">
92.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
78.5
</td>
<td style="text-align:right;">
62.2
</td>
<td style="text-align:right;">
97.1
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
95.7
</td>
<td style="text-align:right;">
75.5
</td>
<td style="text-align:right;">
118.6
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
58.5
</td>
<td style="text-align:right;">
45.7
</td>
<td style="text-align:right;">
72.7
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
78.4
</td>
<td style="text-align:right;">
63.2
</td>
<td style="text-align:right;">
98.2
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
82.9
</td>
<td style="text-align:right;">
65.2
</td>
<td style="text-align:right;">
101.3
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
101.4
</td>
<td style="text-align:right;">
80.2
</td>
<td style="text-align:right;">
125.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
59.6
</td>
<td style="text-align:right;">
46.8
</td>
<td style="text-align:right;">
74.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
79.5
</td>
<td style="text-align:right;">
64.1
</td>
<td style="text-align:right;">
99.5
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
84.0
</td>
<td style="text-align:right;">
66.7
</td>
<td style="text-align:right;">
103.0
</td>
</tr>
<tr>
<td style="text-align:left;">
ultra high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
102.7
</td>
<td style="text-align:right;">
81.8
</td>
<td style="text-align:right;">
127.0
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
9.2
</td>
<td style="text-align:right;">
6.4
</td>
<td style="text-align:right;">
11.8
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
12.3
</td>
<td style="text-align:right;">
9.3
</td>
<td style="text-align:right;">
15.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
13.7
</td>
<td style="text-align:right;">
10.4
</td>
<td style="text-align:right;">
17.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high - medium
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
17.6
</td>
<td style="text-align:right;">
13.3
</td>
<td style="text-align:right;">
22.6
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
12.8
</td>
<td style="text-align:right;">
9.7
</td>
<td style="text-align:right;">
15.9
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
16.6
</td>
<td style="text-align:right;">
13.0
</td>
<td style="text-align:right;">
20.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
18.1
</td>
<td style="text-align:right;">
14.2
</td>
<td style="text-align:right;">
22.4
</td>
</tr>
<tr>
<td style="text-align:left;">
high - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
23.3
</td>
<td style="text-align:right;">
18.2
</td>
<td style="text-align:right;">
29.0
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
13.8
</td>
<td style="text-align:right;">
10.7
</td>
<td style="text-align:right;">
17.1
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
17.6
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
21.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
19.3
</td>
<td style="text-align:right;">
15.2
</td>
<td style="text-align:right;">
23.7
</td>
</tr>
<tr>
<td style="text-align:left;">
high - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
24.6
</td>
<td style="text-align:right;">
19.7
</td>
<td style="text-align:right;">
30.8
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
2.7
</td>
<td style="text-align:right;">
4.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
5.3
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
4.4
</td>
<td style="text-align:right;">
3.3
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - low
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
5.6
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
7.2
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
4.6
</td>
<td style="text-align:right;">
3.6
</td>
<td style="text-align:right;">
5.7
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
5.3
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:right;">
6.6
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
6.8
</td>
</tr>
<tr>
<td style="text-align:left;">
medium - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
6.9
</td>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
8.6
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
aggressive
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
moderate
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
mild
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
1.5
</td>
</tr>
<tr>
<td style="text-align:left;">
low - lowest
</td>
<td style="text-align:left;">
disabled
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
1.7
</td>
</tr>
</tbody>
</table>
</div>
<p>let’s collapse across the filtering mode and study site to compare the depth map quality setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<p>we continue to use <code>ggplot2::scale_x_log10</code></p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="stats_processing_time.html#cb124-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb124-2"><a href="stats_processing_time.html#cb124-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb124-3"><a href="stats_processing_time.html#cb124-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb124-4"><a href="stats_processing_time.html#cb124-4" tabindex="-1"></a>    brms4_mod</span>
<span id="cb124-5"><a href="stats_processing_time.html#cb124-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb124-6"><a href="stats_processing_time.html#cb124-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb124-7"><a href="stats_processing_time.html#cb124-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb124-8"><a href="stats_processing_time.html#cb124-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb124-9"><a href="stats_processing_time.html#cb124-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb124-10"><a href="stats_processing_time.html#cb124-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb124-11"><a href="stats_processing_time.html#cb124-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb124-12"><a href="stats_processing_time.html#cb124-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_quality</span>
<span id="cb124-13"><a href="stats_processing_time.html#cb124-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_quality</span>
<span id="cb124-14"><a href="stats_processing_time.html#cb124-14" tabindex="-1"></a>    )</span>
<span id="cb124-15"><a href="stats_processing_time.html#cb124-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb124-16"><a href="stats_processing_time.html#cb124-16" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">0.1</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb124-17"><a href="stats_processing_time.html#cb124-17" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(<span class="at">quantiles =</span> <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb124-18"><a href="stats_processing_time.html#cb124-18" tabindex="-1"></a>    <span class="co"># tidybayes::stat_halfeye(</span></span>
<span id="cb124-19"><a href="stats_processing_time.html#cb124-19" tabindex="-1"></a>    <span class="co">#   point_interval = median_hdi, .width = .95</span></span>
<span id="cb124-20"><a href="stats_processing_time.html#cb124-20" tabindex="-1"></a>    <span class="co">#   , interval_color = &quot;gray66&quot;</span></span>
<span id="cb124-21"><a href="stats_processing_time.html#cb124-21" tabindex="-1"></a>    <span class="co">#   , shape = 21, point_color = &quot;gray66&quot;, point_fill = &quot;black&quot;</span></span>
<span id="cb124-22"><a href="stats_processing_time.html#cb124-22" tabindex="-1"></a>    <span class="co">#   , justification = -0.01</span></span>
<span id="cb124-23"><a href="stats_processing_time.html#cb124-23" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb124-24"><a href="stats_processing_time.html#cb124-24" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;inferno&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb124-25"><a href="stats_processing_time.html#cb124-25" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(</span>
<span id="cb124-26"><a href="stats_processing_time.html#cb124-26" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">suffix =</span> <span class="st">&quot; mins&quot;</span>, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb124-27"><a href="stats_processing_time.html#cb124-27" tabindex="-1"></a>      , <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">100</span>,<span class="dv">300</span>,<span class="dv">1000</span>)</span>
<span id="cb124-28"><a href="stats_processing_time.html#cb124-28" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb124-29"><a href="stats_processing_time.html#cb124-29" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb124-30"><a href="stats_processing_time.html#cb124-30" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;depth map quality&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb124-31"><a href="stats_processing_time.html#cb124-31" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb124-32"><a href="stats_processing_time.html#cb124-32" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb124-33"><a href="stats_processing_time.html#cb124-33" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb124-34"><a href="stats_processing_time.html#cb124-34" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>, <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-76-1.png" width="1008" /></p>
<p>let’s compare these results to the results from our <a href="stats_processing_time.html#one_pred_mod_bays">one nominal predictor model above</a> and <a href="stats_processing_time.html#two_pred_mod_bays">two nominal predictor model without site effects above</a> and <a href="stats_processing_time.html#id_3_pred_mod_bays">two nominal predictor model with site effects above</a></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="stats_processing_time.html#cb125-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb125-2"><a href="stats_processing_time.html#cb125-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb125-3"><a href="stats_processing_time.html#cb125-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb125-4"><a href="stats_processing_time.html#cb125-4" tabindex="-1"></a>    brms4_mod</span>
<span id="cb125-5"><a href="stats_processing_time.html#cb125-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb125-6"><a href="stats_processing_time.html#cb125-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb125-7"><a href="stats_processing_time.html#cb125-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb125-8"><a href="stats_processing_time.html#cb125-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor: gamma&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb125-9"><a href="stats_processing_time.html#cb125-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb125-10"><a href="stats_processing_time.html#cb125-10" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb125-11"><a href="stats_processing_time.html#cb125-11" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb125-12"><a href="stats_processing_time.html#cb125-12" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb125-13"><a href="stats_processing_time.html#cb125-13" tabindex="-1"></a>        brms3_mod</span>
<span id="cb125-14"><a href="stats_processing_time.html#cb125-14" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb125-15"><a href="stats_processing_time.html#cb125-15" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb125-16"><a href="stats_processing_time.html#cb125-16" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb125-17"><a href="stats_processing_time.html#cb125-17" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor: gauss&quot;</span>)</span>
<span id="cb125-18"><a href="stats_processing_time.html#cb125-18" tabindex="-1"></a>    , ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb125-19"><a href="stats_processing_time.html#cb125-19" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb125-20"><a href="stats_processing_time.html#cb125-20" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb125-21"><a href="stats_processing_time.html#cb125-21" tabindex="-1"></a>        brms2_mod</span>
<span id="cb125-22"><a href="stats_processing_time.html#cb125-22" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb125-23"><a href="stats_processing_time.html#cb125-23" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_quality)</span>
<span id="cb125-24"><a href="stats_processing_time.html#cb125-24" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb125-25"><a href="stats_processing_time.html#cb125-25" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb125-26"><a href="stats_processing_time.html#cb125-26" tabindex="-1"></a>    , ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb125-27"><a href="stats_processing_time.html#cb125-27" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_quality) <span class="sc">%&gt;%</span> </span>
<span id="cb125-28"><a href="stats_processing_time.html#cb125-28" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(brms1_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb125-29"><a href="stats_processing_time.html#cb125-29" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;one nominal predictor&quot;</span>)</span>
<span id="cb125-30"><a href="stats_processing_time.html#cb125-30" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb125-31"><a href="stats_processing_time.html#cb125-31" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> src, <span class="at">x =</span> value, <span class="at">color =</span> src, <span class="at">group =</span> src)) <span class="sc">+</span></span>
<span id="cb125-32"><a href="stats_processing_time.html#cb125-32" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-33"><a href="stats_processing_time.html#cb125-33" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_pointinterval</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-34"><a href="stats_processing_time.html#cb125-34" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(depth_maps_generation_quality), <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-35"><a href="stats_processing_time.html#cb125-35" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb125-36"><a href="stats_processing_time.html#cb125-36" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb125-37"><a href="stats_processing_time.html#cb125-37" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">begin =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb125-38"><a href="stats_processing_time.html#cb125-38" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb125-39"><a href="stats_processing_time.html#cb125-39" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb125-40"><a href="stats_processing_time.html#cb125-40" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;model&quot;</span></span>
<span id="cb125-41"><a href="stats_processing_time.html#cb125-41" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb125-42"><a href="stats_processing_time.html#cb125-42" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb125-43"><a href="stats_processing_time.html#cb125-43" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb125-44"><a href="stats_processing_time.html#cb125-44" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb125-45"><a href="stats_processing_time.html#cb125-45" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb125-46"><a href="stats_processing_time.html#cb125-46" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb125-47"><a href="stats_processing_time.html#cb125-47" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">guide_legend</span>(</span>
<span id="cb125-48"><a href="stats_processing_time.html#cb125-48" tabindex="-1"></a>      <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T</span>
<span id="cb125-49"><a href="stats_processing_time.html#cb125-49" tabindex="-1"></a>      , <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">15</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">lwd =</span> <span class="cn">NA</span>)</span>
<span id="cb125-50"><a href="stats_processing_time.html#cb125-50" tabindex="-1"></a>    )</span>
<span id="cb125-51"><a href="stats_processing_time.html#cb125-51" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-77-1.png" width="1008" /></p>
<p>Notice that our gamma likelihood model constrains the processing time estimate to strictly positive values while the other models which utilized a Gaussian likelihood predict nonsensical negative processing times. The gamma distribution also does a nice job representing the right-skew observed in the processing time data.</p>
<p>Let’s check the posterior distribution for the overall grand mean <span class="math inline">\(\beta_{0}\)</span> to see how well the right-skew is represented (we also saw this in our posterior predictive checks). We’ll make use of <code>brms::fixef</code> and we use the <span class="math inline">\(exp()\)</span> to transform the predicted values because we are using the log link with the gamma likelihood</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="stats_processing_time.html#cb126-1" tabindex="-1"></a><span class="co"># we can make use of brms::fixef</span></span>
<span id="cb126-2"><a href="stats_processing_time.html#cb126-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">fixef</span>(brms4_mod, <span class="at">summary =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb126-3"><a href="stats_processing_time.html#cb126-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb126-4"><a href="stats_processing_time.html#cb126-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb126-5"><a href="stats_processing_time.html#cb126-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">exp</span>(Intercept)) <span class="sc">%&gt;%</span></span>
<span id="cb126-6"><a href="stats_processing_time.html#cb126-6" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb126-7"><a href="stats_processing_time.html#cb126-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb126-8"><a href="stats_processing_time.html#cb126-8" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb126-9"><a href="stats_processing_time.html#cb126-9" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb126-10"><a href="stats_processing_time.html#cb126-10" tabindex="-1"></a>      <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb126-11"><a href="stats_processing_time.html#cb126-11" tabindex="-1"></a>      , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb126-12"><a href="stats_processing_time.html#cb126-12" tabindex="-1"></a>      , <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">point_size =</span> <span class="dv">3</span></span>
<span id="cb126-13"><a href="stats_processing_time.html#cb126-13" tabindex="-1"></a>      , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb126-14"><a href="stats_processing_time.html#cb126-14" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb126-15"><a href="stats_processing_time.html#cb126-15" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;&quot;</span>,<span class="at">x=</span><span class="st">&quot;point cloud processing mins.&quot;</span>, <span class="at">subtitle =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;gamma likelihood model posterior distribution of the grand mean $</span><span class="sc">\\</span><span class="st">beta_0$&quot;</span>)) <span class="sc">+</span></span>
<span id="cb126-16"><a href="stats_processing_time.html#cb126-16" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb126-17"><a href="stats_processing_time.html#cb126-17" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb126-18"><a href="stats_processing_time.html#cb126-18" tabindex="-1"></a>    <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-78-1.png" width="1008" /></p>
<p>and get the summary statistics of the grand mean using <code>brms::as_draws_df</code> and <code>posterior::summarise_draws</code></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="stats_processing_time.html#cb127-1" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms4_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="stats_processing_time.html#cb127-2" tabindex="-1"></a>  <span class="fu">select</span>(b_Intercept) <span class="sc">%&gt;%</span> </span>
<span id="cb127-3"><a href="stats_processing_time.html#cb127-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">b_Intercept =</span> <span class="fu">exp</span>(b_Intercept)) <span class="sc">%&gt;%</span> </span>
<span id="cb127-4"><a href="stats_processing_time.html#cb127-4" tabindex="-1"></a>  posterior<span class="sc">::</span><span class="fu">summarise_draws</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb127-5"><a href="stats_processing_time.html#cb127-5" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">caption =</span> <span class="st">&quot;brms::brm model: summary statiscits of the grand mean&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb127-6"><a href="stats_processing_time.html#cb127-6" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-79">Table 4.21: </span>brms::brm model: summary statiscits of the grand mean
</caption>
<thead>
<tr>
<th style="text-align:left;">
variable
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
median
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
mad
</th>
<th style="text-align:right;">
q5
</th>
<th style="text-align:right;">
q95
</th>
<th style="text-align:right;">
rhat
</th>
<th style="text-align:right;">
ess_bulk
</th>
<th style="text-align:right;">
ess_tail
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
b_Intercept
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
7.5
</td>
<td style="text-align:right;">
15.6
</td>
<td style="text-align:right;">
5.7
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
32.4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2117.1
</td>
<td style="text-align:right;">
3176.9
</td>
</tr>
</tbody>
</table>
<p>For completeness, let’s also collapse across the depth map quality to compare the filtering mode setting effect.
In a hierarchical model structure, we have to make use of the <code>re_formula</code> argument within <code>tidybayes::add_epred_draws</code></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="stats_processing_time.html#cb128-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb128-2"><a href="stats_processing_time.html#cb128-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb128-3"><a href="stats_processing_time.html#cb128-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb128-4"><a href="stats_processing_time.html#cb128-4" tabindex="-1"></a>    brms4_mod</span>
<span id="cb128-5"><a href="stats_processing_time.html#cb128-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb128-6"><a href="stats_processing_time.html#cb128-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb128-7"><a href="stats_processing_time.html#cb128-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb128-8"><a href="stats_processing_time.html#cb128-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">value =</span> .epred) <span class="sc">%&gt;%</span> </span>
<span id="cb128-9"><a href="stats_processing_time.html#cb128-9" tabindex="-1"></a>  <span class="co"># plot</span></span>
<span id="cb128-10"><a href="stats_processing_time.html#cb128-10" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb128-11"><a href="stats_processing_time.html#cb128-11" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb128-12"><a href="stats_processing_time.html#cb128-12" tabindex="-1"></a>      <span class="at">x =</span> value, <span class="at">y =</span> depth_maps_generation_filtering_mode</span>
<span id="cb128-13"><a href="stats_processing_time.html#cb128-13" tabindex="-1"></a>      , <span class="at">fill =</span> depth_maps_generation_filtering_mode</span>
<span id="cb128-14"><a href="stats_processing_time.html#cb128-14" tabindex="-1"></a>    )</span>
<span id="cb128-15"><a href="stats_processing_time.html#cb128-15" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb128-16"><a href="stats_processing_time.html#cb128-16" tabindex="-1"></a>    <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">0.1</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>, <span class="at">lwd =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb128-17"><a href="stats_processing_time.html#cb128-17" tabindex="-1"></a>    tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(<span class="at">quantiles =</span> <span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb128-18"><a href="stats_processing_time.html#cb128-18" tabindex="-1"></a>    <span class="co"># tidybayes::stat_halfeye(</span></span>
<span id="cb128-19"><a href="stats_processing_time.html#cb128-19" tabindex="-1"></a>    <span class="co">#   point_interval = median_hdi, .width = .95</span></span>
<span id="cb128-20"><a href="stats_processing_time.html#cb128-20" tabindex="-1"></a>    <span class="co">#   , interval_color = &quot;gray66&quot;</span></span>
<span id="cb128-21"><a href="stats_processing_time.html#cb128-21" tabindex="-1"></a>    <span class="co">#   , shape = 21, point_color = &quot;gray66&quot;, point_fill = &quot;black&quot;</span></span>
<span id="cb128-22"><a href="stats_processing_time.html#cb128-22" tabindex="-1"></a>    <span class="co">#   , justification = -0.01</span></span>
<span id="cb128-23"><a href="stats_processing_time.html#cb128-23" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb128-24"><a href="stats_processing_time.html#cb128-24" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">drop =</span> F) <span class="sc">+</span></span>
<span id="cb128-25"><a href="stats_processing_time.html#cb128-25" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(</span>
<span id="cb128-26"><a href="stats_processing_time.html#cb128-26" tabindex="-1"></a>      <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">suffix =</span> <span class="st">&quot; mins&quot;</span>, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb128-27"><a href="stats_processing_time.html#cb128-27" tabindex="-1"></a>      , <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">100</span>,<span class="dv">300</span>,<span class="dv">1000</span>)</span>
<span id="cb128-28"><a href="stats_processing_time.html#cb128-28" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb128-29"><a href="stats_processing_time.html#cb128-29" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb128-30"><a href="stats_processing_time.html#cb128-30" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;filtering mode&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb128-31"><a href="stats_processing_time.html#cb128-31" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="st">&quot;posterior distribution of conditional means with 95% HDI&quot;</span></span>
<span id="cb128-32"><a href="stats_processing_time.html#cb128-32" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb128-33"><a href="stats_processing_time.html#cb128-33" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb128-34"><a href="stats_processing_time.html#cb128-34" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>, <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-80-1.png" width="1008" /></p>
<p>let’s compare these results to the results from our <a href="stats_processing_time.html#one_pred_mod_bays">one nominal predictor model above</a> and <a href="stats_processing_time.html#two_pred_mod_bays">two nominal predictor model without site effects above</a> and <a href="stats_processing_time.html#id_3_pred_mod_bays">two nominal predictor model with site effects above</a></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="stats_processing_time.html#cb129-1" tabindex="-1"></a>ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb129-2"><a href="stats_processing_time.html#cb129-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb129-3"><a href="stats_processing_time.html#cb129-3" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb129-4"><a href="stats_processing_time.html#cb129-4" tabindex="-1"></a>    brms4_mod</span>
<span id="cb129-5"><a href="stats_processing_time.html#cb129-5" tabindex="-1"></a>    <span class="co"># this part is crucial</span></span>
<span id="cb129-6"><a href="stats_processing_time.html#cb129-6" tabindex="-1"></a>    , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb129-7"><a href="stats_processing_time.html#cb129-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb129-8"><a href="stats_processing_time.html#cb129-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor: gamma&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb129-9"><a href="stats_processing_time.html#cb129-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb129-10"><a href="stats_processing_time.html#cb129-10" tabindex="-1"></a>    ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb129-11"><a href="stats_processing_time.html#cb129-11" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb129-12"><a href="stats_processing_time.html#cb129-12" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb129-13"><a href="stats_processing_time.html#cb129-13" tabindex="-1"></a>        brms3_mod</span>
<span id="cb129-14"><a href="stats_processing_time.html#cb129-14" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb129-15"><a href="stats_processing_time.html#cb129-15" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb129-16"><a href="stats_processing_time.html#cb129-16" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb129-17"><a href="stats_processing_time.html#cb129-17" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;site+two nominal predictor: gauss&quot;</span>)</span>
<span id="cb129-18"><a href="stats_processing_time.html#cb129-18" tabindex="-1"></a>    , ptime_data <span class="sc">%&gt;%</span> </span>
<span id="cb129-19"><a href="stats_processing_time.html#cb129-19" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">distinct</span>(depth_maps_generation_filtering_mode) <span class="sc">%&gt;%</span> </span>
<span id="cb129-20"><a href="stats_processing_time.html#cb129-20" tabindex="-1"></a>      tidybayes<span class="sc">::</span><span class="fu">add_epred_draws</span>(</span>
<span id="cb129-21"><a href="stats_processing_time.html#cb129-21" tabindex="-1"></a>        brms2_mod</span>
<span id="cb129-22"><a href="stats_processing_time.html#cb129-22" tabindex="-1"></a>        <span class="co"># this part is crucial</span></span>
<span id="cb129-23"><a href="stats_processing_time.html#cb129-23" tabindex="-1"></a>        , <span class="at">re_formula =</span> <span class="sc">~</span> (<span class="dv">1</span> <span class="sc">|</span> depth_maps_generation_filtering_mode)</span>
<span id="cb129-24"><a href="stats_processing_time.html#cb129-24" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb129-25"><a href="stats_processing_time.html#cb129-25" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> .epred, <span class="at">src =</span> <span class="st">&quot;two nominal predictor&quot;</span>)</span>
<span id="cb129-26"><a href="stats_processing_time.html#cb129-26" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb129-27"><a href="stats_processing_time.html#cb129-27" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> src, <span class="at">x =</span> value, <span class="at">color =</span> src, <span class="at">group =</span> src)) <span class="sc">+</span></span>
<span id="cb129-28"><a href="stats_processing_time.html#cb129-28" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray44&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-29"><a href="stats_processing_time.html#cb129-29" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_pointinterval</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-30"><a href="stats_processing_time.html#cb129-30" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(depth_maps_generation_filtering_mode), <span class="at">switch =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-31"><a href="stats_processing_time.html#cb129-31" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb129-32"><a href="stats_processing_time.html#cb129-32" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb129-33"><a href="stats_processing_time.html#cb129-33" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="at">n =</span> <span class="dv">4</span>, <span class="at">begin =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>)[<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)]) <span class="sc">+</span></span>
<span id="cb129-34"><a href="stats_processing_time.html#cb129-34" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb129-35"><a href="stats_processing_time.html#cb129-35" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>, <span class="at">x =</span> <span class="st">&quot;point cloud processing mins.&quot;</span></span>
<span id="cb129-36"><a href="stats_processing_time.html#cb129-36" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;model&quot;</span></span>
<span id="cb129-37"><a href="stats_processing_time.html#cb129-37" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb129-38"><a href="stats_processing_time.html#cb129-38" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb129-39"><a href="stats_processing_time.html#cb129-39" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb129-40"><a href="stats_processing_time.html#cb129-40" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>, <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb129-41"><a href="stats_processing_time.html#cb129-41" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb129-42"><a href="stats_processing_time.html#cb129-42" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb129-43"><a href="stats_processing_time.html#cb129-43" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">guide_legend</span>(</span>
<span id="cb129-44"><a href="stats_processing_time.html#cb129-44" tabindex="-1"></a>      <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T</span>
<span id="cb129-45"><a href="stats_processing_time.html#cb129-45" tabindex="-1"></a>      , <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">15</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">lwd =</span> <span class="cn">NA</span>)</span>
<span id="cb129-46"><a href="stats_processing_time.html#cb129-46" tabindex="-1"></a>    )</span>
<span id="cb129-47"><a href="stats_processing_time.html#cb129-47" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-81-1.png" width="1008" /></p>
<p>Finally, we can quantify the variation in processing time by comparing the <span class="math inline">\(\sigma\)</span> posteriors.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="stats_processing_time.html#cb130-1" tabindex="-1"></a><span class="co"># extract the posterior draws</span></span>
<span id="cb130-2"><a href="stats_processing_time.html#cb130-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">as_draws_df</span>(brms4_mod) <span class="sc">%&gt;%</span> </span>
<span id="cb130-3"><a href="stats_processing_time.html#cb130-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(shape,tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;sd_&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb130-4"><a href="stats_processing_time.html#cb130-4" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(dplyr<span class="sc">::</span><span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb130-5"><a href="stats_processing_time.html#cb130-5" tabindex="-1"></a>  <span class="co"># dplyr::group_by(name) %&gt;% </span></span>
<span id="cb130-6"><a href="stats_processing_time.html#cb130-6" tabindex="-1"></a>  <span class="co"># tidybayes::median_hdi(value) %&gt;% </span></span>
<span id="cb130-7"><a href="stats_processing_time.html#cb130-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb130-8"><a href="stats_processing_time.html#cb130-8" tabindex="-1"></a>    <span class="at">name =</span> name <span class="sc">%&gt;%</span> </span>
<span id="cb130-9"><a href="stats_processing_time.html#cb130-9" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_quality&quot;</span>, <span class="st">&quot;quality&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb130-10"><a href="stats_processing_time.html#cb130-10" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;depth_maps_generation_filtering_mode&quot;</span>, <span class="st">&quot;filtering&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb130-11"><a href="stats_processing_time.html#cb130-11" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(value)</span>
<span id="cb130-12"><a href="stats_processing_time.html#cb130-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb130-13"><a href="stats_processing_time.html#cb130-13" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb130-14"><a href="stats_processing_time.html#cb130-14" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> name)) <span class="sc">+</span></span>
<span id="cb130-15"><a href="stats_processing_time.html#cb130-15" tabindex="-1"></a>  tidybayes<span class="sc">::</span><span class="fu">stat_dotsinterval</span>(</span>
<span id="cb130-16"><a href="stats_processing_time.html#cb130-16" tabindex="-1"></a>    <span class="at">point_interval =</span> median_hdi, <span class="at">.width =</span> .<span class="dv">95</span></span>
<span id="cb130-17"><a href="stats_processing_time.html#cb130-17" tabindex="-1"></a>    , <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.04</span></span>
<span id="cb130-18"><a href="stats_processing_time.html#cb130-18" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">21</span> <span class="co">#, point_size = 3</span></span>
<span id="cb130-19"><a href="stats_processing_time.html#cb130-19" tabindex="-1"></a>    , <span class="at">quantiles =</span> <span class="dv">100</span></span>
<span id="cb130-20"><a href="stats_processing_time.html#cb130-20" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb130-21"><a href="stats_processing_time.html#cb130-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb130-22"><a href="stats_processing_time.html#cb130-22" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="metashape_testing_files/figure-html/unnamed-chunk-82-1.png" width="1008" /></p>
<p>and perform model selection via information criteria with the <code>brms::loo_compare()</code> function</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="stats_processing_time.html#cb131-1" tabindex="-1"></a>brms4_mod <span class="ot">=</span> brms<span class="sc">::</span><span class="fu">add_criterion</span>(brms4_mod, <span class="at">criterion =</span> <span class="fu">c</span>(<span class="st">&quot;loo&quot;</span>, <span class="st">&quot;waic&quot;</span>))</span>
<span id="cb131-2"><a href="stats_processing_time.html#cb131-2" tabindex="-1"></a>brms<span class="sc">::</span><span class="fu">loo_compare</span>(brms1_mod, brms2_mod, brms3_mod, brms4_mod, <span class="at">criterion =</span> <span class="st">&quot;loo&quot;</span>)</span></code></pre></div>
<pre><code>##           elpd_diff se_diff
## brms4_mod    0.0       0.0 
## brms3_mod -210.3      17.0 
## brms2_mod -216.9      16.9 
## brms1_mod -233.3      18.7</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="stats_processing_time.html#cb133-1" tabindex="-1"></a><span class="co"># brms::model_weights(brms1_mod, brms2_mod, brms3_mod, brms4_mod) %&gt;% round(3)</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ptcld_analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="field_valid.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
